<!DOCTYPE html>
<html lang="en" class="application">
<head>
<title>crm v0.0.0.84(forked) - StackBlitz</title>
<meta charset="utf-8">
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"NRJS-703e25b2978c2fd54f3","applicationID":"502027659","transactionName":"IQ1dRhFbD1pdRBlIRg0IVlEXR0xTXF9C","queueTime":0,"applicationTime":777,"agent":""}</script>
<script type="text/javascript">(window.NREUM||(NREUM={})).init={privacy:{cookies_enabled:false},ajax:{deny_list:["bam.nr-data.net"]}};(window.NREUM||(NREUM={})).loader_config={xpid:"VwcPUldXCRAFVFNSBQYBU10=",licenseKey:"NRJS-703e25b2978c2fd54f3",applicationID:"502027659"};;/*! For license information please see nr-loader-spa-1.269.0.min.js.LICENSE.txt */
(()=>{var e,t,r={8122:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var n=r(944);function i(e,t){try{if(!e||"object"!=typeof e)return(0,n.R)(3);if(!t||"object"!=typeof t)return(0,n.R)(4);const r=Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),o=0===Object.keys(r).length?e:r;for(let a in o)if(void 0!==e[a])try{if(null===e[a]){r[a]=null;continue}Array.isArray(e[a])&&Array.isArray(t[a])?r[a]=Array.from(new Set([...e[a],...t[a]])):"object"==typeof e[a]&&"object"==typeof t[a]?r[a]=i(e[a],t[a]):r[a]=e[a]}catch(e){(0,n.R)(1,e)}return r}catch(e){(0,n.R)(2,e)}}},2555:(e,t,r)=>{"use strict";r.d(t,{Vp:()=>c,fn:()=>s,x1:()=>u});var n=r(384),i=r(8122);const o={beacon:n.NT.beacon,errorBeacon:n.NT.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0},a={};function s(e){try{const t=c(e);return!!t.licenseKey&&!!t.errorBeacon&&!!t.applicationID}catch(e){return!1}}function c(e){if(!e)throw new Error("All info objects require an agent identifier!");if(!a[e])throw new Error("Info for ".concat(e," was never set"));return a[e]}function u(e,t){if(!e)throw new Error("All info objects require an agent identifier!");a[e]=(0,i.a)(t,o);const r=(0,n.nY)(e);r&&(r.info=a[e])}},9417:(e,t,r)=>{"use strict";r.d(t,{D0:()=>h,gD:()=>p,xN:()=>g});var n=r(993);const i=e=>{if(!e||"string"!=typeof e)return!1;try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0};var o=r(2614),a=r(944),s=r(384),c=r(8122);const u="[data-nr-mask]",d=()=>{const e={mask_selector:"*",block_selector:"[data-nr-block]",mask_input_options:{color:!1,date:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:!1,search:!1,tel:!1,text:!1,time:!1,url:!1,week:!1,textarea:!1,select:!1,password:!0}};return{ajax:{deny_list:void 0,block_internal:!0,enabled:!0,harvestTimeSeconds:10,autoStart:!0},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},feature_flags:[],generic_events:{enabled:!0,harvestTimeSeconds:30,autoStart:!0},harvest:{tooManyRequestsDelay:60},jserrors:{enabled:!0,harvestTimeSeconds:10,autoStart:!0},logging:{enabled:!0,harvestTimeSeconds:10,autoStart:!0,level:n.p_.INFO},metrics:{enabled:!0,autoStart:!0},obfuscate:void 0,page_action:{enabled:!0},user_actions:{enabled:!0},page_view_event:{enabled:!0,autoStart:!0},page_view_timing:{enabled:!0,harvestTimeSeconds:30,autoStart:!0},privacy:{cookies_enabled:!0},proxy:{assets:void 0,beacon:void 0},session:{expiresMs:o.wk,inactiveMs:o.BB},session_replay:{autoStart:!0,enabled:!1,harvestTimeSeconds:60,preload:!1,sampling_rate:10,error_sampling_rate:100,collect_fonts:!1,inline_images:!1,fix_stylesheets:!0,mask_all_inputs:!0,get mask_text_selector(){return e.mask_selector},set mask_text_selector(t){i(t)?e.mask_selector="".concat(t,",").concat(u):""===t||null===t?e.mask_selector=u:(0,a.R)(5,t)},get block_class(){return"nr-block"},get ignore_class(){return"nr-ignore"},get mask_text_class(){return"nr-mask"},get block_selector(){return e.block_selector},set block_selector(t){i(t)?e.block_selector+=",".concat(t):""!==t&&(0,a.R)(6,t)},get mask_input_options(){return e.mask_input_options},set mask_input_options(t){t&&"object"==typeof t?e.mask_input_options={...t,password:!0}:(0,a.R)(7,t)}},session_trace:{enabled:!0,harvestTimeSeconds:10,autoStart:!0},soft_navigations:{enabled:!0,harvestTimeSeconds:10,autoStart:!0},spa:{enabled:!0,harvestTimeSeconds:10,autoStart:!0},ssl:void 0}},l={},f="All configuration objects require an agent identifier!";function h(e){if(!e)throw new Error(f);if(!l[e])throw new Error("Configuration for ".concat(e," was never set"));return l[e]}function g(e,t){if(!e)throw new Error(f);l[e]=(0,c.a)(t,d());const r=(0,s.nY)(e);r&&(r.init=l[e])}function p(e,t){if(!e)throw new Error(f);var r=h(e);if(r){for(var n=t.split("."),i=0;i<n.length-1;i++)if("object"!=typeof(r=r[n[i]]))return;r=r[n[n.length-1]]}return r}},5603:(e,t,r)=>{"use strict";r.d(t,{a:()=>c,o:()=>s});var n=r(384),i=r(8122);const o={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},a={};function s(e){if(!e)throw new Error("All loader-config objects require an agent identifier!");if(!a[e])throw new Error("LoaderConfig for ".concat(e," was never set"));return a[e]}function c(e,t){if(!e)throw new Error("All loader-config objects require an agent identifier!");a[e]=(0,i.a)(t,o);const r=(0,n.nY)(e);r&&(r.loader_config=a[e])}},3371:(e,t,r)=>{"use strict";r.d(t,{V:()=>f,f:()=>l});var n=r(8122),i=r(384),o=r(6154),a=r(9324);let s=0;const c={buildEnv:a.F3,distMethod:a.Xs,version:a.xv,originTime:o.WN},u={customTransaction:void 0,disabled:!1,isolatedBacklog:!1,loaderType:void 0,maxBytes:3e4,onerror:void 0,origin:""+o.gm.location,ptid:void 0,releaseIds:{},appMetadata:{},session:void 0,denyList:void 0,timeKeeper:void 0,obfuscator:void 0},d={};function l(e){if(!e)throw new Error("All runtime objects require an agent identifier!");if(!d[e])throw new Error("Runtime for ".concat(e," was never set"));return d[e]}function f(e,t){if(!e)throw new Error("All runtime objects require an agent identifier!");d[e]={...(0,n.a)(t,u),...c},Object.hasOwnProperty.call(d[e],"harvestCount")||Object.defineProperty(d[e],"harvestCount",{get:()=>++s});const r=(0,i.nY)(e);r&&(r.runtime=d[e])}},9324:(e,t,r)=>{"use strict";r.d(t,{F3:()=>i,Xs:()=>o,Yq:()=>a,xv:()=>n});const n="1.269.0",i="PROD",o="CDN",a="2.0.0-alpha.12"},6154:(e,t,r)=>{"use strict";r.d(t,{A4:()=>s,OF:()=>d,RI:()=>i,Vr:()=>h,WN:()=>g,bv:()=>o,gm:()=>a,lR:()=>f,m:()=>u,mw:()=>c,sb:()=>l});var n=r(1863);const i="undefined"!=typeof window&&!!window.document,o="undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self.navigator instanceof WorkerNavigator||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis.navigator instanceof WorkerNavigator),a=i?window:"undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis),s="complete"===a?.document?.readyState,c=Boolean("hidden"===a?.document?.visibilityState),u=""+a?.location,d=/iPad|iPhone|iPod/.test(a.navigator?.userAgent),l=d&&"undefined"==typeof SharedWorker,f=(()=>{const e=a.navigator?.userAgent?.match(/Firefox[/\s](\d+\.\d+)/);return Array.isArray(e)&&e.length>=2?+e[1]:0})(),h=!!a.navigator?.sendBeacon,g=Date.now()-(0,n.t)()},4777:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var n=r(944);const i={agentIdentifier:"",ee:void 0};class o{constructor(e){try{if("object"!=typeof e)return(0,n.R)(8);this.sharedContext={},Object.assign(this.sharedContext,i),Object.entries(e).forEach((([e,t])=>{Object.keys(i).includes(e)&&(this.sharedContext[e]=t)}))}catch(e){(0,n.R)(9,e)}}}},7295:(e,t,r)=>{"use strict";r.d(t,{Xv:()=>a,gX:()=>i,iW:()=>o});var n=[];function i(e){if(!e||o(e))return!1;if(0===n.length)return!0;for(var t=0;t<n.length;t++){var r=n[t];if("*"===r.hostname)return!1;if(s(r.hostname,e.hostname)&&c(r.pathname,e.pathname))return!1}return!0}function o(e){return void 0===e.hostname}function a(e){if(n=[],e&&e.length)for(var t=0;t<e.length;t++){let r=e[t];if(!r)continue;0===r.indexOf("http://")?r=r.substring(7):0===r.indexOf("https://")&&(r=r.substring(8));const i=r.indexOf("/");let o,a;i>0?(o=r.substring(0,i),a=r.substring(i)):(o=r,a="");let[s]=o.split(":");n.push({hostname:s,pathname:a})}}function s(e,t){return!(e.length>t.length)&&t.indexOf(e)===t.length-e.length}function c(e,t){return 0===e.indexOf("/")&&(e=e.substring(1)),0===t.indexOf("/")&&(t=t.substring(1)),""===e||e===t}},1687:(e,t,r)=>{"use strict";r.d(t,{Ak:()=>c,Ze:()=>l,x3:()=>u});var n=r(7836),i=r(3606),o=r(860),a=r(2646);const s={};function c(e,t){const r={staged:!1,priority:o.P[t]||0};d(e),s[e].get(t)||s[e].set(t,r)}function u(e,t){e&&s[e]&&(s[e].get(t)&&s[e].delete(t),h(e,t,!1),s[e].size&&f(e))}function d(e){if(!e)throw new Error("agentIdentifier required");s[e]||(s[e]=new Map)}function l(e="",t="feature",r=!1){if(d(e),!e||!s[e].get(t)||r)return h(e,t);s[e].get(t).staged=!0,f(e)}function f(e){const t=Array.from(s[e]);t.every((([e,t])=>t.staged))&&(t.sort(((e,t)=>e[1].priority-t[1].priority)),t.forEach((([t])=>{s[e].delete(t),h(e,t)})))}function h(e,t,r=!0){const o=e?n.ee.get(e):n.ee,s=i.i.handlers;if(!o.aborted&&o.backlog&&s){if(r){const e=o.backlog[t],r=s[t];if(r){for(let t=0;e&&t<e.length;++t)g(e[t],r);Object.entries(r).forEach((([e,t])=>{Object.values(t||{}).forEach((t=>{t[0]?.on&&t[0]?.context()instanceof a.y&&t[0].on(e,t[1])}))}))}}o.isolatedBacklog||delete s[t],o.backlog[t]=null,o.emit("drain-"+t,[])}}function g(e,t){var r=e[1];Object.values(t[r]||{}).forEach((t=>{var r=e[0];if(t[0]===r){var n=t[1],i=e[3],o=e[2];n.apply(i,o)}}))}},7836:(e,t,r)=>{"use strict";r.d(t,{P:()=>c,ee:()=>u});var n=r(384),i=r(8990),o=r(3371),a=r(2646),s=r(5607);const c="nr@context:".concat(s.W),u=function e(t,r){var n={},s={},d={},l=!1;try{l=16===r.length&&(0,o.f)(r).isolatedBacklog}catch(e){}var f={on:g,addEventListener:g,removeEventListener:function(e,t){var r=n[e];if(!r)return;for(var i=0;i<r.length;i++)r[i]===t&&r.splice(i,1)},emit:function(e,r,n,i,o){!1!==o&&(o=!0);if(u.aborted&&!i)return;t&&o&&t.emit(e,r,n);for(var a=h(n),c=p(e),d=c.length,l=0;l<d;l++)c[l].apply(a,r);var g=v()[s[e]];g&&g.push([f,e,r,a]);return a},get:m,listeners:p,context:h,buffer:function(e,t){const r=v();if(t=t||"feature",f.aborted)return;Object.entries(e||{}).forEach((([e,n])=>{s[n]=t,t in r||(r[t]=[])}))},abort:function(){f._aborted=!0,Object.keys(f.backlog).forEach((e=>{delete f.backlog[e]}))},isBuffering:function(e){return!!v()[s[e]]},debugId:r,backlog:l?{}:t&&"object"==typeof t.backlog?t.backlog:{},isolatedBacklog:l};return Object.defineProperty(f,"aborted",{get:()=>{let e=f._aborted||!1;return e||(t&&(e=t.aborted),e)}}),f;function h(e){return e&&e instanceof a.y?e:e?(0,i.I)(e,c,(()=>new a.y(c))):new a.y(c)}function g(e,t){n[e]=p(e).concat(t)}function p(e){return n[e]||[]}function m(t){return d[t]=d[t]||e(f,t)}function v(){return f.backlog}}(void 0,"globalEE"),d=(0,n.Zm)();d.ee||(d.ee=u)},2646:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});class n{constructor(e){this.contextId=e}}},9908:(e,t,r)=>{"use strict";r.d(t,{d:()=>n,p:()=>i});var n=r(7836).ee.get("handle");function i(e,t,r,i,o){o?(o.buffer([e],i),o.emit(e,t,r)):(n.buffer([e],i),n.emit(e,t,r))}},3606:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var n=r(9908);o.on=a;var i=o.handlers={};function o(e,t,r,o){a(o||n.d,i,e,t,r)}function a(e,t,r,i,o){o||(o="feature"),e||(e=n.d);var a=t[o]=t[o]||{};(a[r]=a[r]||[]).push([e,i])}},3878:(e,t,r)=>{"use strict";function n(e,t){return{capture:e,passive:!1,signal:t}}function i(e,t,r=!1,i){window.addEventListener(e,t,n(r,i))}function o(e,t,r=!1,i){document.addEventListener(e,t,n(r,i))}r.d(t,{DD:()=>o,jT:()=>n,sp:()=>i})},5607:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});const n=(0,r(9566).bz)()},9566:(e,t,r)=>{"use strict";r.d(t,{LA:()=>s,ZF:()=>c,bz:()=>a,el:()=>u});var n=r(6154);const i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function o(e,t){return e?15&e[t]:16*Math.random()|0}function a(){const e=n.gm?.crypto||n.gm?.msCrypto;let t,r=0;return e&&e.getRandomValues&&(t=e.getRandomValues(new Uint8Array(30))),i.split("").map((e=>"x"===e?o(t,r++).toString(16):"y"===e?(3&o()|8).toString(16):e)).join("")}function s(e){const t=n.gm?.crypto||n.gm?.msCrypto;let r,i=0;t&&t.getRandomValues&&(r=t.getRandomValues(new Uint8Array(e)));const a=[];for(var s=0;s<e;s++)a.push(o(r,i++).toString(16));return a.join("")}function c(){return s(16)}function u(){return s(32)}},2614:(e,t,r)=>{"use strict";r.d(t,{BB:()=>a,H3:()=>n,g:()=>u,iL:()=>c,tS:()=>s,uh:()=>i,wk:()=>o});const n="NRBA",i="SESSION",o=144e5,a=18e5,s={STARTED:"session-started",PAUSE:"session-pause",RESET:"session-reset",RESUME:"session-resume",UPDATE:"session-update"},c={SAME_TAB:"same-tab",CROSS_TAB:"cross-tab"},u={OFF:0,FULL:1,ERROR:2}},1863:(e,t,r)=>{"use strict";function n(){return Math.floor(performance.now())}r.d(t,{t:()=>n})},7485:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(6154);function i(e){if(0===(e||"").indexOf("data:"))return{protocol:"data"};try{const t=new URL(e,location.href),r={port:t.port,hostname:t.hostname,pathname:t.pathname,search:t.search,protocol:t.protocol.slice(0,t.protocol.indexOf(":")),sameOrigin:t.protocol===n.gm?.location?.protocol&&t.host===n.gm?.location?.host};return r.port&&""!==r.port||("http:"===t.protocol&&(r.port="80"),"https:"===t.protocol&&(r.port="443")),r.pathname&&""!==r.pathname?r.pathname.startsWith("/")||(r.pathname="/".concat(r.pathname)):r.pathname="/",r}catch(e){return{}}}},944:(e,t,r)=>{"use strict";function n(e,t){"function"==typeof console.debug&&console.debug("New Relic Warning: https://github.com/newrelic/newrelic-browser-agent/blob/main/docs/warning-codes.md#".concat(e),t)}r.d(t,{R:()=>n})},5284:(e,t,r)=>{"use strict";r.d(t,{t:()=>c,B:()=>s});var n=r(7836),i=r(6154);const o="newrelic";const a=new Set,s={};function c(e,t){const r=n.ee.get(t);s[t]??={},e&&"object"==typeof e&&(a.has(t)||(r.emit("rumresp",[e]),s[t]=e,a.add(t),function(e={}){try{i.gm.dispatchEvent(new CustomEvent(o,{detail:e}))}catch(e){}}({loaded:!0})))}},8990:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var n=Object.prototype.hasOwnProperty;function i(e,t,r){if(n.call(e,t))return e[t];var i=r();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},6389:(e,t,r)=>{"use strict";function n(e,t=500,r={}){const n=r?.leading||!1;let i;return(...r)=>{n&&void 0===i&&(e.apply(this,r),i=setTimeout((()=>{i=clearTimeout(i)}),t)),n||(clearTimeout(i),i=setTimeout((()=>{e.apply(this,r)}),t))}}function i(e){let t=!1;return(...r)=>{t||(t=!0,e.apply(this,r))}}r.d(t,{J:()=>i,s:()=>n})},3304:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(7836);const i=()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}};function o(e){try{return JSON.stringify(e,i())??""}catch(e){try{n.ee.emit("internal-error",[e])}catch(e){}return""}}},5289:(e,t,r)=>{"use strict";r.d(t,{GG:()=>o,sB:()=>a});var n=r(3878);function i(){return"undefined"==typeof document||"complete"===document.readyState}function o(e,t){if(i())return e();(0,n.sp)("load",e,t)}function a(e){if(i())return e();(0,n.DD)("DOMContentLoaded",e)}},384:(e,t,r)=>{"use strict";r.d(t,{NT:()=>o,US:()=>d,Zm:()=>a,bQ:()=>c,dV:()=>s,nY:()=>u,pV:()=>l});var n=r(6154),i=r(1863);const o={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net"};function a(){return n.gm.NREUM||(n.gm.NREUM={}),void 0===n.gm.newrelic&&(n.gm.newrelic=n.gm.NREUM),n.gm.NREUM}function s(){let e=a();return e.o||(e.o={ST:n.gm.setTimeout,SI:n.gm.setImmediate,CT:n.gm.clearTimeout,XHR:n.gm.XMLHttpRequest,REQ:n.gm.Request,EV:n.gm.Event,PR:n.gm.Promise,MO:n.gm.MutationObserver,FETCH:n.gm.fetch,WS:n.gm.WebSocket}),e}function c(e,t){let r=a();r.initializedAgents??={},t.initializedAt={ms:(0,i.t)(),date:new Date},r.initializedAgents[e]=t}function u(e){let t=a();return t.initializedAgents?.[e]}function d(e,t){a()[e]=t}function l(){return function(){let e=a();const t=e.info||{};e.info={beacon:o.beacon,errorBeacon:o.errorBeacon,...t}}(),function(){let e=a();const t=e.init||{};e.init={...t}}(),s(),function(){let e=a();const t=e.loader_config||{};e.loader_config={...t}}(),a()}},2843:(e,t,r)=>{"use strict";r.d(t,{u:()=>i});var n=r(3878);function i(e,t=!1,r,i){(0,n.DD)("visibilitychange",(function(){if(t)return void("hidden"===document.visibilityState&&e());e(document.visibilityState)}),r,i)}},8139:(e,t,r)=>{"use strict";r.d(t,{u:()=>f});var n=r(7836),i=r(3434),o=r(8990),a=r(6154);const s={},c=a.gm.XMLHttpRequest,u="addEventListener",d="removeEventListener",l="nr@wrapped:".concat(n.P);function f(e){var t=function(e){return(e||n.ee).get("events")}(e);if(s[t.debugId]++)return t;s[t.debugId]=1;var r=(0,i.YM)(t,!0);function f(e){r.inPlace(e,[u,d],"-",g)}function g(e,t){return e[1]}return"getPrototypeOf"in Object&&(a.RI&&h(document,f),h(a.gm,f),h(c.prototype,f)),t.on(u+"-start",(function(e,t){var n=e[1];if(null!==n&&("function"==typeof n||"object"==typeof n)){var i=(0,o.I)(n,l,(function(){var e={object:function(){if("function"!=typeof n.handleEvent)return;return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return e?r(e,"fn-",null,e.name||"anonymous"):n}));this.wrapped=e[1]=i}})),t.on(d+"-start",(function(e){e[1]=this.wrapped||e[1]})),t}function h(e,t,...r){let n=e;for(;"object"==typeof n&&!Object.prototype.hasOwnProperty.call(n,u);)n=Object.getPrototypeOf(n);n&&t(n,...r)}},3434:(e,t,r)=>{"use strict";r.d(t,{Jt:()=>o,YM:()=>c});var n=r(7836),i=r(5607);const o="nr@original:".concat(i.W);var a=Object.prototype.hasOwnProperty,s=!1;function c(e,t){return e||(e=n.ee),r.inPlace=function(e,t,n,i,o){n||(n="");const a="-"===n.charAt(0);for(let s=0;s<t.length;s++){const c=t[s],u=e[c];d(u)||(e[c]=r(u,a?c+n:n,i,c,o))}},r.flag=o,r;function r(t,r,n,s,c){return d(t)?t:(r||(r=""),nrWrapper[o]=t,function(e,t,r){if(Object.defineProperty&&Object.keys)try{return Object.keys(e).forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){return e[r]=t,t}})})),t}catch(e){u([e],r)}for(var n in e)a.call(e,n)&&(t[n]=e[n])}(t,nrWrapper,e),nrWrapper);function nrWrapper(){var o,a,d,l;try{a=this,o=[...arguments],d="function"==typeof n?n(o,a):n||{}}catch(t){u([t,"",[o,a,s],d],e)}i(r+"start",[o,a,s],d,c);try{return l=t.apply(a,o)}catch(e){throw i(r+"err",[o,a,e],d,c),e}finally{i(r+"end",[o,a,l],d,c)}}}function i(r,n,i,o){if(!s||t){var a=s;s=!0;try{e.emit(r,n,i,t,o)}catch(t){u([t,r,n,i],e)}s=a}}}function u(e,t){t||(t=n.ee);try{t.emit("internal-error",e)}catch(e){}}function d(e){return!(e&&"function"==typeof e&&e.apply&&!e[o])}},9300:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K.ajax},3333:(e,t,r)=>{"use strict";r.d(t,{TZ:()=>n,Zp:()=>i,mq:()=>s,nf:()=>a,qN:()=>o});const n=r(860).K.genericEvents,i=["auxclick","click","copy","keydown","paste","scrollend"],o=["focus","blur"],a=4,s=1e3},6774:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K.jserrors},993:(e,t,r)=>{"use strict";r.d(t,{ET:()=>o,TZ:()=>a,p_:()=>i});var n=r(860);const i={ERROR:"ERROR",WARN:"WARN",INFO:"INFO",DEBUG:"DEBUG",TRACE:"TRACE"},o="log",a=n.K.logging},3785:(e,t,r)=>{"use strict";r.d(t,{R:()=>c,b:()=>u});var n=r(9908),i=r(1863),o=r(860),a=r(3969),s=r(993);function c(e,t,r={},c=s.p_.INFO){(0,n.p)(a.xV,["API/logging/".concat(c.toLowerCase(),"/called")],void 0,o.K.metrics,e),(0,n.p)(s.ET,[(0,i.t)(),t,r,c],void 0,o.K.logging,e)}function u(e){return"string"==typeof e&&Object.values(s.p_).some((t=>t===e.toUpperCase().trim()))}},3969:(e,t,r)=>{"use strict";r.d(t,{TZ:()=>n,XG:()=>s,rs:()=>i,xV:()=>a,z_:()=>o});const n=r(860).K.metrics,i="sm",o="cm",a="storeSupportabilityMetrics",s="storeEventMetrics"},6630:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K.pageViewEvent},782:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K.pageViewTiming},6344:(e,t,r)=>{"use strict";r.d(t,{BB:()=>d,G4:()=>o,Qb:()=>l,TZ:()=>i,Ug:()=>a,_s:()=>s,bc:()=>u,yP:()=>c});var n=r(2614);const i=r(860).K.sessionReplay,o={RECORD:"recordReplay",PAUSE:"pauseReplay",REPLAY_RUNNING:"replayRunning",ERROR_DURING_REPLAY:"errorDuringReplay"},a=.12,s={DomContentLoaded:0,Load:1,FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Custom:5},c={[n.g.ERROR]:15e3,[n.g.FULL]:3e5,[n.g.OFF]:0},u={RESET:{message:"Session was reset",sm:"Reset"},IMPORT:{message:"Recorder failed to import",sm:"Import"},TOO_MANY:{message:"429: Too Many Requests",sm:"Too-Many"},TOO_BIG:{message:"Payload was too large",sm:"Too-Big"},CROSS_TAB:{message:"Session Entity was set to OFF on another tab",sm:"Cross-Tab"},ENTITLEMENTS:{message:"Session Replay is not allowed and will not be started",sm:"Entitlement"}},d=5e3,l={API:"api"}},5270:(e,t,r)=>{"use strict";r.d(t,{Aw:()=>c,CT:()=>u,SR:()=>s});var n=r(384),i=r(9417),o=r(7767),a=r(6154);function s(e){return!!(0,n.dV)().o.MO&&(0,o.V)(e)&&!0===(0,i.gD)(e,"session_trace.enabled")}function c(e){return!0===(0,i.gD)(e,"session_replay.preload")&&s(e)}function u(e,t){const r=t.correctAbsoluteTimestamp(e);return{originalTimestamp:e,correctedTimestamp:r,timestampDiff:e-r,originTime:a.WN,correctedOriginTime:t.correctedOriginTime,originTimeDiff:Math.floor(a.WN-t.correctedOriginTime)}}},3738:(e,t,r)=>{"use strict";r.d(t,{He:()=>i,Kp:()=>s,Lc:()=>u,Rz:()=>d,TZ:()=>n,bD:()=>o,d3:()=>a,jx:()=>l,uP:()=>c});const n=r(860).K.sessionTrace,i="bstResource",o="resource",a="-start",s="-end",c="fn"+a,u="fn"+s,d="pushState",l=1e3},3962:(e,t,r)=>{"use strict";r.d(t,{AM:()=>o,O2:()=>s,Qu:()=>c,TZ:()=>a,ih:()=>u,tC:()=>i});var n=r(860);const i=["click","keydown","submit"],o="api",a=n.K.softNav,s={INITIAL_PAGE_LOAD:"",ROUTE_CHANGE:1,UNSPECIFIED:2},c={INTERACTION:1,AJAX:2,CUSTOM_END:3,CUSTOM_TRACER:4},u={IP:"in progress",FIN:"finished",CAN:"cancelled"}},7378:(e,t,r)=>{"use strict";r.d(t,{$p:()=>R,BR:()=>b,Kp:()=>x,L3:()=>y,Lc:()=>c,NC:()=>o,SG:()=>d,TZ:()=>i,U6:()=>g,UT:()=>m,d3:()=>w,dT:()=>f,e5:()=>A,gx:()=>v,l9:()=>l,oW:()=>h,op:()=>p,rw:()=>u,tH:()=>E,uP:()=>s,wW:()=>T,xq:()=>a});var n=r(384);const i=r(860).K.spa,o=["click","submit","keypress","keydown","keyup","change"],a=999,s="fn-start",c="fn-end",u="cb-start",d="api-ixn-",l="remaining",f="interaction",h="spaNode",g="jsonpNode",p="fetch-start",m="fetch-done",v="fetch-body-",b="jsonp-end",y=(0,n.dV)().o.ST,w="-start",x="-end",R="-body",T="cb"+x,A="jsTime",E="fetch"},4234:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var n=r(7836);class i{constructor(e,t,r){this.agentIdentifier=e,this.aggregator=t,this.ee=n.ee.get(e),this.featureName=r,this.blocked=!1}}},7767:(e,t,r)=>{"use strict";r.d(t,{V:()=>o});var n=r(9417),i=r(6154);const o=e=>i.RI&&!0===(0,n.gD)(e,"privacy.cookies_enabled")},425:(e,t,r)=>{"use strict";r.d(t,{j:()=>j});var n=r(860),i=r(2555),o=r(3371),a=r(9908),s=r(7836),c=r(1687),u=r(5289),d=r(6154),l=r(944),f=r(3969),h=r(384),g=r(6344);const p=["setErrorHandler","finished","addToTrace","addRelease","addPageAction","setCurrentRouteName","setPageViewName","setCustomAttribute","interaction","noticeError","setUserId","setApplicationVersion","start",g.G4.RECORD,g.G4.PAUSE,"log","wrapLogger"],m=["setErrorHandler","finished","addToTrace","addRelease"];var v=r(1863),b=r(2614),y=r(993),w=r(3785),x=r(2646),R=r(3434);function T(e,t,r,n){if("object"!=typeof t||!t||"string"!=typeof r||!r||"function"!=typeof t[r])return(0,l.R)(29);const i=function(e){return(e||s.ee).get("logger")}(e),o=(0,R.YM)(i),a=new x.y(s.P);return a.level=n.level,a.customAttributes=n.customAttributes,o.inPlace(t,[r],"wrap-logger-",a),i}function A(){const e=(0,h.pV)();p.forEach((t=>{e[t]=(...r)=>function(t,...r){let n=[];return Object.values(e.initializedAgents).forEach((e=>{e&&e.api?e.exposed&&e.api[t]&&n.push(e.api[t](...r)):(0,l.R)(38,t)})),n.length>1?n:n[0]}(t,...r)}))}const E={};var S=r(9417),N=r(5603),O=r(5284);const I=e=>{const t=e.startsWith("http");e+="/",r.p=t?e:"https://"+e};let _=!1;function j(e,t={},p,x){let{init:R,info:j,loader_config:P,runtime:C={},exposed:k=!0}=t;C.loaderType=p;const L=(0,h.pV)();j||(R=L.init,j=L.info,P=L.loader_config),(0,S.xN)(e.agentIdentifier,R||{}),(0,N.a)(e.agentIdentifier,P||{}),j.jsAttributes??={},d.bv&&(j.jsAttributes.isWorker=!0),(0,i.x1)(e.agentIdentifier,j);const D=(0,S.D0)(e.agentIdentifier),H=[j.beacon,j.errorBeacon];_||(D.proxy.assets&&(I(D.proxy.assets),H.push(D.proxy.assets)),D.proxy.beacon&&H.push(D.proxy.beacon),A(),(0,h.US)("activatedFeatures",O.B),e.runSoftNavOverSpa&&=!0===D.soft_navigations.enabled&&D.feature_flags.includes("soft_nav")),C.denyList=[...D.ajax.deny_list||[],...D.ajax.block_internal?H:[]],C.ptid=e.agentIdentifier,(0,o.V)(e.agentIdentifier,C),e.ee=s.ee.get(e.agentIdentifier),void 0===e.api&&(e.api=function(e,t,h=!1){t||(0,c.Ak)(e,"api");const p={};var x=s.ee.get(e),R=x.get("tracer");E[e]=b.g.OFF,x.on(g.G4.REPLAY_RUNNING,(t=>{E[e]=t}));var A="api-",S=A+"ixn-";function N(t,r,n,o){const a=(0,i.Vp)(e);return null===r?delete a.jsAttributes[t]:(0,i.x1)(e,{...a,jsAttributes:{...a.jsAttributes,[t]:r}}),_(A,n,!0,o||null===r?"session":void 0)(t,r)}function O(){}p.log=function(e,{customAttributes:t={},level:r=y.p_.INFO}={}){(0,a.p)(f.xV,["API/log/called"],void 0,n.K.metrics,x),(0,w.R)(x,e,t,r)},p.wrapLogger=(e,t,{customAttributes:r={},level:i=y.p_.INFO}={})=>{(0,a.p)(f.xV,["API/wrapLogger/called"],void 0,n.K.metrics,x),T(x,e,t,{customAttributes:r,level:i})},m.forEach((e=>{p[e]=_(A,e,!0,"api")})),p.addPageAction=_(A,"addPageAction",!0,n.K.genericEvents),p.setPageViewName=function(t,r){if("string"==typeof t)return"/"!==t.charAt(0)&&(t="/"+t),(0,o.f)(e).customTransaction=(r||"http://custom.transaction")+t,_(A,"setPageViewName",!0)()},p.setCustomAttribute=function(e,t,r=!1){if("string"==typeof e){if(["string","number","boolean"].includes(typeof t)||null===t)return N(e,t,"setCustomAttribute",r);(0,l.R)(40,typeof t)}else(0,l.R)(39,typeof e)},p.setUserId=function(e){if("string"==typeof e||null===e)return N("enduser.id",e,"setUserId",!0);(0,l.R)(41,typeof e)},p.setApplicationVersion=function(e){if("string"==typeof e||null===e)return N("application.version",e,"setApplicationVersion",!1);(0,l.R)(42,typeof e)},p.start=()=>{try{(0,a.p)(f.xV,["API/start/called"],void 0,n.K.metrics,x),x.emit("manual-start-all")}catch(e){(0,l.R)(23,e)}},p[g.G4.RECORD]=function(){(0,a.p)(f.xV,["API/recordReplay/called"],void 0,n.K.metrics,x),(0,a.p)(g.G4.RECORD,[],void 0,n.K.sessionReplay,x)},p[g.G4.PAUSE]=function(){(0,a.p)(f.xV,["API/pauseReplay/called"],void 0,n.K.metrics,x),(0,a.p)(g.G4.PAUSE,[],void 0,n.K.sessionReplay,x)},p.interaction=function(e){return(new O).get("object"==typeof e?e:{})};const I=O.prototype={createTracer:function(e,t){var r={},i=this,o="function"==typeof t;return(0,a.p)(f.xV,["API/createTracer/called"],void 0,n.K.metrics,x),h||(0,a.p)(S+"tracer",[(0,v.t)(),e,r],i,n.K.spa,x),function(){if(R.emit((o?"":"no-")+"fn-start",[(0,v.t)(),i,o],r),o)try{return t.apply(this,arguments)}catch(e){const t="string"==typeof e?new Error(e):e;throw R.emit("fn-err",[arguments,this,t],r),t}finally{R.emit("fn-end",[(0,v.t)()],r)}}}};function _(e,t,r,i){return function(){return(0,a.p)(f.xV,["API/"+t+"/called"],void 0,n.K.metrics,x),i&&(0,a.p)(e+t,[(0,v.t)(),...arguments],r?null:this,i,x),r?void 0:this}}function j(){r.e(478).then(r.bind(r,8778)).then((({setAPI:t})=>{t(e),(0,c.Ze)(e,"api")})).catch((e=>{(0,l.R)(27,e),x.abort()}))}return["actionText","setName","setAttribute","save","ignore","onEnd","getContext","end","get"].forEach((e=>{I[e]=_(S,e,void 0,h?n.K.softNav:n.K.spa)})),p.setCurrentRouteName=h?_(S,"routeName",void 0,n.K.softNav):_(A,"routeName",!0,n.K.spa),p.noticeError=function(t,r){"string"==typeof t&&(t=new Error(t)),(0,a.p)(f.xV,["API/noticeError/called"],void 0,n.K.metrics,x),(0,a.p)("err",[t,(0,v.t)(),!1,r,!!E[e]],void 0,n.K.jserrors,x)},d.RI?(0,u.GG)((()=>j()),!0):j(),p}(e.agentIdentifier,x,e.runSoftNavOverSpa)),void 0===e.exposed&&(e.exposed=k),_=!0}},8374:(e,t,r)=>{r.nc=(()=>{try{return document?.currentScript?.nonce}catch(e){}return""})()},860:(e,t,r)=>{"use strict";r.d(t,{K:()=>n,P:()=>i});const n={ajax:"ajax",genericEvents:"generic_events",jserrors:"jserrors",logging:"logging",metrics:"metrics",pageAction:"page_action",pageViewEvent:"page_view_event",pageViewTiming:"page_view_timing",sessionReplay:"session_replay",sessionTrace:"session_trace",softNav:"soft_navigations",spa:"spa"},i={[n.pageViewEvent]:1,[n.pageViewTiming]:2,[n.metrics]:3,[n.jserrors]:4,[n.spa]:5,[n.ajax]:6,[n.sessionTrace]:7,[n.softNav]:8,[n.sessionReplay]:9,[n.logging]:10,[n.genericEvents]:11}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.m=r,i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>({212:"nr-spa-compressor",249:"nr-spa-recorder",478:"nr-spa"}[e]+"-1.269.0.min.js"),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="NRBA-1.269.0.PROD:",i.l=(r,n,o,a)=>{if(e[r])e[r].push(n);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+o){s=l;break}}if(!s){c=!0;var f={478:"sha512-BDnQSqs6w93jZNuA2+ydjStO6iZUcCDM2G5ACNl42PnZebXqSDjfzp21rEmyIS/uS1Mm/KhHBftMozfaupNTFQ==",249:"sha512-+3RM3jpjuKfYqtWclSvdJHGFcW1Zs3W91YF6LLj05mh2KF2Dd4d/UbOS+Gj8JJIB3+OhK9x9MEoWBx6J1Qp+Hw==",212:"sha512-2D6xSed7GvSJDbO/jQCNsTNZTswnT4nkZPDOuerj6rroMh2F2IQsO5rZkHWXh31IDaiIxoiUn44tUfBomWqChw=="};(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=r,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous"),f[a]&&(s.integrity=f[a])}e[r]=[n];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(g);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="https://js-agent.newrelic.com/",(()=>{var e={38:0,788:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,i)=>n=e[t]=[r,i]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[a,s,c]=r,u=0;if(a.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(c)c(i)}for(t&&t(r);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self["webpackChunk:NRBA-1.269.0.PROD"]=self["webpackChunk:NRBA-1.269.0.PROD"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";i(8374);var e=i(944),t=i(6344),r=i(9566);class n{agentIdentifier;constructor(e=(0,r.LA)(16)){this.agentIdentifier=e}#e(t,...r){if("function"==typeof this.api?.[t])return this.api[t](...r);(0,e.R)(35,t)}addPageAction(e,t){return this.#e("addPageAction",e,t)}setPageViewName(e,t){return this.#e("setPageViewName",e,t)}setCustomAttribute(e,t,r){return this.#e("setCustomAttribute",e,t,r)}noticeError(e,t){return this.#e("noticeError",e,t)}setUserId(e){return this.#e("setUserId",e)}setApplicationVersion(e){return this.#e("setApplicationVersion",e)}setErrorHandler(e){return this.#e("setErrorHandler",e)}finished(e){return this.#e("finished",e)}addRelease(e,t){return this.#e("addRelease",e,t)}start(e){return this.#e("start",e)}recordReplay(){return this.#e(t.G4.RECORD)}pauseReplay(){return this.#e(t.G4.PAUSE)}addToTrace(e){return this.#e("addToTrace",e)}setCurrentRouteName(e){return this.#e("setCurrentRouteName",e)}interaction(){return this.#e("interaction")}log(e,t){return this.#e("log",e,t)}wrapLogger(e,t,r){return this.#e("wrapLogger",e,t,r)}}var o=i(860),a=i(9417);const s=Object.values(o.K);function c(e){const t={};return s.forEach((r=>{t[r]=function(e,t){return!0===(0,a.gD)(t,"".concat(e,".enabled"))}(r,e)})),t}var u=i(425);var d=i(1687),l=i(4234),f=i(5289),h=i(6154),g=i(5270),p=i(7767),m=i(6389);class v extends l.W{constructor(e,t,r,n=!0){super(e,t,r),this.auto=n,this.abortHandler=void 0,this.featAggregate=void 0,this.onAggregateImported=void 0,!1===(0,a.gD)(this.agentIdentifier,"".concat(this.featureName,".autoStart"))&&(this.auto=!1),this.auto?(0,d.Ak)(e,r):this.ee.on("manual-start-all",(0,m.J)((()=>{(0,d.Ak)(this.agentIdentifier,this.featureName),this.auto=!0,this.importAggregator()})))}importAggregator(t={}){if(this.featAggregate||!this.auto)return;let r;this.onAggregateImported=new Promise((e=>{r=e}));const n=async()=>{let n;try{if((0,p.V)(this.agentIdentifier)){const{setupAgentSession:e}=await i.e(478).then(i.bind(i,6526));n=e(this.agentIdentifier)}}catch(t){(0,e.R)(20,t),this.ee.emit("internal-error",[t]),this.featureName===o.K.sessionReplay&&this.abortHandler?.()}try{if(!this.#t(this.featureName,n))return(0,d.Ze)(this.agentIdentifier,this.featureName),void r(!1);const{lazyFeatureLoader:e}=await i.e(478).then(i.bind(i,6103)),{Aggregate:o}=await e(this.featureName,"aggregate");this.featAggregate=new o(this.agentIdentifier,this.aggregator,t),r(!0)}catch(t){(0,e.R)(34,t),this.abortHandler?.(),(0,d.Ze)(this.agentIdentifier,this.featureName,!0),r(!1),this.ee&&this.ee.abort()}};h.RI?(0,f.GG)((()=>n()),!0):n()}#t(e,t){switch(e){case o.K.sessionReplay:return(0,g.SR)(this.agentIdentifier)&&!!t;case o.K.sessionTrace:return!!t;default:return!0}}}var b=i(6630);class y extends v{static featureName=b.T;constructor(e,t,r=!0){super(e,t,b.T,r),this.importAggregator()}}var w=i(4777);class x extends w.J{constructor(e){super(e),this.aggregatedData={}}store(e,t,r,n,i){var o=this.getBucket(e,t,r,i);return o.metrics=function(e,t){t||(t={count:0});return t.count+=1,Object.entries(e||{}).forEach((([e,r])=>{t[e]=R(r,t[e])})),t}(n,o.metrics),o}merge(e,t,r,n,i){var o=this.getBucket(e,t,n,i);if(o.metrics){var a=o.metrics;a.count+=r.count,Object.keys(r||{}).forEach((e=>{if("count"!==e){var t=a[e],n=r[e];n&&!n.c?a[e]=R(n.t,t):a[e]=function(e,t){if(!t)return e;t.c||(t=T(t.t));return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t.t+=e.t,t.sos+=e.sos,t.c+=e.c,t}(n,a[e])}}))}else o.metrics=r}storeMetric(e,t,r,n){var i=this.getBucket(e,t,r);return i.stats=R(n,i.stats),i}getBucket(e,t,r,n){this.aggregatedData[e]||(this.aggregatedData[e]={});var i=this.aggregatedData[e][t];return i||(i=this.aggregatedData[e][t]={params:r||{}},n&&(i.custom=n)),i}get(e,t){return t?this.aggregatedData[e]&&this.aggregatedData[e][t]:this.aggregatedData[e]}take(e){for(var t={},r="",n=!1,i=0;i<e.length;i++)t[r=e[i]]=Object.values(this.aggregatedData[r]||{}),t[r].length&&(n=!0),delete this.aggregatedData[r];return n?t:null}}function R(e,t){return null==e?function(e){e?e.c++:e={c:1};return e}(t):t?(t.c||(t=T(t.t)),t.c+=1,t.t+=e,t.sos+=e*e,e>t.max&&(t.max=e),e<t.min&&(t.min=e),t):{t:e}}function T(e){return{t:e,min:e,max:e,sos:e*e,c:1}}var A=i(384);var E=i(9908),S=i(2843),N=i(3878),O=i(782),I=i(1863);class _ extends v{static featureName=O.T;constructor(e,t,r=!0){super(e,t,O.T,r),h.RI&&((0,S.u)((()=>(0,E.p)("docHidden",[(0,I.t)()],void 0,O.T,this.ee)),!0),(0,N.sp)("pagehide",(()=>(0,E.p)("winPagehide",[(0,I.t)()],void 0,O.T,this.ee))),this.importAggregator())}}var j=i(3969);class P extends v{static featureName=j.TZ;constructor(e,t,r=!0){super(e,t,j.TZ,r),this.importAggregator()}}var C=i(6774),k=i(3304);class L{constructor(e,t,r,n,i){this.name="UncaughtError",this.message="string"==typeof e?e:(0,k.A)(e),this.sourceURL=t,this.line=r,this.column=n,this.__newrelic=i}}function D(e){return K(e)?e:new L(void 0!==e?.message?e.message:e,e?.filename||e?.sourceURL,e?.lineno||e?.line,e?.colno||e?.col,e?.__newrelic)}function H(e){let t="Unhandled Promise Rejection";if(K(e?.reason))try{return e.reason.message=t+": "+e.reason.message,D(e.reason)}catch(t){return D(e.reason)}if(void 0===e.reason)return D(t);const r=D(e.reason);return r.message=t+": "+r?.message,r}function M(e){if(e.error instanceof SyntaxError&&!/:\d+$/.test(e.error.stack?.trim())){const t=new L(e.message,e.filename,e.lineno,e.colno,e.error.__newrelic);return t.name=SyntaxError.name,t}return K(e.error)?e.error:D(e)}function K(e){return e instanceof Error&&!!e.stack}class U extends v{static featureName=C.T;#r=!1;constructor(e,r,n=!0){super(e,r,C.T,n);try{this.removeOnAbort=new AbortController}catch(e){}this.ee.on("internal-error",(e=>{this.abortHandler&&(0,E.p)("ierr",[D(e),(0,I.t)(),!0,{},this.#r],void 0,this.featureName,this.ee)})),this.ee.on(t.G4.REPLAY_RUNNING,(e=>{this.#r=e})),h.gm.addEventListener("unhandledrejection",(e=>{this.abortHandler&&(0,E.p)("err",[H(e),(0,I.t)(),!1,{unhandledPromiseRejection:1},this.#r],void 0,this.featureName,this.ee)}),(0,N.jT)(!1,this.removeOnAbort?.signal)),h.gm.addEventListener("error",(e=>{this.abortHandler&&(0,E.p)("err",[M(e),(0,I.t)(),!1,{},this.#r],void 0,this.featureName,this.ee)}),(0,N.jT)(!1,this.removeOnAbort?.signal)),this.abortHandler=this.#n,this.importAggregator()}#n(){this.removeOnAbort?.abort(),this.abortHandler=void 0}}var V=i(5603),G=i(8990);let B=1;const F="nr@id";function W(e){const t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===h.gm?0:(0,G.I)(e,F,(function(){return B++}))}function z(e){if("string"==typeof e&&e.length)return e.length;if("object"==typeof e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if("undefined"!=typeof Blob&&e instanceof Blob&&e.size)return e.size;if(!("undefined"!=typeof FormData&&e instanceof FormData))try{return(0,k.A)(e).length}catch(e){return}}}var q=i(8139),Z=i(7836),Y=i(3434);const X={},J=["open","send"];function Q(t){var r=t||Z.ee;const n=function(e){return(e||Z.ee).get("xhr")}(r);if(X[n.debugId]++)return n;X[n.debugId]=1,(0,q.u)(r);var i=(0,Y.YM)(n),o=h.gm.XMLHttpRequest,a=h.gm.MutationObserver,s=h.gm.Promise,c=h.gm.setInterval,u="readystatechange",d=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],l=[],f=h.gm.XMLHttpRequest=function(t){const r=new o(t),a=n.context(r);try{n.emit("new-xhr",[r],a),r.addEventListener(u,(s=a,function(){var e=this;e.readyState>3&&!s.resolved&&(s.resolved=!0,n.emit("xhr-resolved",[],e)),i.inPlace(e,d,"fn-",y)}),(0,N.jT)(!1))}catch(t){(0,e.R)(15,t);try{n.emit("internal-error",[t])}catch(e){}}var s;return r};function g(e,t){i.inPlace(t,["onreadystatechange"],"fn-",y)}if(function(e,t){for(var r in e)t[r]=e[r]}(o,f),f.prototype=o.prototype,i.inPlace(f.prototype,J,"-xhr-",y),n.on("send-xhr-start",(function(e,t){g(e,t),function(e){l.push(e),a&&(p?p.then(b):c?c(b):(m=-m,v.data=m))}(t)})),n.on("open-xhr-start",g),a){var p=s&&s.resolve();if(!c&&!s){var m=1,v=document.createTextNode(m);new a(b).observe(v,{characterData:!0})}}else r.on("fn-end",(function(e){e[0]&&e[0].type===u||b()}));function b(){for(var e=0;e<l.length;e++)g(0,l[e]);l.length&&(l=[])}function y(e,t){return t}return n}var ee="fetch-",te=ee+"body-",re=["arrayBuffer","blob","json","text","formData"],ne=h.gm.Request,ie=h.gm.Response,oe="prototype";const ae={};function se(e){const t=function(e){return(e||Z.ee).get("fetch")}(e);if(!(ne&&ie&&h.gm.fetch))return t;if(ae[t.debugId]++)return t;function r(e,r,n){var i=e[r];"function"==typeof i&&(e[r]=function(){var e,r=[...arguments],o={};t.emit(n+"before-start",[r],o),o[Z.P]&&o[Z.P].dt&&(e=o[Z.P].dt);var a=i.apply(this,r);return t.emit(n+"start",[r,e],a),a.then((function(e){return t.emit(n+"end",[null,e],a),e}),(function(e){throw t.emit(n+"end",[e],a),e}))})}return ae[t.debugId]=1,re.forEach((e=>{r(ne[oe],e,te),r(ie[oe],e,te)})),r(h.gm,"fetch",ee),t.on(ee+"end",(function(e,r){var n=this;if(r){var i=r.headers.get("content-length");null!==i&&(n.rxSize=i),t.emit(ee+"done",[null,r],n)}else t.emit(ee+"done",[e],n)})),t}var ce=i(7485);class ue{constructor(e){this.agentIdentifier=e}generateTracePayload(e){if(!this.shouldGenerateTrace(e))return null;var t=(0,V.o)(this.agentIdentifier);if(!t)return null;var n=(t.accountID||"").toString()||null,i=(t.agentID||"").toString()||null,o=(t.trustKey||"").toString()||null;if(!n||!i)return null;var a=(0,r.ZF)(),s=(0,r.el)(),c=Date.now(),u={spanId:a,traceId:s,timestamp:c};return(e.sameOrigin||this.isAllowedOrigin(e)&&this.useTraceContextHeadersForCors())&&(u.traceContextParentHeader=this.generateTraceContextParentHeader(a,s),u.traceContextStateHeader=this.generateTraceContextStateHeader(a,c,n,i,o)),(e.sameOrigin&&!this.excludeNewrelicHeader()||!e.sameOrigin&&this.isAllowedOrigin(e)&&this.useNewrelicHeaderForCors())&&(u.newrelicHeader=this.generateTraceHeader(a,s,c,n,i,o)),u}generateTraceContextParentHeader(e,t){return"00-"+t+"-"+e+"-01"}generateTraceContextStateHeader(e,t,r,n,i){return i+"@nr=0-1-"+r+"-"+n+"-"+e+"----"+t}generateTraceHeader(e,t,r,n,i,o){if(!("function"==typeof h.gm?.btoa))return null;var a={v:[0,1],d:{ty:"Browser",ac:n,ap:i,id:e,tr:t,ti:r}};return o&&n!==o&&(a.d.tk=o),btoa((0,k.A)(a))}shouldGenerateTrace(e){return this.isDtEnabled()&&this.isAllowedOrigin(e)}isAllowedOrigin(e){var t=!1,r={};if((0,a.gD)(this.agentIdentifier,"distributed_tracing")&&(r=(0,a.D0)(this.agentIdentifier).distributed_tracing),e.sameOrigin)t=!0;else if(r.allowed_origins instanceof Array)for(var n=0;n<r.allowed_origins.length;n++){var i=(0,ce.D)(r.allowed_origins[n]);if(e.hostname===i.hostname&&e.protocol===i.protocol&&e.port===i.port){t=!0;break}}return t}isDtEnabled(){var e=(0,a.gD)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.enabled}excludeNewrelicHeader(){var e=(0,a.gD)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.exclude_newrelic_header}useNewrelicHeaderForCors(){var e=(0,a.gD)(this.agentIdentifier,"distributed_tracing");return!!e&&!1!==e.cors_use_newrelic_header}useTraceContextHeadersForCors(){var e=(0,a.gD)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.cors_use_tracecontext_headers}}var de=i(9300),le=i(7295),fe=["load","error","abort","timeout"],he=fe.length,ge=(0,A.dV)().o.REQ,pe=(0,A.dV)().o.XHR;class me extends v{static featureName=de.T;constructor(e,t,r=!0){super(e,t,de.T,r),this.dt=new ue(e),this.handler=(e,t,r,n)=>(0,E.p)(e,t,r,n,this.ee);try{const e={xmlhttprequest:"xhr",fetch:"fetch",beacon:"beacon"};h.gm?.performance?.getEntriesByType("resource").forEach((t=>{if(t.initiatorType in e&&0!==t.responseStatus){const r={status:t.responseStatus},n={rxSize:t.transferSize,duration:Math.floor(t.duration),cbTime:0};ve(r,t.name),this.handler("xhr",[r,n,t.startTime,t.responseEnd,e[t.initiatorType]],void 0,o.K.ajax)}}))}catch(e){}se(this.ee),Q(this.ee),function(e,t,r,n){function i(e){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=x,t.ended=!1,t.xhrGuids={},t.lastSize=null,t.loadCaptureCalled=!1,t.params=this.params||{},t.metrics=this.metrics||{},e.addEventListener("load",(function(r){R(t,e)}),(0,N.jT)(!1)),h.lR||e.addEventListener("progress",(function(e){t.lastSize=e.loaded}),(0,N.jT)(!1))}function a(e){this.params={method:e[0]},ve(this,e[1]),this.metrics={}}function s(t,r){var i=(0,V.o)(e);i.xpid&&this.sameOrigin&&r.setRequestHeader("X-NewRelic-ID",i.xpid);var o=n.generateTracePayload(this.parsedOrigin);if(o){var a=!1;o.newrelicHeader&&(r.setRequestHeader("newrelic",o.newrelicHeader),a=!0),o.traceContextParentHeader&&(r.setRequestHeader("traceparent",o.traceContextParentHeader),o.traceContextStateHeader&&r.setRequestHeader("tracestate",o.traceContextStateHeader),a=!0),a&&(this.dt=o)}}function c(e,r){var n=this.metrics,i=e[0],o=this;if(n&&i){var a=z(i);a&&(n.txSize=a)}this.startTime=(0,I.t)(),this.body=i,this.listener=function(e){try{"abort"!==e.type||o.loadCaptureCalled||(o.params.aborted=!0),("load"!==e.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof r.onload)&&"function"==typeof o.end)&&o.end(r)}catch(e){try{t.emit("internal-error",[e])}catch(e){}}};for(var s=0;s<he;s++)r.addEventListener(fe[s],this.listener,(0,N.jT)(!1))}function u(e,t,r){this.cbTime+=e,t?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof r.onload||"function"!=typeof this.end||this.end(r)}function d(e,t){var r=""+W(e)+!!t;this.xhrGuids&&!this.xhrGuids[r]&&(this.xhrGuids[r]=!0,this.totalCbs+=1)}function l(e,t){var r=""+W(e)+!!t;this.xhrGuids&&this.xhrGuids[r]&&(delete this.xhrGuids[r],this.totalCbs-=1)}function f(){this.endTime=(0,I.t)()}function g(e,r){r instanceof pe&&"load"===e[0]&&t.emit("xhr-load-added",[e[1],e[2]],r)}function p(e,r){r instanceof pe&&"load"===e[0]&&t.emit("xhr-load-removed",[e[1],e[2]],r)}function m(e,t,r){t instanceof pe&&("onload"===r&&(this.onload=!0),("load"===(e[0]&&e[0].type)||this.onload)&&(this.xhrCbStart=(0,I.t)()))}function v(e,r){this.xhrCbStart&&t.emit("xhr-cb-time",[(0,I.t)()-this.xhrCbStart,this.onload,r],r)}function b(e){var t,r=e[1]||{};if("string"==typeof e[0]?0===(t=e[0]).length&&h.RI&&(t=""+h.gm.location.href):e[0]&&e[0].url?t=e[0].url:h.gm?.URL&&e[0]&&e[0]instanceof URL?t=e[0].href:"function"==typeof e[0].toString&&(t=e[0].toString()),"string"==typeof t&&0!==t.length){t&&(this.parsedOrigin=(0,ce.D)(t),this.sameOrigin=this.parsedOrigin.sameOrigin);var i=n.generateTracePayload(this.parsedOrigin);if(i&&(i.newrelicHeader||i.traceContextParentHeader))if(e[0]&&e[0].headers)s(e[0].headers,i)&&(this.dt=i);else{var o={};for(var a in r)o[a]=r[a];o.headers=new Headers(r.headers||{}),s(o.headers,i)&&(this.dt=i),e.length>1?e[1]=o:e.push(o)}}function s(e,t){var r=!1;return t.newrelicHeader&&(e.set("newrelic",t.newrelicHeader),r=!0),t.traceContextParentHeader&&(e.set("traceparent",t.traceContextParentHeader),t.traceContextStateHeader&&e.set("tracestate",t.traceContextStateHeader),r=!0),r}}function y(e,t){this.params={},this.metrics={},this.startTime=(0,I.t)(),this.dt=t,e.length>=1&&(this.target=e[0]),e.length>=2&&(this.opts=e[1]);var r,n=this.opts||{},i=this.target;"string"==typeof i?r=i:"object"==typeof i&&i instanceof ge?r=i.url:h.gm?.URL&&"object"==typeof i&&i instanceof URL&&(r=i.href),ve(this,r);var o=(""+(i&&i instanceof ge&&i.method||n.method||"GET")).toUpperCase();this.params.method=o,this.body=n.body,this.txSize=z(n.body)||0}function w(e,t){if(this.endTime=(0,I.t)(),this.params||(this.params={}),(0,le.iW)(this.params))return;let n;this.params.status=t?t.status:0,"string"==typeof this.rxSize&&this.rxSize.length>0&&(n=+this.rxSize);const i={txSize:this.txSize,rxSize:n,duration:(0,I.t)()-this.startTime};r("xhr",[this.params,i,this.startTime,this.endTime,"fetch"],this,o.K.ajax)}function x(e){const t=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(let t=0;t<he;t++)e.removeEventListener(fe[t],this.listener,!1);t.aborted||(0,le.iW)(t)||(n.duration=(0,I.t)()-this.startTime,this.loadCazptureCalled||4!==e.readyState?null==t.status&&(t.status=0):R(this,e),n.cbTime=this.cbTime,r("xhr",[t,n,this.startTime,this.endTime,"xhr"],this,o.K.ajax))}}function R(e,r){e.params.status=r.status;var n=function(e,t){var r=e.responseType;return"json"===r&&null!==t?t:"arraybuffer"===r||"blob"===r||"json"===r?z(e.response):"text"===r||""===r||void 0===r?z(e.responseText):void 0}(r,e.lastSize);if(n&&(e.metrics.rxSize=n),e.sameOrigin){var i=r.getResponseHeader("X-NewRelic-App-Data");i&&((0,E.p)(j.rs,["Ajax/CrossApplicationTracing/Header/Seen"],void 0,o.K.metrics,t),e.params.cat=i.split(", ").pop())}e.loadCaptureCalled=!0}t.on("new-xhr",i),t.on("open-xhr-start",a),t.on("open-xhr-end",s),t.on("send-xhr-start",c),t.on("xhr-cb-time",u),t.on("xhr-load-added",d),t.on("xhr-load-removed",l),t.on("xhr-resolved",f),t.on("addEventListener-end",g),t.on("removeEventListener-end",p),t.on("fn-end",v),t.on("fetch-before-start",b),t.on("fetch-start",y),t.on("fn-start",m),t.on("fetch-done",w)}(e,this.ee,this.handler,this.dt),this.importAggregator()}}function ve(e,t){var r=(0,ce.D)(t),n=e.params||e;n.hostname=r.hostname,n.port=r.port,n.protocol=r.protocol,n.host=r.hostname+":"+r.port,n.pathname=r.pathname,e.parsedOrigin=r,e.sameOrigin=r.sameOrigin}const be={},ye=["pushState","replaceState"];function we(e){const t=function(e){return(e||Z.ee).get("history")}(e);return!h.RI||be[t.debugId]++||(be[t.debugId]=1,(0,Y.YM)(t).inPlace(window.history,ye,"-")),t}var xe=i(3738);const{He:Re,bD:Te,d3:Ae,Kp:Ee,TZ:Se,Lc:Ne,uP:Oe,Rz:Ie}=xe;class _e extends v{static featureName=Se;constructor(e,t,r=!0){super(e,t,Se,r);if(!(0,p.V)(this.agentIdentifier))return void(0,d.x3)(this.agentIdentifier,this.featureName);const n=this.ee;let i;we(n),this.eventsEE=(0,q.u)(n),this.eventsEE.on(Oe,(function(e,t){this.bstStart=(0,I.t)()})),this.eventsEE.on(Ne,(function(e,t){(0,E.p)("bst",[e[0],t,this.bstStart,(0,I.t)()],void 0,o.K.sessionTrace,n)})),n.on(Ie+Ae,(function(e){this.time=(0,I.t)(),this.startPath=location.pathname+location.hash})),n.on(Ie+Ee,(function(e){(0,E.p)("bstHist",[location.pathname+location.hash,this.startPath,this.time],void 0,o.K.sessionTrace,n)}));try{i=new PerformanceObserver((e=>{const t=e.getEntries();(0,E.p)(Re,[t],void 0,o.K.sessionTrace,n)})),i.observe({type:Te,buffered:!0})}catch(e){}this.importAggregator({resourceObserver:i})}}var je=i(2614);class Pe extends v{static featureName=t.TZ;#i;constructor(e,r,n=!0){let i;super(e,r,t.TZ,n),this.replayRunning=!1;try{i=JSON.parse(localStorage.getItem("".concat(je.H3,"_").concat(je.uh)))}catch(e){}(0,g.SR)(e)&&this.ee.on(t.G4.RECORD,(()=>this.#o())),this.#a(i)?(this.#i=i?.sessionReplayMode,this.#s()):this.importAggregator(),this.ee.on("err",(e=>{this.replayRunning&&(this.errorNoticed=!0,(0,E.p)(t.G4.ERROR_DURING_REPLAY,[e],void 0,this.featureName,this.ee))})),this.ee.on(t.G4.REPLAY_RUNNING,(e=>{this.replayRunning=e}))}#a(e){return e&&(e.sessionReplayMode===je.g.FULL||e.sessionReplayMode===je.g.ERROR)||(0,g.Aw)(this.agentIdentifier)}#c=!1;async#s(e){if(!this.#c){this.#c=!0;try{const{Recorder:t}=await Promise.all([i.e(478),i.e(249)]).then(i.bind(i,2496));this.recorder??=new t({mode:this.#i,agentIdentifier:this.agentIdentifier,trigger:e,ee:this.ee}),this.recorder.startRecording(),this.abortHandler=this.recorder.stopRecording}catch(e){}this.importAggregator({recorder:this.recorder,errorNoticed:this.errorNoticed})}}#o(){this.featAggregate?this.featAggregate.mode!==je.g.FULL&&this.featAggregate.initializeRecording(je.g.FULL,!0):(this.#i=je.g.FULL,this.#s(t.Qb.API),this.recorder&&this.recorder.parent.mode!==je.g.FULL&&(this.recorder.parent.mode=je.g.FULL,this.recorder.stopRecording(),this.recorder.startRecording(),this.abortHandler=this.recorder.stopRecording))}}var Ce=i(3962);class ke extends v{static featureName=Ce.TZ;constructor(e,t,r=!0){if(super(e,t,Ce.TZ,r),!h.RI||!(0,A.dV)().o.MO)return;const n=we(this.ee),i=(0,q.u)(this.ee),o=()=>(0,E.p)("newURL",[(0,I.t)(),""+window.location],void 0,this.featureName,this.ee);n.on("pushState-end",o),n.on("replaceState-end",o);try{this.removeOnAbort=new AbortController}catch(e){}(0,N.sp)("popstate",(e=>(0,E.p)("newURL",[e.timeStamp,""+window.location],void 0,this.featureName,this.ee)),!0,this.removeOnAbort?.signal);let a=!1;const s=new((0,A.dV)().o.MO)(((e,t)=>{a||(a=!0,requestAnimationFrame((()=>{(0,E.p)("newDom",[(0,I.t)()],void 0,this.featureName,this.ee),a=!1})))})),c=(0,m.s)((e=>{(0,E.p)("newUIEvent",[e],void 0,this.featureName,this.ee),s.observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}),100,{leading:!0});i.on("fn-start",(([e])=>{Ce.tC.includes(e?.type)&&c(e)}));for(let e of Ce.tC)document.addEventListener(e,(()=>{}));this.abortHandler=function(){this.removeOnAbort?.abort(),s.disconnect(),this.abortHandler=void 0},this.importAggregator({domObserver:s})}}var Le=i(7378);const De={},He=["appendChild","insertBefore","replaceChild"];function Me(e){const t=function(e){return(e||Z.ee).get("jsonp")}(e);if(!h.RI||De[t.debugId])return t;De[t.debugId]=!0;var r=(0,Y.YM)(t),n=/[?&](?:callback|cb)=([^&#]+)/,i=/(.*)\.([^.]+)/,o=/^(\w+)(\.|$)(.*)$/;function a(e,t){if(!e)return t;const r=e.match(o),n=r[1];return a(r[3],t[n])}return r.inPlace(Node.prototype,He,"dom-"),t.on("dom-start",(function(e){!function(e){if(!e||"string"!=typeof e.nodeName||"script"!==e.nodeName.toLowerCase())return;if("function"!=typeof e.addEventListener)return;var o=(s=e.src,c=s.match(n),c?c[1]:null);var s,c;if(!o)return;var u=function(e){var t=e.match(i);if(t&&t.length>=3)return{key:t[2],parent:a(t[1],window)};return{key:e,parent:window}}(o);if("function"!=typeof u.parent[u.key])return;var d={};function l(){t.emit("jsonp-end",[],d),e.removeEventListener("load",l,(0,N.jT)(!1)),e.removeEventListener("error",f,(0,N.jT)(!1))}function f(){t.emit("jsonp-error",[],d),t.emit("jsonp-end",[],d),e.removeEventListener("load",l,(0,N.jT)(!1)),e.removeEventListener("error",f,(0,N.jT)(!1))}r.inPlace(u.parent,[u.key],"cb-",d),e.addEventListener("load",l,(0,N.jT)(!1)),e.addEventListener("error",f,(0,N.jT)(!1)),t.emit("new-jsonp",[e.src],d)}(e[0])})),t}const Ke={};function Ue(e){const t=function(e){return(e||Z.ee).get("promise")}(e);if(Ke[t.debugId])return t;Ke[t.debugId]=!0;var r=t.context,n=(0,Y.YM)(t),i=h.gm.Promise;return i&&function(){function e(r){var o=t.context(),a=n(r,"executor-",o,null,!1);const s=Reflect.construct(i,[a],e);return t.context(s).getCtx=function(){return o},s}h.gm.Promise=e,Object.defineProperty(e,"name",{value:"Promise"}),e.toString=function(){return i.toString()},Object.setPrototypeOf(e,i),["all","race"].forEach((function(r){const n=i[r];e[r]=function(e){let i=!1;[...e||[]].forEach((e=>{this.resolve(e).then(a("all"===r),a(!1))}));const o=n.apply(this,arguments);return o;function a(e){return function(){t.emit("propagate",[null,!i],o,!1,!1),i=i||!e}}}})),["resolve","reject"].forEach((function(r){const n=i[r];e[r]=function(e){const r=n.apply(this,arguments);return e!==r&&t.emit("propagate",[e,!0],r,!1,!1),r}})),e.prototype=i.prototype;const o=i.prototype.then;i.prototype.then=function(...e){var i=this,a=r(i);a.promise=i,e[0]=n(e[0],"cb-",a,null,!1),e[1]=n(e[1],"cb-",a,null,!1);const s=o.apply(this,e);return a.nextPromise=s,t.emit("propagate",[i,!0],s,!1,!1),s},i.prototype.then[Y.Jt]=o,t.on("executor-start",(function(e){e[0]=n(e[0],"resolve-",this,null,!1),e[1]=n(e[1],"resolve-",this,null,!1)})),t.on("executor-err",(function(e,t,r){e[1](r)})),t.on("cb-end",(function(e,r,n){t.emit("propagate",[n,!0],this.nextPromise,!1,!1)})),t.on("propagate",(function(e,r,n){this.getCtx&&!r||(this.getCtx=function(){if(e instanceof Promise)var r=t.context(e);return r&&r.getCtx?r.getCtx():this})}))}(),t}const Ve={},Ge="setTimeout",Be="setInterval",Fe="clearTimeout",We="-start",ze=[Ge,"setImmediate",Be,Fe,"clearImmediate"];function qe(e){const t=function(e){return(e||Z.ee).get("timer")}(e);if(Ve[t.debugId]++)return t;Ve[t.debugId]=1;var r=(0,Y.YM)(t);return r.inPlace(h.gm,ze.slice(0,2),Ge+"-"),r.inPlace(h.gm,ze.slice(2,3),Be+"-"),r.inPlace(h.gm,ze.slice(3),Fe+"-"),t.on(Be+We,(function(e,t,n){e[0]=r(e[0],"fn-",null,n)})),t.on(Ge+We,(function(e,t,n){this.method=n,this.timerDuration=isNaN(e[1])?0:+e[1],e[0]=r(e[0],"fn-",this,n)})),t}const Ze={};function Ye(e){const t=function(e){return(e||Z.ee).get("mutation")}(e);if(!h.RI||Ze[t.debugId])return t;Ze[t.debugId]=!0;var r=(0,Y.YM)(t),n=h.gm.MutationObserver;return n&&(window.MutationObserver=function(e){return this instanceof n?new n(r(e,"fn-")):n.apply(this,arguments)},MutationObserver.prototype=n.prototype),t}const{TZ:Xe,d3:Je,Kp:Qe,$p:$e,wW:et,e5:tt,tH:rt,uP:nt,rw:it,Lc:ot}=Le;class at extends v{static featureName=Xe;constructor(e,t,r=!0){if(super(e,t,Xe,r),!h.RI)return;try{this.removeOnAbort=new AbortController}catch(e){}let n,i=0;const o=this.ee.get("tracer"),a=Me(this.ee),s=Ue(this.ee),c=qe(this.ee),u=Q(this.ee),d=this.ee.get("events"),l=se(this.ee),f=we(this.ee),g=Ye(this.ee);function p(e,t){f.emit("newURL",[""+window.location,t])}function m(){i++,n=window.location.hash,this[nt]=(0,I.t)()}function v(){i--,window.location.hash!==n&&p(0,!0);var e=(0,I.t)();this[tt]=~~this[tt]+e-this[nt],this[ot]=e}function b(e,t){e.on(t,(function(){this[t]=(0,I.t)()}))}this.ee.on(nt,m),s.on(it,m),a.on(it,m),this.ee.on(ot,v),s.on(et,v),a.on(et,v),this.ee.on("fn-err",((...t)=>{t[2]?.__newrelic?.[e]||(0,E.p)("function-err",[...t],void 0,this.featureName,this.ee)})),this.ee.buffer([nt,ot,"xhr-resolved"],this.featureName),d.buffer([nt],this.featureName),c.buffer(["setTimeout"+Qe,"clearTimeout"+Je,nt],this.featureName),u.buffer([nt,"new-xhr","send-xhr"+Je],this.featureName),l.buffer([rt+Je,rt+"-done",rt+$e+Je,rt+$e+Qe],this.featureName),f.buffer(["newURL"],this.featureName),g.buffer([nt],this.featureName),s.buffer(["propagate",it,et,"executor-err","resolve"+Je],this.featureName),o.buffer([nt,"no-"+nt],this.featureName),a.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"],this.featureName),b(l,rt+Je),b(l,rt+"-done"),b(a,"new-jsonp"),b(a,"jsonp-end"),b(a,"cb-start"),f.on("pushState-end",p),f.on("replaceState-end",p),window.addEventListener("hashchange",p,(0,N.jT)(!0,this.removeOnAbort?.signal)),window.addEventListener("load",p,(0,N.jT)(!0,this.removeOnAbort?.signal)),window.addEventListener("popstate",(function(){p(0,i>1)}),(0,N.jT)(!0,this.removeOnAbort?.signal)),this.abortHandler=this.#n,this.importAggregator()}#n(){this.removeOnAbort?.abort(),this.abortHandler=void 0}}var st=i(3333);class ct extends v{static featureName=st.TZ;constructor(e,t,r=!0){super(e,t,st.TZ,r);const n=(0,a.D0)(this.agentIdentifier),i=[n.page_action.enabled,n.user_actions.enabled];h.RI&&n.user_actions.enabled&&(st.Zp.forEach((e=>(0,N.sp)(e,(e=>(0,E.p)("ua",[e],void 0,this.featureName,this.ee)),!0))),st.qN.forEach((e=>(0,N.sp)(e,(e=>(0,E.p)("ua",[e],void 0,this.featureName,this.ee)))))),i.some((e=>e))?this.importAggregator():(0,d.x3)(this.agentIdentifier,this.featureName)}}var ut=i(993),dt=i(3785);class lt extends v{static featureName=ut.TZ;constructor(e,t,r=!0){super(e,t,ut.TZ,r);const n=this.ee;this.ee.on("wrap-logger-end",(function([e]){const{level:t,customAttributes:r}=this;(0,dt.R)(n,e,r,t)})),this.importAggregator()}}new class extends n{constructor(t,r){super(r),h.gm?(this.sharedAggregator=new x({agentIdentifier:this.agentIdentifier}),this.features={},(0,A.bQ)(this.agentIdentifier,this),this.desiredFeatures=new Set(t.features||[]),this.desiredFeatures.add(y),this.runSoftNavOverSpa=[...this.desiredFeatures].some((e=>e.featureName===o.K.softNav)),(0,u.j)(this,t,t.loaderType||"agent"),this.run()):(0,e.R)(21)}get config(){return{info:this.info,init:this.init,loader_config:this.loader_config,runtime:this.runtime}}run(){try{const t=c(this.agentIdentifier),r=[...this.desiredFeatures];r.sort(((e,t)=>o.P[e.featureName]-o.P[t.featureName])),r.forEach((r=>{if(!t[r.featureName]&&r.featureName!==o.K.pageViewEvent)return;if(this.runSoftNavOverSpa&&r.featureName===o.K.spa)return;if(!this.runSoftNavOverSpa&&r.featureName===o.K.softNav)return;const n=function(e){switch(e){case o.K.ajax:return[o.K.jserrors];case o.K.sessionTrace:return[o.K.ajax,o.K.pageViewEvent];case o.K.sessionReplay:return[o.K.sessionTrace];case o.K.pageViewTiming:return[o.K.pageViewEvent];default:return[]}}(r.featureName).filter((e=>!(e in this.features)));n.length>0&&(0,e.R)(36,{targetFeature:r.featureName,missingDependencies:n}),this.features[r.featureName]=new r(this.agentIdentifier,this.sharedAggregator)}))}catch(t){(0,e.R)(22,t);for(const e in this.features)this.features[e].abortHandler?.();const r=(0,A.Zm)();delete r.initializedAgents[this.agentIdentifier]?.api,delete r.initializedAgents[this.agentIdentifier]?.features,delete this.sharedAggregator;return r.ee.get(this.agentIdentifier).abort(),!1}}}({features:[me,y,_,_e,Pe,P,U,ct,lt,ke,at],loaderType:"spa"})})()})();</script>
<meta name="description" content="alguas mejoras y probleams en obtener los usuarios en bolt.new">
<meta property="og:type" content="object" />
<meta property="og:site_name" content="StackBlitz" />
<meta property="og:title" content="crm v0.0.0.84(forked) - StackBlitz">
<meta property="og:image" content="https://c.staticblitz.com/assets/social_editor-38f123e01888fcf08c6692876e54556c3f079b4fb4369e330f3f77d7e31832b7.jpg">
<meta property="og:description" content="alguas mejoras y probleams en obtener los usuarios en bolt.new">
<meta property="og:author:username" content="ranmrojas" />

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="crm v0.0.0.84(forked) - StackBlitz">
<meta name="twitter:image" content="https://c.staticblitz.com/assets/social_editor-38f123e01888fcf08c6692876e54556c3f079b4fb4369e330f3f77d7e31832b7.jpg">
<meta name="twitter:site" content="@StackBlitz">
<meta name="twitter:description" content="alguas mejoras y probleams en obtener los usuarios en bolt.new">

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#2e3138">
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="6GkC483xTJSe0X41_xuyt1Gj7nEa7kgq_GnaRo1-wYEhRAvBqNfvXumatvcLPoAD45KQFLtgxABsL8bCXj7VrA" />
<meta name="action-cable-url" content="/cable" />
<link rel="manifest" href="/manifest.json">
<link rel="icon" type="image/svg+xml" href="https://c.staticblitz.com/assets/favicon_sb-861fe1b85c0dc928750c62de15fed96fc75e57ee366bd937bad17a3938917b3f.svg">
<link rel="icon" type="image/png" href="https://c.staticblitz.com/assets/favicon_sb-4f3d9011b264e56e3f61cf6612c50dd3b8fcae038843ba2d10c8d0b6194d19d6.png">
<link rel="apple-touch-icon" type="image/png" href="https://c.staticblitz.com/assets/icons/icon-512x512-4fd226b904b09411fdeb83161b2b9f309394fea1b66817920a9ec1e71ca78ca0.png">


<style>html {color: #ccc; background-color: #202327}</style>
<link rel="stylesheet" href="https://c.staticblitz.com/assets/pack/client-335c0e2903bca.css" />
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-WM95FBXP');</script>
<script>
!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";analytics.load("ta1kDK49qdEDEfd8KYxI37mW0GPkLKn1");}}();
</script>
<script src="https://w-credentialless-staticblitz.com/webcontainer.34c588ed.js"></script>
<script src="https://v-corp.staticblitz.com/npm/monaco-editor@0.26.1/min/vs/loader.js"></script>
<script src="https://c.staticblitz.com/assets/pack/client-c2f36eedcf13a.js"></script>
<link rel="preload" as="script" href="https://w-credentialless-staticblitz.com/webcontainer.34c588ed.js" fetchpriority="low">
<link rel="preload" as="script" href="https://w-credentialless-staticblitz.com/fetch.worker.34c588ed.js" fetchpriority="low">

  <link rel="alternate" type="application/json+oembed" href="https://stackblitz.com/api/oembed?url=https%3A%2F%2Fstackblitz.com%2Fedit%2Fcrm-v00084-r5rine%3Fdownload%3D1" title="crm v0.0.0.84(forked) - StackBlitz">
  <link rel="alternate" type="application/xml+oembed" href="https://stackblitz.com/api/oembed.xml?url=https%3A%2F%2Fstackblitz.com%2Fedit%2Fcrm-v00084-r5rine%3Fdownload%3D1" title="crm v0.0.0.84(forked) - StackBlitz">

</head>
<body>
<script type="application/json" data-redux-store="">{"auth":{"loggedIn":true,"user":{"avatar":"https://ghavatars.staticblitz.com/ranmrojas.png","bio":null,"createdAt":"2024-10-09T05:41:08.833Z","currentBillingPeriodHistogram":[],"currentBillingPeriodTotal":0,"email":"ranmrojas@me.com","emailAddresses":[{"canonical":true,"confirmed":true,"email":"ranmrojas@me.com","id":1252722,"preferred":false}],"externalAccountExists":true,"gitProviders":[{"active":true,"configurePath":"/github_oauth_settings","credentials":{"email":"ranmrojas@me.com","name":"ranmrojas","providerId":"141786973","token":"***wKA","tokenType":"app","username":"ranmrojas"},"global":true,"id":1,"name":"GitHub","providerType":"github","url":"https://github.com/"}],"githubAppInstallation":{"installationId":56145169,"status":"active"},"id":1158049,"location":null,"membershipLevel":3,"name":"ranmrojas","oauthApplications":[],"roles":[],"showRegistrationModal":false,"site":"","teamsPlan":false,"username":"ranmrojas","wcAPIMembership":null,"wcAPIStripeAccount":null},"guest":{}},"settings":{"dashboard_onboarding_completed":false,"last_viewed_post_date":"2024-05-01","default_editor":"classic","first_name":null,"last_name":null,"seen_registration_wizard":false},"features":{"local_projects":true,"sbwork":true,"orgs":true,"send_invites_to_org_members":true,"custom_orgs":true,"custom_registries":true,"user_auth_by_credentials":true,"github_app":true,"registration_wizard":true,"commercial_use_paywall":true,"wc_api_console":true},"config":{"staticAssetHost":"v-corp.staticblitz.com","chatlioId":"4a1fa067-d628-4bd7-6378-ca95c8c51d22","appsignalKey":"bb27867f-9c64-4698-b56d-a5f9c5f610d4","iframeUrl":"https://crm-v00084-r5rine.stackblitz.io","relayOrigin":"https://crm-v00084-r5rine.stackblitz.io","editorUrl":"https://stackblitz.com/edit/crm-v00084-r5rine","editorOrigin":"https://stackblitz.com","servicesUrl":"https://services.stackblitz.com","tswUrl":"https://c.staticblitz.com/assets/pack/mts5w-6b37047530eaa.js","prettierwUrl":"https://c.staticblitz.com/assets/pack/prettierw-2b5ee6552a1fa.js","appInitialized":false,"env":{"SERVICES_ROOT_URL":"https://services.stackblitz.com"},"otaAllowed":true,"fbp":"stackblitz","fba":"AIzaSyBZSvuCzbUhuRrSps-HjM5bFClLPaFF9Vg","db":true},"organizations":{"availableOrgs":[],"currentOrg":{"data":null}},"workspace":{"workspace":{"kind":"USER","name":"ranmrojas","avatar":"https://ghavatars.staticblitz.com/ranmrojas.png","slug":"ranmrojas","username":"ranmrojas"}},"webcontainer":{"options":{"baseUrl":"https://w-credentialless-staticblitz.com","initOptions":{"server":"https://local-credentialless.webcontainer.io","isolationPolicy":"credentialless","version":"34c588ed","flattenedServer":false},"systemBinaries":{"git":false},"git":{"proxy":"https://p.stackblitz.com"},"turboBaseUrl":"https://t.staticblitz.com","registryProxy":"https://nr.staticblitz.com","registryMaxConcurrency":"","networking":{"allowLocalhostFallback":true,"promptBeforeLocalhostFallback":true,"proxy":{"address":"https://cors-proxy-production.stackblitz.workers.dev","domains":[]}}},"shortAppId":false},"project":{"appFiles":{"db":{"name":"db","type":"folder","fullPath":"db","lastModified":1730142665002},"src":{"name":"src","type":"folder","fullPath":"src","lastModified":1730142665002},".env":{"name":".env","type":"file","contents":"NEXTAUTH_SECRET=tu_clave_secreta_muy_larga_y_aleatoria\nNEXTAUTH_URL=http://localhost:3000\nNEXTAUTH_URL_INTERNAL=http://localhost:3000\nNODE_ENV=development\nDATABASE_URL=postgresql://postgres:password@localhost:5432/crm_db","fullPath":".env","isBinary":false,"lastModified":1730142665002},"docs":{"name":"docs","type":"folder","fullPath":"docs","lastModified":1730142665002},"BOLT.md":{"name":"BOLT.md","type":"file","contents":"# BOLT - Guía de Desarrollo y Directrices\nsolo hablame en espanol, y no haga ningun cambio si autorizacion revise el bolt.md para la directrices de trabajo\n\n## Introducción\n\nBOLT es el entorno de desarrollo integrado para el CRM Fullstack Multi-tienda. Esta guía proporciona las directrices y mejores prácticas para el desarrollo en este entorno.\n\n## Directrices Fundamentales\n\n1. **Revisión del README**\n   - SIEMPRE revisar el README.md completo antes de cualquier modificación\n   - NO mostrar el readme resumido o abreviado\n   - Entender la lógica del proyecto y su estructura actual\n   - No modificar el README sin autorización explícita\n   - Al agregar contenido al README, preservar todo el contenido existente\n\n2. **Control de Cambios**\n   - No realizar cambios sin autorización explícita\n   - No modificar funcionalidades existentes que estén funcionando\n   - No alterar diseños UI implementados sin aprobación\n   - Solicitar autorización antes de ejecutar cualquier comando o implementar cambios\n\n  \n1. **Inicio del Desarrollo**\n   - Revisar README.md completo\n   - Verificar la configuración actual\n   - No iniciar el servidor automáticamente\n\n3. **Modificaciones**\n   - Solicitar autorización para cambios\n   - Documentar modificaciones propuestas\n   - Esperar aprobación antes de implementar\n\n   \n## Comandos y Ejecución\n\nIMPORTANTE: NO ejecutar comandos automáticamente. Esperar autorización para:\n- `npm install`\n- `npm run dev`\n- `npm run init-db`\n- Cualquier otro comando npm\n\n## Mejores Prácticas\n\n1. **Documentación**\n   - Mantener documentación actualizada\n   - No eliminar documentación existente\n   - Agregar nuevas secciones sin modificar las existentes\n\n2. **Código**\n   - Seguir estándares establecidos\n   - No refactorizar sin autorización\n   - Mantener compatibilidad con implementaciones existentes\n\n3. **Base de Datos**\n   - Respetar esquemas existentes\n   - Mantener compatibilidad PostgreSQL/SQLite\n   - No modificar datos de prueba sin autorización\n\n## Desarrollo en StackBlitz\n\n1. **Entorno**\n   - Usar SQLite por defecto\n   - No modificar configuración automáticamente\n   - Esperar autorización para cambios\n\n2. **Pruebas**\n   - No ejecutar pruebas automáticamente\n   - Documentar casos de prueba propuestos\n   - Esperar aprobación para implementación\n\n## Mantenimiento\n\n1. **Actualizaciones**\n   - Proponer actualizaciones documentadas\n   - Esperar aprobación antes de implementar\n   - Mantener registro de cambios\n\n2. **Depuración**\n   - Documentar problemas encontrados\n   - Proponer soluciones\n   - Esperar autorización para implementar fixes\n\n## Notas Importantes\n\n- No iniciar el servidor automáticamente\n- No ejecutar npm install sin autorización\n- No modificar configuraciones existentes\n- Mantener la compatibilidad con ambos sistemas de base de datos\n- Solicitar aprobación para cualquier cambio\n- Preservar toda la documentación existente","fullPath":"BOLT.md","isBinary":false,"lastModified":1730142665002},"scripts":{"name":"scripts","type":"folder","fullPath":"scripts","lastModified":1730142665002},"README.md":{"name":"README.md","type":"file","contents":"# CRM Fullstack Multi-tienda con Next.js\n\nEste proyecto es un CRM (Customer Relationship Management) fullstack desarrollado con Next.js, TypeScript y soporte dual para PostgreSQL y SQLite, diseñado para manejar múltiples tiendas con un enfoque en la seguridad y la separación de datos entre empresas.\n\n## Lógica del proyecto\n- El usuario inicia en la página de login. Si no está registrado, puede crear una nueva cuenta.\n- En el registro, el usuario debe crear una nueva empresa, que por defecto creará una sucursal principal que será la tienda en donde se trabajará.\n- El usuario será el super admin tanto de la empresa como de las sucursales.\n- Una empresa puede tener varias tiendas o sucursales que estén relacionadas o pertenezcan a esa Empresa.\n- Una sucursal solo puede tener información relacionada a la sucursal.\n- Un usuario puede pertenecer a múltiples empresas.\n- Al iniciar sesión, si el usuario pertenece a múltiples empresas, se le presentará un selector para elegir con qué empresa desea trabajar.\n- Los usuarios pueden ser invitados a unirse a otras empresas por los administradores de esas empresas.\n\n## Configuración de Base de Datos\n\nEl proyecto soporta dos sistemas de gestión de bases de datos:\n\n### PostgreSQL (Producción/Desarrollo Local)\n- Para usar PostgreSQL, configura la variable `DATABASE_URL` en el archivo `.env`\n- Formato: `postgresql://usuario:contraseña@host:puerto/nombre_db`\n- Ejemplo: `DATABASE_URL=postgresql://postgres:password@localhost:5432/crm_db`\n\n### SQLite (Desarrollo/Testing)\n- SQLite se usa por defecto si no se encuentra la variable `DATABASE_URL`\n- Los archivos de SQLite se almacenan en la carpeta `db/`\n- Nombre del archivo por defecto: `database.sqlite`\n\n### Inicialización de la Base de Datos\n\n```bash\n# Inicializa la base de datos (detecta automáticamente PostgreSQL o SQLite)\nnpm run init-db\n```\n\nEl script de inicialización:\n1. Detecta el sistema de base de datos a usar\n2. Crea todas las tablas necesarias\n3. Inserta roles y permisos básicos\n4. Configura índices para optimización\n\n### Estructura de la Base de Datos\n\nEl sistema incluye las siguientes tablas principales:\n\n1. **Usuarios y Autenticación**\n   - users\n   - roles\n   - permissions\n   - role_permissions\n\n2. **Empresas y Sucursales**\n   - companies\n   - stores\n   - user_companies\n   - company_settings\n\n3. **Productos e Inventario**\n   - products\n   - product_categories\n   - store_inventory\n   - inventory_movements\n\n4. **Ventas y Compras**\n   - sales\n   - sale_items\n   - purchases\n   - purchase_items\n\n5. **Clientes y Proveedores**\n   - customers\n   - suppliers\n\n6. **Gestión y Auditoría**\n   - audit_logs\n   - invitations\n   - store_transfers\n   - store_transfer_items\n\n## Sistema de Roles y Permisos\n\n### Roles Predefinidos\n\n1. **Super Admin**\n   - Acceso total al sistema\n   - Todos los permisos habilitados por defecto\n   - Gestión completa de empresas y usuarios\n\n2. **Admin**\n   - Gestión de su empresa y sucursales\n   - Gestión de usuarios dentro de su empresa\n   - Acceso a reportes y configuraciones\n\n3. **Vendedor**\n   - Gestión de ventas\n   - Acceso a inventario\n   - Gestión básica de clientes\n\n4. **Usuario Jr**\n   - Acceso de solo lectura\n   - Visualización de productos e inventario\n   - Consulta de ventas\n\n### Categorías de Permisos\n\n1. **Empresa**\n   - Ver, editar, eliminar y crear empresas\n\n2. **Usuarios**\n   - Gestión de usuarios y permisos\n\n3. **Sucursales**\n   - Administración de tiendas\n\n4. **Productos e Inventario**\n   - Gestión de productos\n   - Control de inventario\n\n5. **Ventas y Compras**\n   - Gestión de transacciones\n   - Reportes y análisis\n\n6. **Clientes y Proveedores**\n   - Gestión de relaciones comerciales\n\n7. **Configuración y Auditoría**\n   - Ajustes del sistema\n   - Registros de actividad\n\n## Características Principales\n\n1. **Autenticación y Autorización**\n   - [x] Sistema de registro y login implementado\n   - [x] Gestión de roles de usuario (admin, gerente de tienda, etc.)\n   - [x] Protección de rutas y API endpoints\n\n2. **Gestión Multi-tienda**\n   - [x] Soporte para que una empresa tenga múltiples tiendas\n   - [x] Lógica para compartir módulos entre tiendas de la misma empresa\n   - [x] Seguridad para que cada tienda solo pueda acceder a su propia información\n   - [x] Soporte para que un usuario pertenezca a múltiples empresas\n\n3. **API Routes de Next.js**\n   - [x] Endpoints para autenticación implementados\n   - [x] Endpoints para gestión de tiendas creados\n   - [x] Endpoints para manejo de productos por tienda desarrollados\n   - [x] Endpoints para invitaciones entre empresas implementados\n\n4. **Base de Datos**\n   - [x] Configuración dual PostgreSQL/SQLite\n   - [x] Esquema básico para usuarios, empresas, tiendas y productos\n   - [x] Implementación de relaciones y consultas básicas\n   - [x] Esquema actualizado para soportar usuarios en múltiples empresas\n   - [x] Tabla de invitaciones para unirse a empresas agregada\n\n5. **Interfaz de Usuario**\n   - [x] Dashboard principal diseñado y desarrollado\n   - [x] Interfaces para gestión de tiendas creadas\n   - [x] Vistas para productos y análisis implementadas\n   - [x] Selector de empresa al inicio de sesión agregado\n   - [x] Interfaz para invitar usuarios a una empresa creada\n   - [x] Vista para gestionar invitaciones recibidas implementada\n\n6. **Gestión de Múltiples Empresas**\n   - [x] Soporte para que un usuario se registre en múltiples empresas\n   - [x] Selector de empresa al iniciar sesión implementado\n   - [x] Lógica de autenticación actualizada para manejar múltiples empresas\n   - [x] Sistema de invitaciones entre empresas implementado\n\n7. **Sistema de Invitaciones**\n   - [x] Tabla de invitaciones en la base de datos creada\n   - [x] API para enviar invitaciones implementada\n   - [x] Interfaz para que los administradores inviten usuarios creada\n   - [x] API para aceptar o rechazar invitaciones implementada\n   - [x] Interfaz para que los usuarios gestionen sus invitaciones creada\n\n## Progreso del Proyecto\n\n- [x] Implementación de la lógica para múltiples empresas por usuario\n- [x] Actualización del proceso de registro para manejar usuarios existentes\n- [x] Modificación del inicio de sesión para seleccionar empresa\n- [x] Implementación del sistema de invitaciones entre empresas\n- [x] Creación de interfaces para gestionar invitaciones\n- [x] Mejora del proceso de inicio de sesión con selección de empresa en la misma página\n- [x] Optimización del diseño responsive y ajustes en el sidebar\n- [x] Mejora en la gestión de estados de carga y redirecciones\n\n## Próximos Pasos\n\n1. Refinar la lógica de múltiples empresas y mejorar la experiencia del usuario\n2. Implementar notificaciones por correo electrónico para las invitaciones\n3. Mejorar la gestión de permisos para diferentes roles en cada empresa\n4. Implementar un sistema de auditoría para rastrear cambios importantes\n5. Desarrollar un panel de análisis y reportes para cada empresa y tienda\n6. Mejorar la interfaz de usuario para una experiencia más intuitiva\n7. Implementar pruebas automatizadas para garantizar la estabilidad del sistema\n8. Optimizar el rendimiento de la aplicación, especialmente para grandes conjuntos de datos\n9. Desarrollar una API documentada para integraciones de terceros\n10. Implementar un sistema de respaldo y recuperación de datos\n\n## Cómo ejecutar el proyecto\n\n1. Clona el repositorio\n2. Instala las dependencias con `npm install`\n3. Configura las variables de entorno en un archivo `.env`\n4. Ejecuta las migraciones de la base de datos con `npm run init-db`\n5. Inicia el servidor de desarrollo con `npm run dev`\n6. Abre `http://localhost:3000` en tu navegador\n\n## Contribuciones\n\nLas contribuciones son bienvenidas. Por favor, abre un issue para discutir cambios mayores antes de crear un pull request.\n\n## Licencia\n\nEste proyecto está bajo la licencia MIT.","fullPath":"README.md","isBinary":false,"lastModified":1730142665002},"src/pages":{"name":"pages","type":"folder","fullPath":"src/pages","lastModified":1730142665002},"src/types":{"name":"types","type":"folder","fullPath":"src/types","lastModified":1730142665002},"src/styles":{"name":"styles","type":"folder","fullPath":"src/styles","lastModified":1730142665002},"src/context":{"name":"context","type":"folder","fullPath":"src/context","lastModified":1730142665002},"package.json":{"name":"package.json","type":"file","contents":"{\n  \"name\": \"crm-fullstack-multi-tienda\",\n  \"version\": \"0.0.0.84\",\n  \"description\": \"CRM Fullstack Multi-tienda con Next.js\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\",\n    \"lint\": \"next lint\",\n    \"init-db\": \"node scripts/init-db.js\"\n  },\n  \"keywords\": [\n    \"crm\",\n    \"nextjs\",\n    \"fullstack\",\n    \"multi-tienda\"\n  ],\n  \"author\": \"\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"@types/pg\": \"^8.11.2\",\n    \"bcryptjs\": \"^2.4.3\",\n    \"lucide-react\": \"^0.259.0\",\n    \"next\": \"^12.3.4\",\n    \"next-auth\": \"^4.24.8\",\n    \"pg\": \"^8.11.3\",\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\"\n  },\n  \"devDependencies\": {\n    \"@tailwindcss/forms\": \"^0.5.9\",\n    \"@types/bcryptjs\": \"^2.4.6\",\n    \"@types/node\": \"^18.15.11\",\n    \"@types/react\": \"^18.0.33\",\n    \"autoprefixer\": \"^10.4.20\",\n    \"postcss\": \"^8.4.47\",\n    \"tailwindcss\": \"^3.4.14\",\n    \"typescript\": \"^5.0.3\"\n  }\n}","fullPath":"package.json","isBinary":false,"lastModified":1730142665002},"src/services":{"name":"services","type":"folder","fullPath":"src/services","lastModified":1730142665002},"src/types.ts":{"name":"types.ts","type":"file","contents":"export interface User {\n  id?: number\n  name: string\n  email: string\n  password: string\n}\n\nexport interface Company {\n  id?: number\n  name: string\n  userId: number\n}\n\nexport interface Store {\n  id?: number\n  name: string\n  companyId: number\n}\n\nexport interface Product {\n  id?: number\n  name: string\n  price: number\n  storeId: number\n}","fullPath":"src/types.ts","isBinary":false,"lastModified":1730142665002},"next-env.d.ts":{"name":"next-env.d.ts","type":"file","contents":"/// \u003creference types=\"next\" /\u003e\n/// \u003creference types=\"next/image-types/global\" /\u003e\n\n// NOTE: This file should not be edited\n// see https://nextjs.org/docs/basic-features/typescript for more information.\n","fullPath":"next-env.d.ts","isBinary":false,"lastModified":1730142665002},"src/pages/api":{"name":"api","type":"folder","fullPath":"src/pages/api","lastModified":1730142665003},"tsconfig.json":{"name":"tsconfig.json","type":"file","contents":"{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"strict\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"noEmit\": true,\n    \"esModuleInterop\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\",\n    \"incremental\": true\n  },\n  \"include\": [\"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\"],\n  \"exclude\": [\"node_modules\"]\n}","fullPath":"tsconfig.json","isBinary":false,"lastModified":1730142665002},"next.config.js":{"name":"next.config.js","type":"file","contents":"/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  reactStrictMode: true,\n  async headers() {\n    return [\n      {\n        // Aplicar estas cabeceras a todas las rutas en tu aplicación.\n        source: '/(.*)',\n        headers: [\n          {\n            key: 'Access-Control-Allow-Origin',\n            value: process.env.ALLOWED_ORIGIN || '*',\n          },\n          {\n            key: 'Access-Control-Allow-Methods',\n            value: 'GET,OPTIONS,PATCH,DELETE,POST,PUT',\n          },\n          {\n            key: 'Access-Control-Allow-Headers',\n            value: 'X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version',\n          },\n        ],\n      },\n    ];\n  },\n}\n\nmodule.exports = nextConfig","fullPath":"next.config.js","isBinary":false,"lastModified":1730142665002},"src/components":{"name":"components","type":"folder","fullPath":"src/components","lastModified":1730142665003},"src/pages/auth":{"name":"auth","type":"folder","fullPath":"src/pages/auth","lastModified":1730142665003},"scripts/postgres":{"name":"postgres","type":"folder","fullPath":"scripts/postgres","lastModified":1730142665003},"docs/v0.0.0.82.md":{"name":"v0.0.0.82.md","type":"file","contents":"## CRM Fullstack Multi-tienda v0.0.0.82 - Changelog (2024-01-09)\n\n### Mejoras en Sistema de Roles y Permisos\n\n1. **Registro y Asignación de Roles**\n   - Corrección en el proceso de registro para asignar correctamente el rol super_admin\n   - Implementación de asignación automática de todos los permisos al super_admin\n   - Validación para prevenir la modificación o eliminación del rol super_admin\n   - Mejora en la lógica de asignación de permisos durante la creación de empresa\n\n2. **Gestión de Roles**\n   - Nueva interfaz completa para gestión de roles en el panel de configuración\n   - Implementación de CRUD completo para roles\n   - Protección especial para el rol super_admin\n   - Validaciones de seguridad en endpoints de roles\n\n3. **Visualización de Roles**\n   - Integración del rol en el popup de usuario del sidebar\n   - Traducción de nombres de roles (ej: \"super_admin\" → \"Super Administrador\")\n   - Mejora en la visualización de permisos por rol\n\n### Mejoras en la Interfaz de Usuario\n\n1. **Control de Tamaño de Texto**\n   - Implementación de sistema de control de tamaño de texto\n   - Cuatro tamaños disponibles: Extra pequeño, Pequeño, Mediano, Grande\n   - Controles independientes para:\n     - Links del sidebar\n     - Links de configuración\n   - Persistencia de preferencias en localStorage\n\n2. **Panel de Configuración**\n   - Nueva sección de \"Apariencia\" con controles de texto\n   - Sección de \"Roles y Permisos\" visible solo para super_admin\n   - Mejora en la organización de pestañas\n   - Implementación de permisos por pestaña\n\n3. **Sidebar**\n   - Integración del tamaño de texto dinámico\n   - Mejora en la visualización del rol del usuario\n   - Optimización del espaciado y alineación\n\n### Correcciones y Optimizaciones\n\n1. **Base de Datos**\n   - Mejora en las consultas de roles y permisos\n   - Optimización del proceso de asignación de permisos\n   - Validaciones adicionales en operaciones de roles\n\n2. **Seguridad**\n   - Validación mejorada en endpoints de roles\n   - Protección contra modificación de roles críticos\n   - Verificación de permisos en operaciones sensibles\n\n3. **Versión**\n   - Actualización de versión en package.json\n   - Integración de versión dinámica en el footer\n   - Corrección en la visualización de la versión\n\n### Pendientes y Próximos Pasos\n\n1. **Mejoras Planificadas**\n   - Sistema de notificaciones para cambios en roles\n   - Historial de cambios en permisos\n   - Mejoras en la interfaz de asignación de permisos\n   - Sistema de auditoría para cambios en roles\n\n2. **Optimizaciones Futuras**\n   - Caché de permisos para mejor rendimiento\n   - Mejora en la gestión de estados de roles\n   - Refinamiento de la interfaz de usuario\n\n3. **Documentación**\n   - Actualización de guías de usuario\n   - Documentación técnica de roles y permisos\n   - Guías de mejores prácticas","fullPath":"docs/v0.0.0.82.md","isBinary":false,"lastModified":1730142665002},"docs/v0.0.0.83.md":{"name":"v0.0.0.83.md","type":"file","contents":"## CRM Fullstack Multi-tienda v0.0.0.83 - Changelog (2024-01-10)\n\n### Correcciones en Sistema de Autenticación\n\n1. **Mejoras en el Proceso de Login**\n   - Corrección en el manejo de sesiones\n   - Optimización del flujo de autenticación\n   - Eliminación del selector de empresa redundante\n   - Mejora en la validación de credenciales\n\n2. **Gestión de Roles**\n   - Implementación de middleware para protección de rutas\n   - Validación mejorada de permisos de super_admin\n   - Corrección en la asignación de roles durante el registro\n   - Optimización de consultas de roles y permisos\n\n3. **Nuevos Permisos**\n   - Adición de nuevos permisos de seguridad\n   - Permisos específicos para gestión de roles\n   - Permisos para configuración del sistema\n   - Permisos para auditoría y logs\n\n### Mejoras en la Interfaz de Usuario\n\n1. **Gestión de Roles y Permisos**\n   - Nuevo selector desplegable de roles\n   - Implementación de modal para creación de roles\n   - Lista mejorada de permisos con checkboxes\n   - Mejor organización visual de permisos\n\n2. **Experiencia de Usuario**\n   - Mejoras en los estados de carga\n   - Mensajes de error más descriptivos\n   - Validaciones más robustas\n   - Mejor manejo de estados de la interfaz\n\n### Seguridad y Optimización\n\n1. **Middleware de Seguridad**\n   - Implementación de middleware para protección de rutas\n   - Validación de roles en endpoints de API\n   - Mejor manejo de sesiones\n   - Protección mejorada de rutas administrativas\n\n2. **Base de Datos**\n   - Nuevos permisos agregados al script de inicialización\n   - Mejora en la estructura de roles y permisos\n   - Optimización de consultas\n   - Mejor organización de permisos por categorías\n\n### Correcciones Generales\n\n1. **Autenticación**\n   - Corrección de errores en el manejo de sesiones\n   - Mejor manejo de errores en el proceso de login\n   - Optimización del flujo de registro\n   - Validaciones mejoradas\n\n2. **API**\n   - Mejor manejo de errores en endpoints\n   - Respuestas más descriptivas\n   - Validaciones más robustas\n   - Optimización de consultas a la base de datos\n\n### Próximos Pasos\n\n1. **Mejoras Planificadas**\n   - Implementar notificaciones para cambios en roles\n   - Agregar historial de cambios en permisos\n   - Mejorar la interfaz de asignación de permisos\n   - Implementar sistema de auditoría para cambios en roles\n\n2. **Optimizaciones Futuras**\n   - Implementar caché de permisos\n   - Mejorar el rendimiento de consultas\n   - Refinar la interfaz de usuario\n   - Implementar más validaciones de seguridad","fullPath":"docs/v0.0.0.83.md","isBinary":false,"lastModified":1730142665002},"package-lock.json":{"name":"package-lock.json","type":"file","contents":"{\n  \"name\": \"crm-fullstack-multi-tienda\",\n  \"version\": \"0.0.0.84\",\n  \"lockfileVersion\": 3,\n  \"requires\": true,\n  \"packages\": {\n    \"\": {\n      \"name\": \"crm-fullstack-multi-tienda\",\n      \"version\": \"0.0.0.84\",\n      \"license\": \"MIT\",\n      \"dependencies\": {\n        \"@types/pg\": \"^8.11.2\",\n        \"bcryptjs\": \"^2.4.3\",\n        \"lucide-react\": \"^0.259.0\",\n        \"next\": \"^12.3.4\",\n        \"next-auth\": \"^4.24.8\",\n        \"pg\": \"^8.11.3\",\n        \"react\": \"^18.2.0\",\n        \"react-dom\": \"^18.2.0\"\n      },\n      \"devDependencies\": {\n        \"@tailwindcss/forms\": \"^0.5.9\",\n        \"@types/bcryptjs\": \"^2.4.6\",\n        \"@types/node\": \"^18.15.11\",\n        \"@types/react\": \"^18.0.33\",\n        \"autoprefixer\": \"^10.4.20\",\n        \"postcss\": \"^8.4.47\",\n        \"tailwindcss\": \"^3.4.14\",\n        \"typescript\": \"^5.0.3\"\n      }\n    },\n    \"node_modules/@alloc/quick-lru\": {\n      \"version\": \"5.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz\",\n      \"integrity\": \"sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=10\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/sindresorhus\"\n      }\n    },\n    \"node_modules/@babel/runtime\": {\n      \"version\": \"7.25.7\",\n      \"resolved\": \"https://registry.npmjs.org/@babel/runtime/-/runtime-7.25.7.tgz\",\n      \"integrity\": \"sha512-FjoyLe754PMiYsFaN5C94ttGiOmBNYTf6pLr4xXHAT5uctHb092PBszndLDR5XA/jghQvn4n7JMHl7dmTgbm9w==\",\n      \"dependencies\": {\n        \"regenerator-runtime\": \"^0.14.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=6.9.0\"\n      }\n    },\n    \"node_modules/@isaacs/cliui\": {\n      \"version\": \"8.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/@isaacs/cliui/-/cliui-8.0.2.tgz\",\n      \"integrity\": \"sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"string-width\": \"^5.1.2\",\n        \"string-width-cjs\": \"npm:string-width@^4.2.0\",\n        \"strip-ansi\": \"^7.0.1\",\n        \"strip-ansi-cjs\": \"npm:strip-ansi@^6.0.1\",\n        \"wrap-ansi\": \"^8.1.0\",\n        \"wrap-ansi-cjs\": \"npm:wrap-ansi@^7.0.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      }\n    },\n    \"node_modules/@isaacs/cliui/node_modules/ansi-regex\": {\n      \"version\": \"6.1.0\",\n      \"resolved\": \"https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.1.0.tgz\",\n      \"integrity\": \"sha512-7HSX4QQb4CspciLpVFwyRe79O3xsIZDDLER21kERQ71oaPodF8jL725AgJMFAYbooIqolJoRLuM81SpeUkpkvA==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/chalk/ansi-regex?sponsor=1\"\n      }\n    },\n    \"node_modules/@isaacs/cliui/node_modules/emoji-regex\": {\n      \"version\": \"9.2.2\",\n      \"resolved\": \"https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz\",\n      \"integrity\": \"sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==\",\n      \"dev\": true\n    },\n    \"node_modules/@isaacs/cliui/node_modules/string-width\": {\n      \"version\": \"5.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz\",\n      \"integrity\": \"sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"eastasianwidth\": \"^0.2.0\",\n        \"emoji-regex\": \"^9.2.2\",\n        \"strip-ansi\": \"^7.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/sindresorhus\"\n      }\n    },\n    \"node_modules/@isaacs/cliui/node_modules/strip-ansi\": {\n      \"version\": \"7.1.0\",\n      \"resolved\": \"https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.0.tgz\",\n      \"integrity\": \"sha512-iq6eVVI64nQQTRYq2KtEg2d2uU7LElhTJwsH4YzIHZshxlgZms/wIc4VoDQTlG/IvVIrBKG06CrZnp0qv7hkcQ==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"ansi-regex\": \"^6.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/chalk/strip-ansi?sponsor=1\"\n      }\n    },\n    \"node_modules/@jridgewell/gen-mapping\": {\n      \"version\": \"0.3.5\",\n      \"resolved\": \"https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.5.tgz\",\n      \"integrity\": \"sha512-IzL8ZoEDIBRWEzlCcRhOaCupYyN5gdIK+Q6fbFdPDg6HqX6jpkItn7DFIpW9LQzXG6Df9sA7+OKnq0qlz/GaQg==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"@jridgewell/set-array\": \"^1.2.1\",\n        \"@jridgewell/sourcemap-codec\": \"^1.4.10\",\n        \"@jridgewell/trace-mapping\": \"^0.3.24\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=6.0.0\"\n      }\n    },\n    \"node_modules/@jridgewell/resolve-uri\": {\n      \"version\": \"3.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz\",\n      \"integrity\": \"sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=6.0.0\"\n      }\n    },\n    \"node_modules/@jridgewell/set-array\": {\n      \"version\": \"1.2.1\",\n      \"resolved\": \"https://registry.npmjs.org/@jridgewell/set-array/-/set-array-1.2.1.tgz\",\n      \"integrity\": \"sha512-R8gLRTZeyp03ymzP/6Lil/28tGeGEzhx1q2k703KGWRAI1VdvPIXdG70VJc2pAMw3NA6JKL5hhFu1sJX0Mnn/A==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=6.0.0\"\n      }\n    },\n    \"node_modules/@jridgewell/sourcemap-codec\": {\n      \"version\": \"1.5.0\",\n      \"resolved\": \"https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.0.tgz\",\n      \"integrity\": \"sha512-gv3ZRaISU3fjPAgNsriBRqGWQL6quFx04YMPW/zD8XMLsU32mhCCbfbO6KZFLjvYpCZ8zyDEgqsgf+PwPaM7GQ==\",\n      \"dev\": true\n    },\n    \"node_modules/@jridgewell/trace-mapping\": {\n      \"version\": \"0.3.25\",\n      \"resolved\": \"https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.25.tgz\",\n      \"integrity\": \"sha512-vNk6aEwybGtawWmy/PzwnGDOjCkLWSD2wqvjGGAgOAwCGWySYXfYoxt00IJkTF+8Lb57DwOb3Aa0o9CApepiYQ==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"@jridgewell/resolve-uri\": \"^3.1.0\",\n        \"@jridgewell/sourcemap-codec\": \"^1.4.14\"\n      }\n    },\n    \"node_modules/@next/env\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/env/-/env-12.3.4.tgz\",\n      \"integrity\": \"sha512-H/69Lc5Q02dq3o+dxxy5O/oNxFsZpdL6WREtOOtOM1B/weonIwDXkekr1KV5DPVPr12IHFPrMrcJQ6bgPMfn7A==\"\n    },\n    \"node_modules/@next/swc-android-arm-eabi\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-android-arm-eabi/-/swc-android-arm-eabi-12.3.4.tgz\",\n      \"integrity\": \"sha512-cM42Cw6V4Bz/2+j/xIzO8nK/Q3Ly+VSlZJTa1vHzsocJRYz8KT6MrreXaci2++SIZCF1rVRCDgAg5PpqRibdIA==\",\n      \"cpu\": [\n        \"arm\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"android\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-android-arm64\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-android-arm64/-/swc-android-arm64-12.3.4.tgz\",\n      \"integrity\": \"sha512-5jf0dTBjL+rabWjGj3eghpLUxCukRhBcEJgwLedewEA/LJk2HyqCvGIwj5rH+iwmq1llCWbOky2dO3pVljrapg==\",\n      \"cpu\": [\n        \"arm64\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"android\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-darwin-arm64\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-darwin-arm64/-/swc-darwin-arm64-12.3.4.tgz\",\n      \"integrity\": \"sha512-DqsSTd3FRjQUR6ao0E1e2OlOcrF5br+uegcEGPVonKYJpcr0MJrtYmPxd4v5T6UCJZ+XzydF7eQo5wdGvSZAyA==\",\n      \"cpu\": [\n        \"arm64\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"darwin\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-darwin-x64\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-darwin-x64/-/swc-darwin-x64-12.3.4.tgz\",\n      \"integrity\": \"sha512-PPF7tbWD4k0dJ2EcUSnOsaOJ5rhT3rlEt/3LhZUGiYNL8KvoqczFrETlUx0cUYaXe11dRA3F80Hpt727QIwByQ==\",\n      \"cpu\": [\n        \"x64\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"darwin\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-freebsd-x64\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-freebsd-x64/-/swc-freebsd-x64-12.3.4.tgz\",\n      \"integrity\": \"sha512-KM9JXRXi/U2PUM928z7l4tnfQ9u8bTco/jb939pdFUHqc28V43Ohd31MmZD1QzEK4aFlMRaIBQOWQZh4D/E5lQ==\",\n      \"cpu\": [\n        \"x64\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"freebsd\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-linux-arm-gnueabihf\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-linux-arm-gnueabihf/-/swc-linux-arm-gnueabihf-12.3.4.tgz\",\n      \"integrity\": \"sha512-3zqD3pO+z5CZyxtKDTnOJ2XgFFRUBciOox6EWkoZvJfc9zcidNAQxuwonUeNts6Xbm8Wtm5YGIRC0x+12YH7kw==\",\n      \"cpu\": [\n        \"arm\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"linux\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-linux-arm64-gnu\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-12.3.4.tgz\",\n      \"integrity\": \"sha512-kiX0vgJGMZVv+oo1QuObaYulXNvdH/IINmvdZnVzMO/jic/B8EEIGlZ8Bgvw8LCjH3zNVPO3mGrdMvnEEPEhKA==\",\n      \"cpu\": [\n        \"arm64\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"linux\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-linux-arm64-musl\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-12.3.4.tgz\",\n      \"integrity\": \"sha512-EETZPa1juczrKLWk5okoW2hv7D7WvonU+Cf2CgsSoxgsYbUCZ1voOpL4JZTOb6IbKMDo6ja+SbY0vzXZBUMvkQ==\",\n      \"cpu\": [\n        \"arm64\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"linux\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-linux-x64-gnu\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-12.3.4.tgz\",\n      \"integrity\": \"sha512-4csPbRbfZbuWOk3ATyWcvVFdD9/Rsdq5YHKvRuEni68OCLkfy4f+4I9OBpyK1SKJ00Cih16NJbHE+k+ljPPpag==\",\n      \"cpu\": [\n        \"x64\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"linux\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-linux-x64-musl\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-12.3.4.tgz\",\n      \"integrity\": \"sha512-YeBmI+63Ro75SUiL/QXEVXQ19T++58aI/IINOyhpsRL1LKdyfK/35iilraZEFz9bLQrwy1LYAR5lK200A9Gjbg==\",\n      \"cpu\": [\n        \"x64\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"linux\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-win32-arm64-msvc\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-12.3.4.tgz\",\n      \"integrity\": \"sha512-Sd0qFUJv8Tj0PukAYbCCDbmXcMkbIuhnTeHm9m4ZGjCf6kt7E/RMs55Pd3R5ePjOkN7dJEuxYBehawTR/aPDSQ==\",\n      \"cpu\": [\n        \"arm64\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"win32\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-win32-ia32-msvc\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-12.3.4.tgz\",\n      \"integrity\": \"sha512-rt/vv/vg/ZGGkrkKcuJ0LyliRdbskQU+91bje+PgoYmxTZf/tYs6IfbmgudBJk6gH3QnjHWbkphDdRQrseRefQ==\",\n      \"cpu\": [\n        \"ia32\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"win32\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@next/swc-win32-x64-msvc\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-12.3.4.tgz\",\n      \"integrity\": \"sha512-DQ20JEfTBZAgF8QCjYfJhv2/279M6onxFjdG/+5B0Cyj00/EdBxiWb2eGGFgQhrBbNv/lsvzFbbi0Ptf8Vw/bg==\",\n      \"cpu\": [\n        \"x64\"\n      ],\n      \"optional\": true,\n      \"os\": [\n        \"win32\"\n      ],\n      \"engines\": {\n        \"node\": \"\u003e= 10\"\n      }\n    },\n    \"node_modules/@nodelib/fs.scandir\": {\n      \"version\": \"2.1.5\",\n      \"resolved\": \"https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz\",\n      \"integrity\": \"sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"@nodelib/fs.stat\": \"2.0.5\",\n        \"run-parallel\": \"^1.1.9\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 8\"\n      }\n    },\n    \"node_modules/@nodelib/fs.stat\": {\n      \"version\": \"2.0.5\",\n      \"resolved\": \"https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz\",\n      \"integrity\": \"sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e= 8\"\n      }\n    },\n    \"node_modules/@nodelib/fs.walk\": {\n      \"version\": \"1.2.8\",\n      \"resolved\": \"https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz\",\n      \"integrity\": \"sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"@nodelib/fs.scandir\": \"2.1.5\",\n        \"fastq\": \"^1.6.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 8\"\n      }\n    },\n    \"node_modules/@panva/hkdf\": {\n      \"version\": \"1.2.1\",\n      \"resolved\": \"https://registry.npmjs.org/@panva/hkdf/-/hkdf-1.2.1.tgz\",\n      \"integrity\": \"sha512-6oclG6Y3PiDFcoyk8srjLfVKyMfVCKJ27JwNPViuXziFpmdz+MZnZN/aKY0JGXgYuO/VghU0jcOAZgWXZ1Dmrw==\",\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/panva\"\n      }\n    },\n    \"node_modules/@pkgjs/parseargs\": {\n      \"version\": \"0.11.0\",\n      \"resolved\": \"https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz\",\n      \"integrity\": \"sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==\",\n      \"dev\": true,\n      \"optional\": true,\n      \"engines\": {\n        \"node\": \"\u003e=14\"\n      }\n    },\n    \"node_modules/@swc/helpers\": {\n      \"version\": \"0.4.11\",\n      \"resolved\": \"https://registry.npmjs.org/@swc/helpers/-/helpers-0.4.11.tgz\",\n      \"integrity\": \"sha512-rEUrBSGIoSFuYxwBYtlUFMlE2CwGhmW+w9355/5oduSw8e5h2+Tj4UrAGNNgP9915++wj5vkQo0UuOBqOAq4nw==\",\n      \"dependencies\": {\n        \"tslib\": \"^2.4.0\"\n      }\n    },\n    \"node_modules/@tailwindcss/forms\": {\n      \"version\": \"0.5.9\",\n      \"resolved\": \"https://registry.npmjs.org/@tailwindcss/forms/-/forms-0.5.9.tgz\",\n      \"integrity\": \"sha512-tM4XVr2+UVTxXJzey9Twx48c1gcxFStqn1pQz0tRsX8o3DvxhN5oY5pvyAbUx7VTaZxpej4Zzvc6h+1RJBzpIg==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"mini-svg-data-uri\": \"^1.2.3\"\n      },\n      \"peerDependencies\": {\n        \"tailwindcss\": \"\u003e=3.0.0 || \u003e= 3.0.0-alpha.1 || \u003e= 4.0.0-alpha.20\"\n      }\n    },\n    \"node_modules/@types/bcryptjs\": {\n      \"version\": \"2.4.6\",\n      \"resolved\": \"https://registry.npmjs.org/@types/bcryptjs/-/bcryptjs-2.4.6.tgz\",\n      \"integrity\": \"sha512-9xlo6R2qDs5uixm0bcIqCeMCE6HiQsIyel9KQySStiyqNl2tnj2mP3DX1Nf56MD6KMenNNlBBsy3LJ7gUEQPXQ==\",\n      \"dev\": true\n    },\n    \"node_modules/@types/node\": {\n      \"version\": \"18.19.57\",\n      \"resolved\": \"https://registry.npmjs.org/@types/node/-/node-18.19.57.tgz\",\n      \"integrity\": \"sha512-I2ioBd/IPrYDMv9UNR5NlPElOZ68QB7yY5V2EsLtSrTO0LM0PnCEFF9biLWHf5k+sIy4ohueCV9t4gk1AEdlVA==\",\n      \"dependencies\": {\n        \"undici-types\": \"~5.26.4\"\n      }\n    },\n    \"node_modules/@types/pg\": {\n      \"version\": \"8.11.10\",\n      \"resolved\": \"https://registry.npmjs.org/@types/pg/-/pg-8.11.10.tgz\",\n      \"integrity\": \"sha512-LczQUW4dbOQzsH2RQ5qoeJ6qJPdrcM/DcMLoqWQkMLMsq83J5lAX3LXjdkWdpscFy67JSOWDnh7Ny/sPFykmkg==\",\n      \"dependencies\": {\n        \"@types/node\": \"*\",\n        \"pg-protocol\": \"*\",\n        \"pg-types\": \"^4.0.1\"\n      }\n    },\n    \"node_modules/@types/prop-types\": {\n      \"version\": \"15.7.13\",\n      \"resolved\": \"https://registry.npmjs.org/@types/prop-types/-/prop-types-15.7.13.tgz\",\n      \"integrity\": \"sha512-hCZTSvwbzWGvhqxp/RqVqwU999pBf2vp7hzIjiYOsl8wqOmUxkQ6ddw1cV3l8811+kdUFus/q4d1Y3E3SyEifA==\",\n      \"dev\": true\n    },\n    \"node_modules/@types/react\": {\n      \"version\": \"18.3.11\",\n      \"resolved\": \"https://registry.npmjs.org/@types/react/-/react-18.3.11.tgz\",\n      \"integrity\": \"sha512-r6QZ069rFTjrEYgFdOck1gK7FLVsgJE7tTz0pQBczlBNUhBNk0MQH4UbnFSwjpQLMkLzgqvBBa+qGpLje16eTQ==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"@types/prop-types\": \"*\",\n        \"csstype\": \"^3.0.2\"\n      }\n    },\n    \"node_modules/ansi-regex\": {\n      \"version\": \"5.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz\",\n      \"integrity\": \"sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/ansi-styles\": {\n      \"version\": \"6.2.1\",\n      \"resolved\": \"https://registry.npmjs.org/ansi-styles/-/ansi-styles-6.2.1.tgz\",\n      \"integrity\": \"sha512-bN798gFfQX+viw3R7yrGWRqnrN2oRkEkUjjl4JNn4E8GxxbjtG3FbrEIIY3l8/hrwUwIeCZvi4QuOTP4MErVug==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/chalk/ansi-styles?sponsor=1\"\n      }\n    },\n    \"node_modules/any-promise\": {\n      \"version\": \"1.3.0\",\n      \"resolved\": \"https://registry.npmjs.org/any-promise/-/any-promise-1.3.0.tgz\",\n      \"integrity\": \"sha512-7UvmKalWRt1wgjL1RrGxoSJW/0QZFIegpeGvZG9kjp8vrRu55XTHbwnqq2GpXm9uLbcuhxm3IqX9OB4MZR1b2A==\",\n      \"dev\": true\n    },\n    \"node_modules/anymatch\": {\n      \"version\": \"3.1.3\",\n      \"resolved\": \"https://registry.npmjs.org/anymatch/-/anymatch-3.1.3.tgz\",\n      \"integrity\": \"sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"normalize-path\": \"^3.0.0\",\n        \"picomatch\": \"^2.0.4\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 8\"\n      }\n    },\n    \"node_modules/arg\": {\n      \"version\": \"5.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/arg/-/arg-5.0.2.tgz\",\n      \"integrity\": \"sha512-PYjyFOLKQ9y57JvQ6QLo8dAgNqswh8M1RMJYdQduT6xbWSgK36P/Z/v+p888pM69jMMfS8Xd8F6I1kQ/I9HUGg==\",\n      \"dev\": true\n    },\n    \"node_modules/autoprefixer\": {\n      \"version\": \"10.4.20\",\n      \"resolved\": \"https://registry.npmjs.org/autoprefixer/-/autoprefixer-10.4.20.tgz\",\n      \"integrity\": \"sha512-XY25y5xSv/wEoqzDyXXME4AFfkZI0P23z6Fs3YgymDnKJkCGOnkL0iTxCa85UTqaSgfcqyf3UA6+c7wUvx/16g==\",\n      \"dev\": true,\n      \"funding\": [\n        {\n          \"type\": \"opencollective\",\n          \"url\": \"https://opencollective.com/postcss/\"\n        },\n        {\n          \"type\": \"tidelift\",\n          \"url\": \"https://tidelift.com/funding/github/npm/autoprefixer\"\n        },\n        {\n          \"type\": \"github\",\n          \"url\": \"https://github.com/sponsors/ai\"\n        }\n      ],\n      \"dependencies\": {\n        \"browserslist\": \"^4.23.3\",\n        \"caniuse-lite\": \"^1.0.30001646\",\n        \"fraction.js\": \"^4.3.7\",\n        \"normalize-range\": \"^0.1.2\",\n        \"picocolors\": \"^1.0.1\",\n        \"postcss-value-parser\": \"^4.2.0\"\n      },\n      \"bin\": {\n        \"autoprefixer\": \"bin/autoprefixer\"\n      },\n      \"engines\": {\n        \"node\": \"^10 || ^12 || \u003e=14\"\n      },\n      \"peerDependencies\": {\n        \"postcss\": \"^8.1.0\"\n      }\n    },\n    \"node_modules/balanced-match\": {\n      \"version\": \"1.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz\",\n      \"integrity\": \"sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==\",\n      \"dev\": true\n    },\n    \"node_modules/bcryptjs\": {\n      \"version\": \"2.4.3\",\n      \"resolved\": \"https://registry.npmjs.org/bcryptjs/-/bcryptjs-2.4.3.tgz\",\n      \"integrity\": \"sha512-V/Hy/X9Vt7f3BbPJEi8BdVFMByHi+jNXrYkW3huaybV/kQ0KJg0Y6PkEMbn+zeT+i+SiKZ/HMqJGIIt4LZDqNQ==\"\n    },\n    \"node_modules/binary-extensions\": {\n      \"version\": \"2.3.0\",\n      \"resolved\": \"https://registry.npmjs.org/binary-extensions/-/binary-extensions-2.3.0.tgz\",\n      \"integrity\": \"sha512-Ceh+7ox5qe7LJuLHoY0feh3pHuUDHAcRUeyL2VYghZwfpkNIy/+8Ocg0a3UuSoYzavmylwuLWQOf3hl0jjMMIw==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/sindresorhus\"\n      }\n    },\n    \"node_modules/braces\": {\n      \"version\": \"3.0.3\",\n      \"resolved\": \"https://registry.npmjs.org/braces/-/braces-3.0.3.tgz\",\n      \"integrity\": \"sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"fill-range\": \"^7.1.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/browserslist\": {\n      \"version\": \"4.24.0\",\n      \"resolved\": \"https://registry.npmjs.org/browserslist/-/browserslist-4.24.0.tgz\",\n      \"integrity\": \"sha512-Rmb62sR1Zpjql25eSanFGEhAxcFwfA1K0GuQcLoaJBAcENegrQut3hYdhXFF1obQfiDyqIW/cLM5HSJ/9k884A==\",\n      \"dev\": true,\n      \"funding\": [\n        {\n          \"type\": \"opencollective\",\n          \"url\": \"https://opencollective.com/browserslist\"\n        },\n        {\n          \"type\": \"tidelift\",\n          \"url\": \"https://tidelift.com/funding/github/npm/browserslist\"\n        },\n        {\n          \"type\": \"github\",\n          \"url\": \"https://github.com/sponsors/ai\"\n        }\n      ],\n      \"dependencies\": {\n        \"caniuse-lite\": \"^1.0.30001663\",\n        \"electron-to-chromium\": \"^1.5.28\",\n        \"node-releases\": \"^2.0.18\",\n        \"update-browserslist-db\": \"^1.1.0\"\n      },\n      \"bin\": {\n        \"browserslist\": \"cli.js\"\n      },\n      \"engines\": {\n        \"node\": \"^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || \u003e=13.7\"\n      }\n    },\n    \"node_modules/camelcase-css\": {\n      \"version\": \"2.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/camelcase-css/-/camelcase-css-2.0.1.tgz\",\n      \"integrity\": \"sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e= 6\"\n      }\n    },\n    \"node_modules/caniuse-lite\": {\n      \"version\": \"1.0.30001669\",\n      \"resolved\": \"https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001669.tgz\",\n      \"integrity\": \"sha512-DlWzFDJqstqtIVx1zeSpIMLjunf5SmwOw0N2Ck/QSQdS8PLS4+9HrLaYei4w8BIAL7IB/UEDu889d8vhCTPA0w==\",\n      \"funding\": [\n        {\n          \"type\": \"opencollective\",\n          \"url\": \"https://opencollective.com/browserslist\"\n        },\n        {\n          \"type\": \"tidelift\",\n          \"url\": \"https://tidelift.com/funding/github/npm/caniuse-lite\"\n        },\n        {\n          \"type\": \"github\",\n          \"url\": \"https://github.com/sponsors/ai\"\n        }\n      ]\n    },\n    \"node_modules/chokidar\": {\n      \"version\": \"3.6.0\",\n      \"resolved\": \"https://registry.npmjs.org/chokidar/-/chokidar-3.6.0.tgz\",\n      \"integrity\": \"sha512-7VT13fmjotKpGipCW9JEQAusEPE+Ei8nl6/g4FBAmIm0GOOLMua9NDDo/DWp0ZAxCr3cPq5ZpBqmPAQgDda2Pw==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"anymatch\": \"~3.1.2\",\n        \"braces\": \"~3.0.2\",\n        \"glob-parent\": \"~5.1.2\",\n        \"is-binary-path\": \"~2.1.0\",\n        \"is-glob\": \"~4.0.1\",\n        \"normalize-path\": \"~3.0.0\",\n        \"readdirp\": \"~3.6.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 8.10.0\"\n      },\n      \"funding\": {\n        \"url\": \"https://paulmillr.com/funding/\"\n      },\n      \"optionalDependencies\": {\n        \"fsevents\": \"~2.3.2\"\n      }\n    },\n    \"node_modules/chokidar/node_modules/glob-parent\": {\n      \"version\": \"5.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz\",\n      \"integrity\": \"sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"is-glob\": \"^4.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 6\"\n      }\n    },\n    \"node_modules/color-convert\": {\n      \"version\": \"2.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz\",\n      \"integrity\": \"sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"color-name\": \"~1.1.4\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=7.0.0\"\n      }\n    },\n    \"node_modules/color-name\": {\n      \"version\": \"1.1.4\",\n      \"resolved\": \"https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz\",\n      \"integrity\": \"sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==\",\n      \"dev\": true\n    },\n    \"node_modules/commander\": {\n      \"version\": \"4.1.1\",\n      \"resolved\": \"https://registry.npmjs.org/commander/-/commander-4.1.1.tgz\",\n      \"integrity\": \"sha512-NOKm8xhkzAjzFx8B2v5OAHT+u5pRQc2UCa2Vq9jYL/31o2wi9mxBA7LIFs3sV5VSC49z6pEhfbMULvShKj26WA==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e= 6\"\n      }\n    },\n    \"node_modules/cookie\": {\n      \"version\": \"0.5.0\",\n      \"resolved\": \"https://registry.npmjs.org/cookie/-/cookie-0.5.0.tgz\",\n      \"integrity\": \"sha512-YZ3GUyn/o8gfKJlnlX7g7xq4gyO6OSuhGPKaaGssGB2qgDUS0gPgtTvoyZLTt9Ab6dC4hfc9dV5arkvc/OCmrw==\",\n      \"engines\": {\n        \"node\": \"\u003e= 0.6\"\n      }\n    },\n    \"node_modules/cross-spawn\": {\n      \"version\": \"7.0.3\",\n      \"resolved\": \"https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.3.tgz\",\n      \"integrity\": \"sha512-iRDPJKUPVEND7dHPO8rkbOnPpyDygcDFtWjpeWNCgy8WP2rXcxXL8TskReQl6OrB2G7+UJrags1q15Fudc7G6w==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"path-key\": \"^3.1.0\",\n        \"shebang-command\": \"^2.0.0\",\n        \"which\": \"^2.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 8\"\n      }\n    },\n    \"node_modules/cssesc\": {\n      \"version\": \"3.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/cssesc/-/cssesc-3.0.0.tgz\",\n      \"integrity\": \"sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==\",\n      \"dev\": true,\n      \"bin\": {\n        \"cssesc\": \"bin/cssesc\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=4\"\n      }\n    },\n    \"node_modules/csstype\": {\n      \"version\": \"3.1.3\",\n      \"resolved\": \"https://registry.npmjs.org/csstype/-/csstype-3.1.3.tgz\",\n      \"integrity\": \"sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==\",\n      \"dev\": true\n    },\n    \"node_modules/didyoumean\": {\n      \"version\": \"1.2.2\",\n      \"resolved\": \"https://registry.npmjs.org/didyoumean/-/didyoumean-1.2.2.tgz\",\n      \"integrity\": \"sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==\",\n      \"dev\": true\n    },\n    \"node_modules/dlv\": {\n      \"version\": \"1.1.3\",\n      \"resolved\": \"https://registry.npmjs.org/dlv/-/dlv-1.1.3.tgz\",\n      \"integrity\": \"sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==\",\n      \"dev\": true\n    },\n    \"node_modules/eastasianwidth\": {\n      \"version\": \"0.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/eastasianwidth/-/eastasianwidth-0.2.0.tgz\",\n      \"integrity\": \"sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==\",\n      \"dev\": true\n    },\n    \"node_modules/electron-to-chromium\": {\n      \"version\": \"1.5.41\",\n      \"resolved\": \"https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.41.tgz\",\n      \"integrity\": \"sha512-dfdv/2xNjX0P8Vzme4cfzHqnPm5xsZXwsolTYr0eyW18IUmNyG08vL+fttvinTfhKfIKdRoqkDIC9e9iWQCNYQ==\",\n      \"dev\": true\n    },\n    \"node_modules/emoji-regex\": {\n      \"version\": \"8.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz\",\n      \"integrity\": \"sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==\",\n      \"dev\": true\n    },\n    \"node_modules/escalade\": {\n      \"version\": \"3.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz\",\n      \"integrity\": \"sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=6\"\n      }\n    },\n    \"node_modules/fast-glob\": {\n      \"version\": \"3.3.2\",\n      \"resolved\": \"https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.2.tgz\",\n      \"integrity\": \"sha512-oX2ruAFQwf/Orj8m737Y5adxDQO0LAB7/S5MnxCdTNDd4p6BsyIVsv9JQsATbTSq8KHRpLwIHbVlUNatxd+1Ow==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"@nodelib/fs.stat\": \"^2.0.2\",\n        \"@nodelib/fs.walk\": \"^1.2.3\",\n        \"glob-parent\": \"^5.1.2\",\n        \"merge2\": \"^1.3.0\",\n        \"micromatch\": \"^4.0.4\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8.6.0\"\n      }\n    },\n    \"node_modules/fast-glob/node_modules/glob-parent\": {\n      \"version\": \"5.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz\",\n      \"integrity\": \"sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"is-glob\": \"^4.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 6\"\n      }\n    },\n    \"node_modules/fastq\": {\n      \"version\": \"1.17.1\",\n      \"resolved\": \"https://registry.npmjs.org/fastq/-/fastq-1.17.1.tgz\",\n      \"integrity\": \"sha512-sRVD3lWVIXWg6By68ZN7vho9a1pQcN/WBFaAAsDDFzlJjvoGx0P8z7V1t72grFJfJhu3YPZBuu25f7Kaw2jN1w==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"reusify\": \"^1.0.4\"\n      }\n    },\n    \"node_modules/fill-range\": {\n      \"version\": \"7.1.1\",\n      \"resolved\": \"https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz\",\n      \"integrity\": \"sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"to-regex-range\": \"^5.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/foreground-child\": {\n      \"version\": \"3.3.0\",\n      \"resolved\": \"https://registry.npmjs.org/foreground-child/-/foreground-child-3.3.0.tgz\",\n      \"integrity\": \"sha512-Ld2g8rrAyMYFXBhEqMz8ZAHBi4J4uS1i/CxGMDnjyFWddMXLVcDp051DZfu+t7+ab7Wv6SMqpWmyFIj5UbfFvg==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"cross-spawn\": \"^7.0.0\",\n        \"signal-exit\": \"^4.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=14\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/isaacs\"\n      }\n    },\n    \"node_modules/foreground-child/node_modules/signal-exit\": {\n      \"version\": \"4.1.0\",\n      \"resolved\": \"https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz\",\n      \"integrity\": \"sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=14\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/isaacs\"\n      }\n    },\n    \"node_modules/fraction.js\": {\n      \"version\": \"4.3.7\",\n      \"resolved\": \"https://registry.npmjs.org/fraction.js/-/fraction.js-4.3.7.tgz\",\n      \"integrity\": \"sha512-ZsDfxO51wGAXREY55a7la9LScWpwv9RxIrYABrlvOFBlH/ShPnrtsXeuUIfXKKOVicNxQ+o8JTbJvjS4M89yew==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"*\"\n      },\n      \"funding\": {\n        \"type\": \"patreon\",\n        \"url\": \"https://github.com/sponsors/rawify\"\n      }\n    },\n    \"node_modules/fsevents\": {\n      \"version\": \"2.3.3\",\n      \"resolved\": \"https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz\",\n      \"integrity\": \"sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==\",\n      \"dev\": true,\n      \"hasInstallScript\": true,\n      \"optional\": true,\n      \"os\": [\n        \"darwin\"\n      ],\n      \"engines\": {\n        \"node\": \"^8.16.0 || ^10.6.0 || \u003e=11.0.0\"\n      }\n    },\n    \"node_modules/function-bind\": {\n      \"version\": \"1.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz\",\n      \"integrity\": \"sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==\",\n      \"dev\": true,\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/ljharb\"\n      }\n    },\n    \"node_modules/glob-parent\": {\n      \"version\": \"6.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz\",\n      \"integrity\": \"sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"is-glob\": \"^4.0.3\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=10.13.0\"\n      }\n    },\n    \"node_modules/hasown\": {\n      \"version\": \"2.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz\",\n      \"integrity\": \"sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"function-bind\": \"^1.1.2\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 0.4\"\n      }\n    },\n    \"node_modules/is-binary-path\": {\n      \"version\": \"2.1.0\",\n      \"resolved\": \"https://registry.npmjs.org/is-binary-path/-/is-binary-path-2.1.0.tgz\",\n      \"integrity\": \"sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"binary-extensions\": \"^2.0.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/is-core-module\": {\n      \"version\": \"2.15.1\",\n      \"resolved\": \"https://registry.npmjs.org/is-core-module/-/is-core-module-2.15.1.tgz\",\n      \"integrity\": \"sha512-z0vtXSwucUJtANQWldhbtbt7BnL0vxiFjIdDLAatwhDYty2bad6s+rijD6Ri4YuYJubLzIJLUidCh09e1djEVQ==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"hasown\": \"^2.0.2\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 0.4\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/ljharb\"\n      }\n    },\n    \"node_modules/is-extglob\": {\n      \"version\": \"2.1.1\",\n      \"resolved\": \"https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz\",\n      \"integrity\": \"sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/is-fullwidth-code-point\": {\n      \"version\": \"3.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz\",\n      \"integrity\": \"sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/is-glob\": {\n      \"version\": \"4.0.3\",\n      \"resolved\": \"https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz\",\n      \"integrity\": \"sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"is-extglob\": \"^2.1.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/is-number\": {\n      \"version\": \"7.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz\",\n      \"integrity\": \"sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=0.12.0\"\n      }\n    },\n    \"node_modules/isexe\": {\n      \"version\": \"2.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz\",\n      \"integrity\": \"sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==\",\n      \"dev\": true\n    },\n    \"node_modules/jackspeak\": {\n      \"version\": \"3.4.3\",\n      \"resolved\": \"https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz\",\n      \"integrity\": \"sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"@isaacs/cliui\": \"^8.0.2\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/isaacs\"\n      },\n      \"optionalDependencies\": {\n        \"@pkgjs/parseargs\": \"^0.11.0\"\n      }\n    },\n    \"node_modules/jiti\": {\n      \"version\": \"1.21.6\",\n      \"resolved\": \"https://registry.npmjs.org/jiti/-/jiti-1.21.6.tgz\",\n      \"integrity\": \"sha512-2yTgeWTWzMWkHu6Jp9NKgePDaYHbntiwvYuuJLbbN9vl7DC9DvXKOB2BC3ZZ92D3cvV/aflH0osDfwpHepQ53w==\",\n      \"dev\": true,\n      \"bin\": {\n        \"jiti\": \"bin/jiti.js\"\n      }\n    },\n    \"node_modules/jose\": {\n      \"version\": \"4.15.9\",\n      \"resolved\": \"https://registry.npmjs.org/jose/-/jose-4.15.9.tgz\",\n      \"integrity\": \"sha512-1vUQX+IdDMVPj4k8kOxgUqlcK518yluMuGZwqlr44FS1ppZB/5GWh4rZG89erpOBOJjU/OBsnCVFfapsRz6nEA==\",\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/panva\"\n      }\n    },\n    \"node_modules/js-tokens\": {\n      \"version\": \"4.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz\",\n      \"integrity\": \"sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==\"\n    },\n    \"node_modules/lilconfig\": {\n      \"version\": \"2.1.0\",\n      \"resolved\": \"https://registry.npmjs.org/lilconfig/-/lilconfig-2.1.0.tgz\",\n      \"integrity\": \"sha512-utWOt/GHzuUxnLKxB6dk81RoOeoNeHgbrXiuGk4yyF5qlRz+iIVWu56E2fqGHFrXz0QNUhLB/8nKqvRH66JKGQ==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=10\"\n      }\n    },\n    \"node_modules/lines-and-columns\": {\n      \"version\": \"1.2.4\",\n      \"resolved\": \"https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz\",\n      \"integrity\": \"sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==\",\n      \"dev\": true\n    },\n    \"node_modules/loose-envify\": {\n      \"version\": \"1.4.0\",\n      \"resolved\": \"https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz\",\n      \"integrity\": \"sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==\",\n      \"dependencies\": {\n        \"js-tokens\": \"^3.0.0 || ^4.0.0\"\n      },\n      \"bin\": {\n        \"loose-envify\": \"cli.js\"\n      }\n    },\n    \"node_modules/lru-cache\": {\n      \"version\": \"6.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/lru-cache/-/lru-cache-6.0.0.tgz\",\n      \"integrity\": \"sha512-Jo6dJ04CmSjuznwJSS3pUeWmd/H0ffTlkXXgwZi+eq1UCmqQwCh+eLsYOYCwY991i2Fah4h1BEMCx4qThGbsiA==\",\n      \"dependencies\": {\n        \"yallist\": \"^4.0.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=10\"\n      }\n    },\n    \"node_modules/lucide-react\": {\n      \"version\": \"0.259.0\",\n      \"resolved\": \"https://registry.npmjs.org/lucide-react/-/lucide-react-0.259.0.tgz\",\n      \"integrity\": \"sha512-dFBLc6jRDfcpD9NQ7NyFVa+YR3RHX6+bs+f/UiotvNPho+kd4WyeXWMCCchUf7i/pq3BAaHkbmtkbx/GxxHVUw==\",\n      \"peerDependencies\": {\n        \"react\": \"^16.5.1 || ^17.0.0 || ^18.0.0\"\n      }\n    },\n    \"node_modules/merge2\": {\n      \"version\": \"1.4.1\",\n      \"resolved\": \"https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz\",\n      \"integrity\": \"sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e= 8\"\n      }\n    },\n    \"node_modules/micromatch\": {\n      \"version\": \"4.0.8\",\n      \"resolved\": \"https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz\",\n      \"integrity\": \"sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"braces\": \"^3.0.3\",\n        \"picomatch\": \"^2.3.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8.6\"\n      }\n    },\n    \"node_modules/mini-svg-data-uri\": {\n      \"version\": \"1.4.4\",\n      \"resolved\": \"https://registry.npmjs.org/mini-svg-data-uri/-/mini-svg-data-uri-1.4.4.tgz\",\n      \"integrity\": \"sha512-r9deDe9p5FJUPZAk3A59wGH7Ii9YrjjWw0jmw/liSbHl2CHiyXj6FcDXDu2K3TjVAXqiJdaw3xxwlZZr9E6nHg==\",\n      \"dev\": true,\n      \"bin\": {\n        \"mini-svg-data-uri\": \"cli.js\"\n      }\n    },\n    \"node_modules/mz\": {\n      \"version\": \"2.7.0\",\n      \"resolved\": \"https://registry.npmjs.org/mz/-/mz-2.7.0.tgz\",\n      \"integrity\": \"sha512-z81GNO7nnYMEhrGh9LeymoE4+Yr0Wn5McHIZMK5cfQCl+NDX08sCZgUc9/6MHni9IWuFLm1Z3HTCXu2z9fN62Q==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"any-promise\": \"^1.0.0\",\n        \"object-assign\": \"^4.0.1\",\n        \"thenify-all\": \"^1.0.0\"\n      }\n    },\n    \"node_modules/nanoid\": {\n      \"version\": \"3.3.7\",\n      \"resolved\": \"https://registry.npmjs.org/nanoid/-/nanoid-3.3.7.tgz\",\n      \"integrity\": \"sha512-eSRppjcPIatRIMC1U6UngP8XFcz8MQWGQdt1MTBQ7NaAmvXDfvNxbvWV3x2y6CdEUciCSsDHDQZbhYaB8QEo2g==\",\n      \"funding\": [\n        {\n          \"type\": \"github\",\n          \"url\": \"https://github.com/sponsors/ai\"\n        }\n      ],\n      \"bin\": {\n        \"nanoid\": \"bin/nanoid.cjs\"\n      },\n      \"engines\": {\n        \"node\": \"^10 || ^12 || ^13.7 || ^14 || \u003e=15.0.1\"\n      }\n    },\n    \"node_modules/next\": {\n      \"version\": \"12.3.4\",\n      \"resolved\": \"https://registry.npmjs.org/next/-/next-12.3.4.tgz\",\n      \"integrity\": \"sha512-VcyMJUtLZBGzLKo3oMxrEF0stxh8HwuW976pAzlHhI3t8qJ4SROjCrSh1T24bhrbjw55wfZXAbXPGwPt5FLRfQ==\",\n      \"dependencies\": {\n        \"@next/env\": \"12.3.4\",\n        \"@swc/helpers\": \"0.4.11\",\n        \"caniuse-lite\": \"^1.0.30001406\",\n        \"postcss\": \"8.4.14\",\n        \"styled-jsx\": \"5.0.7\",\n        \"use-sync-external-store\": \"1.2.0\"\n      },\n      \"bin\": {\n        \"next\": \"dist/bin/next\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=12.22.0\"\n      },\n      \"optionalDependencies\": {\n        \"@next/swc-android-arm-eabi\": \"12.3.4\",\n        \"@next/swc-android-arm64\": \"12.3.4\",\n        \"@next/swc-darwin-arm64\": \"12.3.4\",\n        \"@next/swc-darwin-x64\": \"12.3.4\",\n        \"@next/swc-freebsd-x64\": \"12.3.4\",\n        \"@next/swc-linux-arm-gnueabihf\": \"12.3.4\",\n        \"@next/swc-linux-arm64-gnu\": \"12.3.4\",\n        \"@next/swc-linux-arm64-musl\": \"12.3.4\",\n        \"@next/swc-linux-x64-gnu\": \"12.3.4\",\n        \"@next/swc-linux-x64-musl\": \"12.3.4\",\n        \"@next/swc-win32-arm64-msvc\": \"12.3.4\",\n        \"@next/swc-win32-ia32-msvc\": \"12.3.4\",\n        \"@next/swc-win32-x64-msvc\": \"12.3.4\"\n      },\n      \"peerDependencies\": {\n        \"fibers\": \"\u003e= 3.1.0\",\n        \"node-sass\": \"^6.0.0 || ^7.0.0\",\n        \"react\": \"^17.0.2 || ^18.0.0-0\",\n        \"react-dom\": \"^17.0.2 || ^18.0.0-0\",\n        \"sass\": \"^1.3.0\"\n      },\n      \"peerDependenciesMeta\": {\n        \"fibers\": {\n          \"optional\": true\n        },\n        \"node-sass\": {\n          \"optional\": true\n        },\n        \"sass\": {\n          \"optional\": true\n        }\n      }\n    },\n    \"node_modules/next-auth\": {\n      \"version\": \"4.24.8\",\n      \"resolved\": \"https://registry.npmjs.org/next-auth/-/next-auth-4.24.8.tgz\",\n      \"integrity\": \"sha512-SLt3+8UCtklsotnz2p+nB4aN3IHNmpsQFAZ24VLxGotWGzSxkBh192zxNhm/J5wgkcrDWVp0bwqvW0HksK/Lcw==\",\n      \"dependencies\": {\n        \"@babel/runtime\": \"^7.20.13\",\n        \"@panva/hkdf\": \"^1.0.2\",\n        \"cookie\": \"^0.5.0\",\n        \"jose\": \"^4.15.5\",\n        \"oauth\": \"^0.9.15\",\n        \"openid-client\": \"^5.4.0\",\n        \"preact\": \"^10.6.3\",\n        \"preact-render-to-string\": \"^5.1.19\",\n        \"uuid\": \"^8.3.2\"\n      },\n      \"peerDependencies\": {\n        \"@auth/core\": \"0.34.2\",\n        \"next\": \"^12.2.5 || ^13 || ^14\",\n        \"nodemailer\": \"^6.6.5\",\n        \"react\": \"^17.0.2 || ^18\",\n        \"react-dom\": \"^17.0.2 || ^18\"\n      },\n      \"peerDependenciesMeta\": {\n        \"@auth/core\": {\n          \"optional\": true\n        },\n        \"nodemailer\": {\n          \"optional\": true\n        }\n      }\n    },\n    \"node_modules/next/node_modules/postcss\": {\n      \"version\": \"8.4.14\",\n      \"resolved\": \"https://registry.npmjs.org/postcss/-/postcss-8.4.14.tgz\",\n      \"integrity\": \"sha512-E398TUmfAYFPBSdzgeieK2Y1+1cpdxJx8yXbK/m57nRhKSmk1GB2tO4lbLBtlkfPQTDKfe4Xqv1ASWPpayPEig==\",\n      \"funding\": [\n        {\n          \"type\": \"opencollective\",\n          \"url\": \"https://opencollective.com/postcss/\"\n        },\n        {\n          \"type\": \"tidelift\",\n          \"url\": \"https://tidelift.com/funding/github/npm/postcss\"\n        }\n      ],\n      \"dependencies\": {\n        \"nanoid\": \"^3.3.4\",\n        \"picocolors\": \"^1.0.0\",\n        \"source-map-js\": \"^1.0.2\"\n      },\n      \"engines\": {\n        \"node\": \"^10 || ^12 || \u003e=14\"\n      }\n    },\n    \"node_modules/node-releases\": {\n      \"version\": \"2.0.18\",\n      \"resolved\": \"https://registry.npmjs.org/node-releases/-/node-releases-2.0.18.tgz\",\n      \"integrity\": \"sha512-d9VeXT4SJ7ZeOqGX6R5EM022wpL+eWPooLI+5UpWn2jCT1aosUQEhQP214x33Wkwx3JQMvIm+tIoVOdodFS40g==\",\n      \"dev\": true\n    },\n    \"node_modules/normalize-path\": {\n      \"version\": \"3.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz\",\n      \"integrity\": \"sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/normalize-range\": {\n      \"version\": \"0.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/normalize-range/-/normalize-range-0.1.2.tgz\",\n      \"integrity\": \"sha512-bdok/XvKII3nUpklnV6P2hxtMNrCboOjAcyBuQnWEhO665FwrSNRxU+AqpsyvO6LgGYPspN+lu5CLtw4jPRKNA==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/oauth\": {\n      \"version\": \"0.9.15\",\n      \"resolved\": \"https://registry.npmjs.org/oauth/-/oauth-0.9.15.tgz\",\n      \"integrity\": \"sha512-a5ERWK1kh38ExDEfoO6qUHJb32rd7aYmPHuyCu3Fta/cnICvYmgd2uhuKXvPD+PXB+gCEYYEaQdIRAjCOwAKNA==\"\n    },\n    \"node_modules/object-assign\": {\n      \"version\": \"4.1.1\",\n      \"resolved\": \"https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz\",\n      \"integrity\": \"sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/object-hash\": {\n      \"version\": \"2.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/object-hash/-/object-hash-2.2.0.tgz\",\n      \"integrity\": \"sha512-gScRMn0bS5fH+IuwyIFgnh9zBdo4DV+6GhygmWM9HyNJSgS0hScp1f5vjtm7oIIOiT9trXrShAkLFSc2IqKNgw==\",\n      \"engines\": {\n        \"node\": \"\u003e= 6\"\n      }\n    },\n    \"node_modules/obuf\": {\n      \"version\": \"1.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/obuf/-/obuf-1.1.2.tgz\",\n      \"integrity\": \"sha512-PX1wu0AmAdPqOL1mWhqmlOd8kOIZQwGZw6rh7uby9fTc5lhaOWFLX3I6R1hrF9k3zUY40e6igsLGkDXK92LJNg==\"\n    },\n    \"node_modules/oidc-token-hash\": {\n      \"version\": \"5.0.3\",\n      \"resolved\": \"https://registry.npmjs.org/oidc-token-hash/-/oidc-token-hash-5.0.3.tgz\",\n      \"integrity\": \"sha512-IF4PcGgzAr6XXSff26Sk/+P4KZFJVuHAJZj3wgO3vX2bMdNVp/QXTP3P7CEm9V1IdG8lDLY3HhiqpsE/nOwpPw==\",\n      \"engines\": {\n        \"node\": \"^10.13.0 || \u003e=12.0.0\"\n      }\n    },\n    \"node_modules/openid-client\": {\n      \"version\": \"5.7.0\",\n      \"resolved\": \"https://registry.npmjs.org/openid-client/-/openid-client-5.7.0.tgz\",\n      \"integrity\": \"sha512-4GCCGZt1i2kTHpwvaC/sCpTpQqDnBzDzuJcJMbH+y1Q5qI8U8RBvoSh28svarXszZHR5BAMXbJPX1PGPRE3VOA==\",\n      \"dependencies\": {\n        \"jose\": \"^4.15.9\",\n        \"lru-cache\": \"^6.0.0\",\n        \"object-hash\": \"^2.2.0\",\n        \"oidc-token-hash\": \"^5.0.3\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/panva\"\n      }\n    },\n    \"node_modules/package-json-from-dist\": {\n      \"version\": \"1.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/package-json-from-dist/-/package-json-from-dist-1.0.1.tgz\",\n      \"integrity\": \"sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==\",\n      \"dev\": true\n    },\n    \"node_modules/path-key\": {\n      \"version\": \"3.1.1\",\n      \"resolved\": \"https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz\",\n      \"integrity\": \"sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/path-parse\": {\n      \"version\": \"1.0.7\",\n      \"resolved\": \"https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz\",\n      \"integrity\": \"sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==\",\n      \"dev\": true\n    },\n    \"node_modules/path-scurry\": {\n      \"version\": \"1.11.1\",\n      \"resolved\": \"https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz\",\n      \"integrity\": \"sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"lru-cache\": \"^10.2.0\",\n        \"minipass\": \"^5.0.0 || ^6.0.2 || ^7.0.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=16 || 14 \u003e=14.18\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/isaacs\"\n      }\n    },\n    \"node_modules/path-scurry/node_modules/lru-cache\": {\n      \"version\": \"10.4.3\",\n      \"resolved\": \"https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz\",\n      \"integrity\": \"sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==\",\n      \"dev\": true\n    },\n    \"node_modules/path-scurry/node_modules/minipass\": {\n      \"version\": \"7.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz\",\n      \"integrity\": \"sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=16 || 14 \u003e=14.17\"\n      }\n    },\n    \"node_modules/pg\": {\n      \"version\": \"8.13.0\",\n      \"resolved\": \"https://registry.npmjs.org/pg/-/pg-8.13.0.tgz\",\n      \"integrity\": \"sha512-34wkUTh3SxTClfoHB3pQ7bIMvw9dpFU1audQQeZG837fmHfHpr14n/AELVDoOYVDW2h5RDWU78tFjkD+erSBsw==\",\n      \"dependencies\": {\n        \"pg-connection-string\": \"^2.7.0\",\n        \"pg-pool\": \"^3.7.0\",\n        \"pg-protocol\": \"^1.7.0\",\n        \"pg-types\": \"^2.1.0\",\n        \"pgpass\": \"1.x\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 8.0.0\"\n      },\n      \"optionalDependencies\": {\n        \"pg-cloudflare\": \"^1.1.1\"\n      },\n      \"peerDependencies\": {\n        \"pg-native\": \"\u003e=3.0.1\"\n      },\n      \"peerDependenciesMeta\": {\n        \"pg-native\": {\n          \"optional\": true\n        }\n      }\n    },\n    \"node_modules/pg-cloudflare\": {\n      \"version\": \"1.1.1\",\n      \"resolved\": \"https://registry.npmjs.org/pg-cloudflare/-/pg-cloudflare-1.1.1.tgz\",\n      \"integrity\": \"sha512-xWPagP/4B6BgFO+EKz3JONXv3YDgvkbVrGw2mTo3D6tVDQRh1e7cqVGvyR3BE+eQgAvx1XhW/iEASj4/jCWl3Q==\",\n      \"optional\": true\n    },\n    \"node_modules/pg-connection-string\": {\n      \"version\": \"2.7.0\",\n      \"resolved\": \"https://registry.npmjs.org/pg-connection-string/-/pg-connection-string-2.7.0.tgz\",\n      \"integrity\": \"sha512-PI2W9mv53rXJQEOb8xNR8lH7Hr+EKa6oJa38zsK0S/ky2er16ios1wLKhZyxzD7jUReiWokc9WK5nxSnC7W1TA==\"\n    },\n    \"node_modules/pg-int8\": {\n      \"version\": \"1.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/pg-int8/-/pg-int8-1.0.1.tgz\",\n      \"integrity\": \"sha512-WCtabS6t3c8SkpDBUlb1kjOs7l66xsGdKpIPZsg4wR+B3+u9UAum2odSsF9tnvxg80h4ZxLWMy4pRjOsFIqQpw==\",\n      \"engines\": {\n        \"node\": \"\u003e=4.0.0\"\n      }\n    },\n    \"node_modules/pg-numeric\": {\n      \"version\": \"1.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/pg-numeric/-/pg-numeric-1.0.2.tgz\",\n      \"integrity\": \"sha512-BM/Thnrw5jm2kKLE5uJkXqqExRUY/toLHda65XgFTBTFYZyopbKjBe29Ii3RbkvlsMoFwD+tHeGaCjjv0gHlyw==\",\n      \"engines\": {\n        \"node\": \"\u003e=4\"\n      }\n    },\n    \"node_modules/pg-pool\": {\n      \"version\": \"3.7.0\",\n      \"resolved\": \"https://registry.npmjs.org/pg-pool/-/pg-pool-3.7.0.tgz\",\n      \"integrity\": \"sha512-ZOBQForurqh4zZWjrgSwwAtzJ7QiRX0ovFkZr2klsen3Nm0aoh33Ls0fzfv3imeH/nw/O27cjdz5kzYJfeGp/g==\",\n      \"peerDependencies\": {\n        \"pg\": \"\u003e=8.0\"\n      }\n    },\n    \"node_modules/pg-protocol\": {\n      \"version\": \"1.7.0\",\n      \"resolved\": \"https://registry.npmjs.org/pg-protocol/-/pg-protocol-1.7.0.tgz\",\n      \"integrity\": \"sha512-hTK/mE36i8fDDhgDFjy6xNOG+LCorxLG3WO17tku+ij6sVHXh1jQUJ8hYAnRhNla4QVD2H8er/FOjc/+EgC6yQ==\"\n    },\n    \"node_modules/pg-types\": {\n      \"version\": \"4.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/pg-types/-/pg-types-4.0.2.tgz\",\n      \"integrity\": \"sha512-cRL3JpS3lKMGsKaWndugWQoLOCoP+Cic8oseVcbr0qhPzYD5DWXK+RZ9LY9wxRf7RQia4SCwQlXk0q6FCPrVng==\",\n      \"dependencies\": {\n        \"pg-int8\": \"1.0.1\",\n        \"pg-numeric\": \"1.0.2\",\n        \"postgres-array\": \"~3.0.1\",\n        \"postgres-bytea\": \"~3.0.0\",\n        \"postgres-date\": \"~2.1.0\",\n        \"postgres-interval\": \"^3.0.0\",\n        \"postgres-range\": \"^1.1.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=10\"\n      }\n    },\n    \"node_modules/pg/node_modules/pg-types\": {\n      \"version\": \"2.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/pg-types/-/pg-types-2.2.0.tgz\",\n      \"integrity\": \"sha512-qTAAlrEsl8s4OiEQY69wDvcMIdQN6wdz5ojQiOy6YRMuynxenON0O5oCpJI6lshc6scgAY8qvJ2On/p+CXY0GA==\",\n      \"dependencies\": {\n        \"pg-int8\": \"1.0.1\",\n        \"postgres-array\": \"~2.0.0\",\n        \"postgres-bytea\": \"~1.0.0\",\n        \"postgres-date\": \"~1.0.4\",\n        \"postgres-interval\": \"^1.1.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=4\"\n      }\n    },\n    \"node_modules/pg/node_modules/postgres-array\": {\n      \"version\": \"2.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/postgres-array/-/postgres-array-2.0.0.tgz\",\n      \"integrity\": \"sha512-VpZrUqU5A69eQyW2c5CA1jtLecCsN2U/bD6VilrFDWq5+5UIEVO7nazS3TEcHf1zuPYO/sqGvUvW62g86RXZuA==\",\n      \"engines\": {\n        \"node\": \"\u003e=4\"\n      }\n    },\n    \"node_modules/pg/node_modules/postgres-bytea\": {\n      \"version\": \"1.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/postgres-bytea/-/postgres-bytea-1.0.0.tgz\",\n      \"integrity\": \"sha512-xy3pmLuQqRBZBXDULy7KbaitYqLcmxigw14Q5sj8QBVLqEwXfeybIKVWiqAXTlcvdvb0+xkOtDbfQMOf4lST1w==\",\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/pg/node_modules/postgres-date\": {\n      \"version\": \"1.0.7\",\n      \"resolved\": \"https://registry.npmjs.org/postgres-date/-/postgres-date-1.0.7.tgz\",\n      \"integrity\": \"sha512-suDmjLVQg78nMK2UZ454hAG+OAW+HQPZ6n++TNDUX+L0+uUlLywnoxJKDou51Zm+zTCjrCl0Nq6J9C5hP9vK/Q==\",\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/pg/node_modules/postgres-interval\": {\n      \"version\": \"1.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/postgres-interval/-/postgres-interval-1.2.0.tgz\",\n      \"integrity\": \"sha512-9ZhXKM/rw350N1ovuWHbGxnGh/SNJ4cnxHiM0rxE4VN41wsg8P8zWn9hv/buK00RP4WvlOyr/RBDiptyxVbkZQ==\",\n      \"dependencies\": {\n        \"xtend\": \"^4.0.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/pgpass\": {\n      \"version\": \"1.0.5\",\n      \"resolved\": \"https://registry.npmjs.org/pgpass/-/pgpass-1.0.5.tgz\",\n      \"integrity\": \"sha512-FdW9r/jQZhSeohs1Z3sI1yxFQNFvMcnmfuj4WBMUTxOrAyLMaTcE1aAMBiTlbMNaXvBCQuVi0R7hd8udDSP7ug==\",\n      \"dependencies\": {\n        \"split2\": \"^4.1.0\"\n      }\n    },\n    \"node_modules/picocolors\": {\n      \"version\": \"1.1.1\",\n      \"resolved\": \"https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz\",\n      \"integrity\": \"sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==\"\n    },\n    \"node_modules/picomatch\": {\n      \"version\": \"2.3.1\",\n      \"resolved\": \"https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz\",\n      \"integrity\": \"sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=8.6\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/jonschlinkert\"\n      }\n    },\n    \"node_modules/pify\": {\n      \"version\": \"2.3.0\",\n      \"resolved\": \"https://registry.npmjs.org/pify/-/pify-2.3.0.tgz\",\n      \"integrity\": \"sha512-udgsAY+fTnvv7kI7aaxbqwWNb0AHiB0qBO89PZKPkoTmGOgdbrHDKD+0B2X4uTfJ/FT1R09r9gTsjUjNJotuog==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/pirates\": {\n      \"version\": \"4.0.6\",\n      \"resolved\": \"https://registry.npmjs.org/pirates/-/pirates-4.0.6.tgz\",\n      \"integrity\": \"sha512-saLsH7WeYYPiD25LDuLRRY/i+6HaPYr6G1OUlN39otzkSTxKnubR9RTxS3/Kk50s1g2JTgFwWQDQyplC5/SHZg==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e= 6\"\n      }\n    },\n    \"node_modules/postcss\": {\n      \"version\": \"8.4.47\",\n      \"resolved\": \"https://registry.npmjs.org/postcss/-/postcss-8.4.47.tgz\",\n      \"integrity\": \"sha512-56rxCq7G/XfB4EkXq9Egn5GCqugWvDFjafDOThIdMBsI15iqPqR5r15TfSr1YPYeEI19YeaXMCbY6u88Y76GLQ==\",\n      \"dev\": true,\n      \"funding\": [\n        {\n          \"type\": \"opencollective\",\n          \"url\": \"https://opencollective.com/postcss/\"\n        },\n        {\n          \"type\": \"tidelift\",\n          \"url\": \"https://tidelift.com/funding/github/npm/postcss\"\n        },\n        {\n          \"type\": \"github\",\n          \"url\": \"https://github.com/sponsors/ai\"\n        }\n      ],\n      \"dependencies\": {\n        \"nanoid\": \"^3.3.7\",\n        \"picocolors\": \"^1.1.0\",\n        \"source-map-js\": \"^1.2.1\"\n      },\n      \"engines\": {\n        \"node\": \"^10 || ^12 || \u003e=14\"\n      }\n    },\n    \"node_modules/postcss-import\": {\n      \"version\": \"15.1.0\",\n      \"resolved\": \"https://registry.npmjs.org/postcss-import/-/postcss-import-15.1.0.tgz\",\n      \"integrity\": \"sha512-hpr+J05B2FVYUAXHeK1YyI267J/dDDhMU6B6civm8hSY1jYJnBXxzKDKDswzJmtLHryrjhnDjqqp/49t8FALew==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"postcss-value-parser\": \"^4.0.0\",\n        \"read-cache\": \"^1.0.0\",\n        \"resolve\": \"^1.1.7\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=14.0.0\"\n      },\n      \"peerDependencies\": {\n        \"postcss\": \"^8.0.0\"\n      }\n    },\n    \"node_modules/postcss-js\": {\n      \"version\": \"4.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/postcss-js/-/postcss-js-4.0.1.tgz\",\n      \"integrity\": \"sha512-dDLF8pEO191hJMtlHFPRa8xsizHaM82MLfNkUHdUtVEV3tgTp5oj+8qbEqYM57SLfc74KSbw//4SeJma2LRVIw==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"camelcase-css\": \"^2.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"^12 || ^14 || \u003e= 16\"\n      },\n      \"funding\": {\n        \"type\": \"opencollective\",\n        \"url\": \"https://opencollective.com/postcss/\"\n      },\n      \"peerDependencies\": {\n        \"postcss\": \"^8.4.21\"\n      }\n    },\n    \"node_modules/postcss-load-config\": {\n      \"version\": \"4.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/postcss-load-config/-/postcss-load-config-4.0.2.tgz\",\n      \"integrity\": \"sha512-bSVhyJGL00wMVoPUzAVAnbEoWyqRxkjv64tUl427SKnPrENtq6hJwUojroMz2VB+Q1edmi4IfrAPpami5VVgMQ==\",\n      \"dev\": true,\n      \"funding\": [\n        {\n          \"type\": \"opencollective\",\n          \"url\": \"https://opencollective.com/postcss/\"\n        },\n        {\n          \"type\": \"github\",\n          \"url\": \"https://github.com/sponsors/ai\"\n        }\n      ],\n      \"dependencies\": {\n        \"lilconfig\": \"^3.0.0\",\n        \"yaml\": \"^2.3.4\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 14\"\n      },\n      \"peerDependencies\": {\n        \"postcss\": \"\u003e=8.0.9\",\n        \"ts-node\": \"\u003e=9.0.0\"\n      },\n      \"peerDependenciesMeta\": {\n        \"postcss\": {\n          \"optional\": true\n        },\n        \"ts-node\": {\n          \"optional\": true\n        }\n      }\n    },\n    \"node_modules/postcss-load-config/node_modules/lilconfig\": {\n      \"version\": \"3.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/lilconfig/-/lilconfig-3.1.2.tgz\",\n      \"integrity\": \"sha512-eop+wDAvpItUys0FWkHIKeC9ybYrTGbU41U5K7+bttZZeohvnY7M9dZ5kB21GNWiFT2q1OoPTvncPCgSOVO5ow==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=14\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/antonk52\"\n      }\n    },\n    \"node_modules/postcss-nested\": {\n      \"version\": \"6.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/postcss-nested/-/postcss-nested-6.2.0.tgz\",\n      \"integrity\": \"sha512-HQbt28KulC5AJzG+cZtj9kvKB93CFCdLvog1WFLf1D+xmMvPGlBstkpTEZfK5+AN9hfJocyBFCNiqyS48bpgzQ==\",\n      \"dev\": true,\n      \"funding\": [\n        {\n          \"type\": \"opencollective\",\n          \"url\": \"https://opencollective.com/postcss/\"\n        },\n        {\n          \"type\": \"github\",\n          \"url\": \"https://github.com/sponsors/ai\"\n        }\n      ],\n      \"dependencies\": {\n        \"postcss-selector-parser\": \"^6.1.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=12.0\"\n      },\n      \"peerDependencies\": {\n        \"postcss\": \"^8.2.14\"\n      }\n    },\n    \"node_modules/postcss-selector-parser\": {\n      \"version\": \"6.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz\",\n      \"integrity\": \"sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"cssesc\": \"^3.0.0\",\n        \"util-deprecate\": \"^1.0.2\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=4\"\n      }\n    },\n    \"node_modules/postcss-value-parser\": {\n      \"version\": \"4.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz\",\n      \"integrity\": \"sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==\",\n      \"dev\": true\n    },\n    \"node_modules/postgres-array\": {\n      \"version\": \"3.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/postgres-array/-/postgres-array-3.0.2.tgz\",\n      \"integrity\": \"sha512-6faShkdFugNQCLwucjPcY5ARoW1SlbnrZjmGl0IrrqewpvxvhSLHimCVzqeuULCbG0fQv7Dtk1yDbG3xv7Veog==\",\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      }\n    },\n    \"node_modules/postgres-bytea\": {\n      \"version\": \"3.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/postgres-bytea/-/postgres-bytea-3.0.0.tgz\",\n      \"integrity\": \"sha512-CNd4jim9RFPkObHSjVHlVrxoVQXz7quwNFpz7RY1okNNme49+sVyiTvTRobiLV548Hx/hb1BG+iE7h9493WzFw==\",\n      \"dependencies\": {\n        \"obuf\": \"~1.1.2\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 6\"\n      }\n    },\n    \"node_modules/postgres-date\": {\n      \"version\": \"2.1.0\",\n      \"resolved\": \"https://registry.npmjs.org/postgres-date/-/postgres-date-2.1.0.tgz\",\n      \"integrity\": \"sha512-K7Juri8gtgXVcDfZttFKVmhglp7epKb1K4pgrkLxehjqkrgPhfG6OO8LHLkfaqkbpjNRnra018XwAr1yQFWGcA==\",\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      }\n    },\n    \"node_modules/postgres-interval\": {\n      \"version\": \"3.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/postgres-interval/-/postgres-interval-3.0.0.tgz\",\n      \"integrity\": \"sha512-BSNDnbyZCXSxgA+1f5UU2GmwhoI0aU5yMxRGO8CdFEcY2BQF9xm/7MqKnYoM1nJDk8nONNWDk9WeSmePFhQdlw==\",\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      }\n    },\n    \"node_modules/postgres-range\": {\n      \"version\": \"1.1.4\",\n      \"resolved\": \"https://registry.npmjs.org/postgres-range/-/postgres-range-1.1.4.tgz\",\n      \"integrity\": \"sha512-i/hbxIE9803Alj/6ytL7UHQxRvZkI9O4Sy+J3HGc4F4oo/2eQAjTSNJ0bfxyse3bH0nuVesCk+3IRLaMtG3H6w==\"\n    },\n    \"node_modules/preact\": {\n      \"version\": \"10.24.3\",\n      \"resolved\": \"https://registry.npmjs.org/preact/-/preact-10.24.3.tgz\",\n      \"integrity\": \"sha512-Z2dPnBnMUfyQfSQ+GBdsGa16hz35YmLmtTLhM169uW944hYL6xzTYkJjC07j+Wosz733pMWx0fgON3JNw1jJQA==\",\n      \"funding\": {\n        \"type\": \"opencollective\",\n        \"url\": \"https://opencollective.com/preact\"\n      }\n    },\n    \"node_modules/preact-render-to-string\": {\n      \"version\": \"5.2.6\",\n      \"resolved\": \"https://registry.npmjs.org/preact-render-to-string/-/preact-render-to-string-5.2.6.tgz\",\n      \"integrity\": \"sha512-JyhErpYOvBV1hEPwIxc/fHWXPfnEGdRKxc8gFdAZ7XV4tlzyzG847XAyEZqoDnynP88akM4eaHcSOzNcLWFguw==\",\n      \"dependencies\": {\n        \"pretty-format\": \"^3.8.0\"\n      },\n      \"peerDependencies\": {\n        \"preact\": \"\u003e=10\"\n      }\n    },\n    \"node_modules/pretty-format\": {\n      \"version\": \"3.8.0\",\n      \"resolved\": \"https://registry.npmjs.org/pretty-format/-/pretty-format-3.8.0.tgz\",\n      \"integrity\": \"sha512-WuxUnVtlWL1OfZFQFuqvnvs6MiAGk9UNsBostyBOB0Is9wb5uRESevA6rnl/rkksXaGX3GzZhPup5d6Vp1nFew==\"\n    },\n    \"node_modules/queue-microtask\": {\n      \"version\": \"1.2.3\",\n      \"resolved\": \"https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz\",\n      \"integrity\": \"sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==\",\n      \"dev\": true,\n      \"funding\": [\n        {\n          \"type\": \"github\",\n          \"url\": \"https://github.com/sponsors/feross\"\n        },\n        {\n          \"type\": \"patreon\",\n          \"url\": \"https://www.patreon.com/feross\"\n        },\n        {\n          \"type\": \"consulting\",\n          \"url\": \"https://feross.org/support\"\n        }\n      ]\n    },\n    \"node_modules/react\": {\n      \"version\": \"18.3.1\",\n      \"resolved\": \"https://registry.npmjs.org/react/-/react-18.3.1.tgz\",\n      \"integrity\": \"sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==\",\n      \"dependencies\": {\n        \"loose-envify\": \"^1.1.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/react-dom\": {\n      \"version\": \"18.3.1\",\n      \"resolved\": \"https://registry.npmjs.org/react-dom/-/react-dom-18.3.1.tgz\",\n      \"integrity\": \"sha512-5m4nQKp+rZRb09LNH59GM4BxTh9251/ylbKIbpe7TpGxfJ+9kv6BLkLBXIjjspbgbnIBNqlI23tRnTWT0snUIw==\",\n      \"dependencies\": {\n        \"loose-envify\": \"^1.1.0\",\n        \"scheduler\": \"^0.23.2\"\n      },\n      \"peerDependencies\": {\n        \"react\": \"^18.3.1\"\n      }\n    },\n    \"node_modules/read-cache\": {\n      \"version\": \"1.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/read-cache/-/read-cache-1.0.0.tgz\",\n      \"integrity\": \"sha512-Owdv/Ft7IjOgm/i0xvNDZ1LrRANRfew4b2prF3OWMQLxLfu3bS8FVhCsrSCMK4lR56Y9ya+AThoTpDCTxCmpRA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"pify\": \"^2.3.0\"\n      }\n    },\n    \"node_modules/readdirp\": {\n      \"version\": \"3.6.0\",\n      \"resolved\": \"https://registry.npmjs.org/readdirp/-/readdirp-3.6.0.tgz\",\n      \"integrity\": \"sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"picomatch\": \"^2.2.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8.10.0\"\n      }\n    },\n    \"node_modules/regenerator-runtime\": {\n      \"version\": \"0.14.1\",\n      \"resolved\": \"https://registry.npmjs.org/regenerator-runtime/-/regenerator-runtime-0.14.1.tgz\",\n      \"integrity\": \"sha512-dYnhHh0nJoMfnkZs6GmmhFknAGRrLznOu5nc9ML+EJxGvrx6H7teuevqVqCuPcPK//3eDrrjQhehXVx9cnkGdw==\"\n    },\n    \"node_modules/resolve\": {\n      \"version\": \"1.22.8\",\n      \"resolved\": \"https://registry.npmjs.org/resolve/-/resolve-1.22.8.tgz\",\n      \"integrity\": \"sha512-oKWePCxqpd6FlLvGV1VU0x7bkPmmCNolxzjMf4NczoDnQcIWrAF+cPtZn5i6n+RfD2d9i0tzpKnG6Yk168yIyw==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"is-core-module\": \"^2.13.0\",\n        \"path-parse\": \"^1.0.7\",\n        \"supports-preserve-symlinks-flag\": \"^1.0.0\"\n      },\n      \"bin\": {\n        \"resolve\": \"bin/resolve\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/ljharb\"\n      }\n    },\n    \"node_modules/reusify\": {\n      \"version\": \"1.0.4\",\n      \"resolved\": \"https://registry.npmjs.org/reusify/-/reusify-1.0.4.tgz\",\n      \"integrity\": \"sha512-U9nH88a3fc/ekCF1l0/UP1IosiuIjyTh7hBvXVMHYgVcfGvt897Xguj2UOLDeI5BG2m7/uwyaLVT6fbtCwTyzw==\",\n      \"dev\": true,\n      \"engines\": {\n        \"iojs\": \"\u003e=1.0.0\",\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/run-parallel\": {\n      \"version\": \"1.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz\",\n      \"integrity\": \"sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==\",\n      \"dev\": true,\n      \"funding\": [\n        {\n          \"type\": \"github\",\n          \"url\": \"https://github.com/sponsors/feross\"\n        },\n        {\n          \"type\": \"patreon\",\n          \"url\": \"https://www.patreon.com/feross\"\n        },\n        {\n          \"type\": \"consulting\",\n          \"url\": \"https://feross.org/support\"\n        }\n      ],\n      \"dependencies\": {\n        \"queue-microtask\": \"^1.2.2\"\n      }\n    },\n    \"node_modules/scheduler\": {\n      \"version\": \"0.23.2\",\n      \"resolved\": \"https://registry.npmjs.org/scheduler/-/scheduler-0.23.2.tgz\",\n      \"integrity\": \"sha512-UOShsPwz7NrMUqhR6t0hWjFduvOzbtv7toDH1/hIrfRNIDBnnBWd0CwJTGvTpngVlmwGCdP9/Zl/tVrDqcuYzQ==\",\n      \"dependencies\": {\n        \"loose-envify\": \"^1.1.0\"\n      }\n    },\n    \"node_modules/shebang-command\": {\n      \"version\": \"2.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz\",\n      \"integrity\": \"sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"shebang-regex\": \"^3.0.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/shebang-regex\": {\n      \"version\": \"3.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz\",\n      \"integrity\": \"sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/source-map-js\": {\n      \"version\": \"1.2.1\",\n      \"resolved\": \"https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz\",\n      \"integrity\": \"sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==\",\n      \"engines\": {\n        \"node\": \"\u003e=0.10.0\"\n      }\n    },\n    \"node_modules/split2\": {\n      \"version\": \"4.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/split2/-/split2-4.2.0.tgz\",\n      \"integrity\": \"sha512-UcjcJOWknrNkF6PLX83qcHM6KHgVKNkV62Y8a5uYDVv9ydGQVwAHMKqHdJje1VTWpljG0WYpCDhrCdAOYH4TWg==\",\n      \"engines\": {\n        \"node\": \"\u003e= 10.x\"\n      }\n    },\n    \"node_modules/string-width\": {\n      \"version\": \"4.2.3\",\n      \"resolved\": \"https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz\",\n      \"integrity\": \"sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"emoji-regex\": \"^8.0.0\",\n        \"is-fullwidth-code-point\": \"^3.0.0\",\n        \"strip-ansi\": \"^6.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/string-width-cjs\": {\n      \"name\": \"string-width\",\n      \"version\": \"4.2.3\",\n      \"resolved\": \"https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz\",\n      \"integrity\": \"sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"emoji-regex\": \"^8.0.0\",\n        \"is-fullwidth-code-point\": \"^3.0.0\",\n        \"strip-ansi\": \"^6.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/strip-ansi\": {\n      \"version\": \"6.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz\",\n      \"integrity\": \"sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"ansi-regex\": \"^5.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/strip-ansi-cjs\": {\n      \"name\": \"strip-ansi\",\n      \"version\": \"6.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz\",\n      \"integrity\": \"sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"ansi-regex\": \"^5.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      }\n    },\n    \"node_modules/styled-jsx\": {\n      \"version\": \"5.0.7\",\n      \"resolved\": \"https://registry.npmjs.org/styled-jsx/-/styled-jsx-5.0.7.tgz\",\n      \"integrity\": \"sha512-b3sUzamS086YLRuvnaDigdAewz1/EFYlHpYBP5mZovKEdQQOIIYq8lApylub3HHZ6xFjV051kkGU7cudJmrXEA==\",\n      \"engines\": {\n        \"node\": \"\u003e= 12.0.0\"\n      },\n      \"peerDependencies\": {\n        \"react\": \"\u003e= 16.8.0 || 17.x.x || ^18.0.0-0\"\n      },\n      \"peerDependenciesMeta\": {\n        \"@babel/core\": {\n          \"optional\": true\n        },\n        \"babel-plugin-macros\": {\n          \"optional\": true\n        }\n      }\n    },\n    \"node_modules/sucrase\": {\n      \"version\": \"3.35.0\",\n      \"resolved\": \"https://registry.npmjs.org/sucrase/-/sucrase-3.35.0.tgz\",\n      \"integrity\": \"sha512-8EbVDiu9iN/nESwxeSxDKe0dunta1GOlHufmSSXxMD2z2/tMZpDMpvXQGsc+ajGo8y2uYUmixaSRUc/QPoQ0GA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"@jridgewell/gen-mapping\": \"^0.3.2\",\n        \"commander\": \"^4.0.0\",\n        \"glob\": \"^10.3.10\",\n        \"lines-and-columns\": \"^1.1.6\",\n        \"mz\": \"^2.7.0\",\n        \"pirates\": \"^4.0.1\",\n        \"ts-interface-checker\": \"^0.1.9\"\n      },\n      \"bin\": {\n        \"sucrase\": \"bin/sucrase\",\n        \"sucrase-node\": \"bin/sucrase-node\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=16 || 14 \u003e=14.17\"\n      }\n    },\n    \"node_modules/sucrase/node_modules/brace-expansion\": {\n      \"version\": \"2.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.1.tgz\",\n      \"integrity\": \"sha512-XnAIvQ8eM+kC6aULx6wuQiwVsnzsi9d3WxzV3FpWTGA19F621kwdbsAcFKXgKUHZWsy+mY6iL1sHTxWEFCytDA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"balanced-match\": \"^1.0.0\"\n      }\n    },\n    \"node_modules/sucrase/node_modules/glob\": {\n      \"version\": \"10.4.5\",\n      \"resolved\": \"https://registry.npmjs.org/glob/-/glob-10.4.5.tgz\",\n      \"integrity\": \"sha512-7Bv8RF0k6xjo7d4A/PxYLbUCfb6c+Vpd2/mB2yRDlew7Jb5hEXiCD9ibfO7wpk8i4sevK6DFny9h7EYbM3/sHg==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"foreground-child\": \"^3.1.0\",\n        \"jackspeak\": \"^3.1.2\",\n        \"minimatch\": \"^9.0.4\",\n        \"minipass\": \"^7.1.2\",\n        \"package-json-from-dist\": \"^1.0.0\",\n        \"path-scurry\": \"^1.11.1\"\n      },\n      \"bin\": {\n        \"glob\": \"dist/esm/bin.mjs\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/isaacs\"\n      }\n    },\n    \"node_modules/sucrase/node_modules/minimatch\": {\n      \"version\": \"9.0.5\",\n      \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz\",\n      \"integrity\": \"sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"brace-expansion\": \"^2.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=16 || 14 \u003e=14.17\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/isaacs\"\n      }\n    },\n    \"node_modules/sucrase/node_modules/minipass\": {\n      \"version\": \"7.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz\",\n      \"integrity\": \"sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=16 || 14 \u003e=14.17\"\n      }\n    },\n    \"node_modules/supports-preserve-symlinks-flag\": {\n      \"version\": \"1.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz\",\n      \"integrity\": \"sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e= 0.4\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/ljharb\"\n      }\n    },\n    \"node_modules/tailwindcss\": {\n      \"version\": \"3.4.14\",\n      \"resolved\": \"https://registry.npmjs.org/tailwindcss/-/tailwindcss-3.4.14.tgz\",\n      \"integrity\": \"sha512-IcSvOcTRcUtQQ7ILQL5quRDg7Xs93PdJEk1ZLbhhvJc7uj/OAhYOnruEiwnGgBvUtaUAJ8/mhSw1o8L2jCiENA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"@alloc/quick-lru\": \"^5.2.0\",\n        \"arg\": \"^5.0.2\",\n        \"chokidar\": \"^3.5.3\",\n        \"didyoumean\": \"^1.2.2\",\n        \"dlv\": \"^1.1.3\",\n        \"fast-glob\": \"^3.3.0\",\n        \"glob-parent\": \"^6.0.2\",\n        \"is-glob\": \"^4.0.3\",\n        \"jiti\": \"^1.21.0\",\n        \"lilconfig\": \"^2.1.0\",\n        \"micromatch\": \"^4.0.5\",\n        \"normalize-path\": \"^3.0.0\",\n        \"object-hash\": \"^3.0.0\",\n        \"picocolors\": \"^1.0.0\",\n        \"postcss\": \"^8.4.23\",\n        \"postcss-import\": \"^15.1.0\",\n        \"postcss-js\": \"^4.0.1\",\n        \"postcss-load-config\": \"^4.0.1\",\n        \"postcss-nested\": \"^6.0.1\",\n        \"postcss-selector-parser\": \"^6.0.11\",\n        \"resolve\": \"^1.22.2\",\n        \"sucrase\": \"^3.32.0\"\n      },\n      \"bin\": {\n        \"tailwind\": \"lib/cli.js\",\n        \"tailwindcss\": \"lib/cli.js\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=14.0.0\"\n      }\n    },\n    \"node_modules/tailwindcss/node_modules/object-hash\": {\n      \"version\": \"3.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/object-hash/-/object-hash-3.0.0.tgz\",\n      \"integrity\": \"sha512-RSn9F68PjH9HqtltsSnqYC1XXoWe9Bju5+213R98cNGttag9q9yAOTzdbsqvIa7aNm5WffBZFpWYr2aWrklWAw==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e= 6\"\n      }\n    },\n    \"node_modules/thenify\": {\n      \"version\": \"3.3.1\",\n      \"resolved\": \"https://registry.npmjs.org/thenify/-/thenify-3.3.1.tgz\",\n      \"integrity\": \"sha512-RVZSIV5IG10Hk3enotrhvz0T9em6cyHBLkH/YAZuKqd8hRkKhSfCGIcP2KUY0EPxndzANBmNllzWPwak+bheSw==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"any-promise\": \"^1.0.0\"\n      }\n    },\n    \"node_modules/thenify-all\": {\n      \"version\": \"1.6.0\",\n      \"resolved\": \"https://registry.npmjs.org/thenify-all/-/thenify-all-1.6.0.tgz\",\n      \"integrity\": \"sha512-RNxQH/qI8/t3thXJDwcstUO4zeqo64+Uy/+sNVRBx4Xn2OX+OZ9oP+iJnNFqplFra2ZUVeKCSa2oVWi3T4uVmA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"thenify\": \"\u003e= 3.1.0 \u003c 4\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=0.8\"\n      }\n    },\n    \"node_modules/to-regex-range\": {\n      \"version\": \"5.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz\",\n      \"integrity\": \"sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"is-number\": \"^7.0.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8.0\"\n      }\n    },\n    \"node_modules/ts-interface-checker\": {\n      \"version\": \"0.1.13\",\n      \"resolved\": \"https://registry.npmjs.org/ts-interface-checker/-/ts-interface-checker-0.1.13.tgz\",\n      \"integrity\": \"sha512-Y/arvbn+rrz3JCKl9C4kVNfTfSm2/mEp5FSz5EsZSANGPSlQrpRI5M4PKF+mJnE52jOO90PnPSc3Ur3bTQw0gA==\",\n      \"dev\": true\n    },\n    \"node_modules/tslib\": {\n      \"version\": \"2.8.0\",\n      \"resolved\": \"https://registry.npmjs.org/tslib/-/tslib-2.8.0.tgz\",\n      \"integrity\": \"sha512-jWVzBLplnCmoaTr13V9dYbiQ99wvZRd0vNWaDRg+aVYRcjDF3nDksxFDE/+fkXnKhpnUUkmx5pK/v8mCtLVqZA==\"\n    },\n    \"node_modules/typescript\": {\n      \"version\": \"5.6.3\",\n      \"resolved\": \"https://registry.npmjs.org/typescript/-/typescript-5.6.3.tgz\",\n      \"integrity\": \"sha512-hjcS1mhfuyi4WW8IWtjP7brDrG2cuDZukyrYrSauoXGNgx0S7zceP07adYkJycEr56BOUTNPzbInooiN3fn1qw==\",\n      \"dev\": true,\n      \"bin\": {\n        \"tsc\": \"bin/tsc\",\n        \"tsserver\": \"bin/tsserver\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=14.17\"\n      }\n    },\n    \"node_modules/undici-types\": {\n      \"version\": \"5.26.5\",\n      \"resolved\": \"https://registry.npmjs.org/undici-types/-/undici-types-5.26.5.tgz\",\n      \"integrity\": \"sha512-JlCMO+ehdEIKqlFxk6IfVoAUVmgz7cU7zD/h9XZ0qzeosSHmUJVOzSQvvYSYWXkFXC+IfLKSIffhv0sVZup6pA==\"\n    },\n    \"node_modules/update-browserslist-db\": {\n      \"version\": \"1.1.1\",\n      \"resolved\": \"https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.1.1.tgz\",\n      \"integrity\": \"sha512-R8UzCaa9Az+38REPiJ1tXlImTJXlVfgHZsglwBD/k6nj76ctsH1E3q4doGrukiLQd3sGQYu56r5+lo5r94l29A==\",\n      \"dev\": true,\n      \"funding\": [\n        {\n          \"type\": \"opencollective\",\n          \"url\": \"https://opencollective.com/browserslist\"\n        },\n        {\n          \"type\": \"tidelift\",\n          \"url\": \"https://tidelift.com/funding/github/npm/browserslist\"\n        },\n        {\n          \"type\": \"github\",\n          \"url\": \"https://github.com/sponsors/ai\"\n        }\n      ],\n      \"dependencies\": {\n        \"escalade\": \"^3.2.0\",\n        \"picocolors\": \"^1.1.0\"\n      },\n      \"bin\": {\n        \"update-browserslist-db\": \"cli.js\"\n      },\n      \"peerDependencies\": {\n        \"browserslist\": \"\u003e= 4.21.0\"\n      }\n    },\n    \"node_modules/use-sync-external-store\": {\n      \"version\": \"1.2.0\",\n      \"resolved\": \"https://registry.npmjs.org/use-sync-external-store/-/use-sync-external-store-1.2.0.tgz\",\n      \"integrity\": \"sha512-eEgnFxGQ1Ife9bzYs6VLi8/4X6CObHMw9Qr9tPY43iKwsPw8xE8+EFsf/2cFZ5S3esXgpWgtSCtLNS41F+sKPA==\",\n      \"peerDependencies\": {\n        \"react\": \"^16.8.0 || ^17.0.0 || ^18.0.0\"\n      }\n    },\n    \"node_modules/util-deprecate\": {\n      \"version\": \"1.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz\",\n      \"integrity\": \"sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==\",\n      \"dev\": true\n    },\n    \"node_modules/uuid\": {\n      \"version\": \"8.3.2\",\n      \"resolved\": \"https://registry.npmjs.org/uuid/-/uuid-8.3.2.tgz\",\n      \"integrity\": \"sha512-+NYs2QeMWy+GWFOEm9xnn6HCDp0l7QBD7ml8zLUmJ+93Q5NF0NocErnwkTkXVFNiX3/fpC6afS8Dhb/gz7R7eg==\",\n      \"bin\": {\n        \"uuid\": \"dist/bin/uuid\"\n      }\n    },\n    \"node_modules/which\": {\n      \"version\": \"2.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/which/-/which-2.0.2.tgz\",\n      \"integrity\": \"sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"isexe\": \"^2.0.0\"\n      },\n      \"bin\": {\n        \"node-which\": \"bin/node-which\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 8\"\n      }\n    },\n    \"node_modules/wrap-ansi\": {\n      \"version\": \"8.1.0\",\n      \"resolved\": \"https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-8.1.0.tgz\",\n      \"integrity\": \"sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"ansi-styles\": \"^6.1.0\",\n        \"string-width\": \"^5.0.1\",\n        \"strip-ansi\": \"^7.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/chalk/wrap-ansi?sponsor=1\"\n      }\n    },\n    \"node_modules/wrap-ansi-cjs\": {\n      \"name\": \"wrap-ansi\",\n      \"version\": \"7.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz\",\n      \"integrity\": \"sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"ansi-styles\": \"^4.0.0\",\n        \"string-width\": \"^4.1.0\",\n        \"strip-ansi\": \"^6.0.0\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=10\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/chalk/wrap-ansi?sponsor=1\"\n      }\n    },\n    \"node_modules/wrap-ansi-cjs/node_modules/ansi-styles\": {\n      \"version\": \"4.3.0\",\n      \"resolved\": \"https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz\",\n      \"integrity\": \"sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"color-convert\": \"^2.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=8\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/chalk/ansi-styles?sponsor=1\"\n      }\n    },\n    \"node_modules/wrap-ansi/node_modules/ansi-regex\": {\n      \"version\": \"6.1.0\",\n      \"resolved\": \"https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.1.0.tgz\",\n      \"integrity\": \"sha512-7HSX4QQb4CspciLpVFwyRe79O3xsIZDDLER21kERQ71oaPodF8jL725AgJMFAYbooIqolJoRLuM81SpeUkpkvA==\",\n      \"dev\": true,\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/chalk/ansi-regex?sponsor=1\"\n      }\n    },\n    \"node_modules/wrap-ansi/node_modules/emoji-regex\": {\n      \"version\": \"9.2.2\",\n      \"resolved\": \"https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz\",\n      \"integrity\": \"sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==\",\n      \"dev\": true\n    },\n    \"node_modules/wrap-ansi/node_modules/string-width\": {\n      \"version\": \"5.1.2\",\n      \"resolved\": \"https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz\",\n      \"integrity\": \"sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"eastasianwidth\": \"^0.2.0\",\n        \"emoji-regex\": \"^9.2.2\",\n        \"strip-ansi\": \"^7.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/sponsors/sindresorhus\"\n      }\n    },\n    \"node_modules/wrap-ansi/node_modules/strip-ansi\": {\n      \"version\": \"7.1.0\",\n      \"resolved\": \"https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.0.tgz\",\n      \"integrity\": \"sha512-iq6eVVI64nQQTRYq2KtEg2d2uU7LElhTJwsH4YzIHZshxlgZms/wIc4VoDQTlG/IvVIrBKG06CrZnp0qv7hkcQ==\",\n      \"dev\": true,\n      \"dependencies\": {\n        \"ansi-regex\": \"^6.0.1\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e=12\"\n      },\n      \"funding\": {\n        \"url\": \"https://github.com/chalk/strip-ansi?sponsor=1\"\n      }\n    },\n    \"node_modules/xtend\": {\n      \"version\": \"4.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/xtend/-/xtend-4.0.2.tgz\",\n      \"integrity\": \"sha512-LKYU1iAXJXUgAXn9URjiu+MWhyUXHsvfp7mcuYm9dSUKK0/CjtrUwFAxD82/mCWbtLsGjFIad0wIsod4zrTAEQ==\",\n      \"engines\": {\n        \"node\": \"\u003e=0.4\"\n      }\n    },\n    \"node_modules/yallist\": {\n      \"version\": \"4.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/yallist/-/yallist-4.0.0.tgz\",\n      \"integrity\": \"sha512-3wdGidZyq5PB084XLES5TpOSRA3wjXAlIWMhum2kRcv/41Sn2emQ0dycQW4uZXLejwKvg6EsvbdlVL+FYEct7A==\"\n    },\n    \"node_modules/yaml\": {\n      \"version\": \"2.6.0\",\n      \"resolved\": \"https://registry.npmjs.org/yaml/-/yaml-2.6.0.tgz\",\n      \"integrity\": \"sha512-a6ae//JvKDEra2kdi1qzCyrJW/WZCgFi8ydDV+eXExl95t+5R+ijnqHJbz9tmMh8FUjx3iv2fCQ4dclAQlO2UQ==\",\n      \"dev\": true,\n      \"bin\": {\n        \"yaml\": \"bin.mjs\"\n      },\n      \"engines\": {\n        \"node\": \"\u003e= 14\"\n      }\n    }\n  }\n}\n","fullPath":"package-lock.json","isBinary":false,"lastModified":1730142665002},"postcss.config.js":{"name":"postcss.config.js","type":"file","contents":"module.exports = {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}","fullPath":"postcss.config.js","isBinary":false,"lastModified":1730142665002},"src/middleware.ts":{"name":"middleware.ts","type":"file","contents":"import { withAuth } from \"next-auth/middleware\"\nimport { NextResponse } from \"next/server\"\n\nexport default withAuth(\n  function middleware(req) {\n    const token = req.nextauth.token\n    \n    // Verificar acceso a rutas protegidas\n    if (req.nextUrl.pathname.startsWith(\"/api/users\") || \n        req.nextUrl.pathname.startsWith(\"/api/roles\") || \n        req.nextUrl.pathname.startsWith(\"/api/permissions\")) {\n      \n      // Permitir acceso a usuarios autenticados para rutas de usuarios\n      if (req.nextUrl.pathname.startsWith(\"/api/users\")) {\n        if (!token?.role || (token.role !== \"super_admin\" \u0026\u0026 token.role !== \"admin\")) {\n          return new NextResponse(\n            JSON.stringify({ message: \"No autorizado\" }),\n            { status: 403, headers: { \"content-type\": \"application/json\" } }\n          )\n        }\n      }\n      \n      // Verificar permisos para roles y permisos\n      if ((req.nextUrl.pathname.startsWith(\"/api/roles\") || \n           req.nextUrl.pathname.startsWith(\"/api/permissions\")) \u0026\u0026 \n          (!token?.role || token.role !== \"super_admin\")) {\n        return new NextResponse(\n          JSON.stringify({ message: \"Acceso denegado\" }),\n          { status: 403, headers: { \"content-type\": \"application/json\" } }\n        )\n      }\n    }\n\n    return NextResponse.next()\n  },\n  {\n    callbacks: {\n      authorized: ({ token }) =\u003e !!token\n    },\n  }\n)\n\nexport const config = {\n  matcher: [\n    '/dashboard/:path*',\n    '/api/users/:path*',\n    '/api/roles/:path*',\n    '/api/permissions/:path*'\n  ]\n}","fullPath":"src/middleware.ts","isBinary":false,"lastModified":1730142665002},"db/database.sqlite":{"name":"database.sqlite","type":"file","contents":"","fullPath":"db/database.sqlite","isBinary":true,"lastModified":1730142665002},"scripts/init-db.js":{"name":"init-db.js","type":"file","contents":"const { Pool } = require('pg');\nconst fs = require('fs');\nconst path = require('path');\n\nasync function initializeDatabase() {\n  const databaseUrl = process.env.DATABASE_URL;\n  \n  if (!databaseUrl) {\n    console.error('Error: DATABASE_URL no está configurada en las variables de entorno');\n    process.exit(1);\n  }\n\n  const pool = new Pool({\n    connectionString: databaseUrl,\n    ssl: process.env.NODE_ENV === 'production' ? {\n      rejectUnauthorized: false\n    } : undefined\n  });\n\n  try {\n    console.log('Conectando a PostgreSQL...');\n    \n    // Verificar la conexión\n    await pool.query('SELECT NOW()');\n    console.log('Conexión establecida correctamente');\n\n    // Leer y ejecutar el script de creación de tablas\n    console.log('Creando tablas...');\n    const createTablesSQL = fs.readFileSync(\n      path.join(__dirname, 'postgres/create-tables.sql'),\n      'utf8'\n    );\n    await pool.query(createTablesSQL);\n    console.log('Tablas creadas exitosamente');\n\n    // Leer y ejecutar el script de roles y permisos\n    console.log('Inicializando roles y permisos...');\n    const rolesAndPermissionsSQL = fs.readFileSync(\n      path.join(__dirname, 'postgres/roles-permissions.sql'),\n      'utf8'\n    );\n    await pool.query(rolesAndPermissionsSQL);\n    console.log('Roles y permisos inicializados correctamente');\n\n    console.log('Base de datos PostgreSQL inicializada exitosamente');\n  } catch (error) {\n    console.error('Error durante la inicialización de la base de datos:', error);\n    throw error;\n  } finally {\n    await pool.end();\n  }\n}\n\n// Ejecutar si se llama directamente\nif (require.main === module) {\n  initializeDatabase()\n    .then(() =\u003e {\n      console.log('Proceso de inicialización completado');\n      process.exit(0);\n    })\n    .catch(error =\u003e {\n      console.error('Error en el proceso de inicialización:', error);\n      process.exit(1);\n    });\n}\n\nmodule.exports = { initializeDatabase };","fullPath":"scripts/init-db.js","isBinary":false,"lastModified":1730142665002},"scripts/init-pg.js":{"name":"init-pg.js","type":"file","contents":"const { Client } = require('pg');\nconst fs = require('fs');\nconst path = require('path');\n\nasync function initializePostgres() {\n  const client = new Client({\n    connectionString: process.env.DATABASE_URL,\n  });\n\n  try {\n    await client.connect();\n    console.log('Conectado a PostgreSQL');\n\n    // Leer y ejecutar el script de creación de tablas\n    const createTablesSQL = fs.readFileSync(\n      path.join(__dirname, 'postgres/create-tables.sql'),\n      'utf8'\n    );\n    await client.query(createTablesSQL);\n    console.log('Tablas creadas exitosamente');\n\n    // Leer y ejecutar el script de roles y permisos\n    const rolesAndPermissionsSQL = fs.readFileSync(\n      path.join(__dirname, 'postgres/roles-permissions.sql'),\n      'utf8'\n    );\n    await client.query(rolesAndPermissionsSQL);\n    console.log('Roles y permisos inicializados');\n\n    console.log('Base de datos PostgreSQL inicializada correctamente');\n  } catch (error) {\n    console.error('Error al inicializar PostgreSQL:', error);\n    throw error;\n  } finally {\n    await client.end();\n  }\n}\n\nif (require.main === module) {\n  initializePostgres().catch(console.error);\n}\n\nmodule.exports = { initializePostgres };","fullPath":"scripts/init-pg.js","isBinary":false,"lastModified":1730142665002},"src/pages/_app.tsx":{"name":"_app.tsx","type":"file","contents":"import type { AppProps } from 'next/app'\nimport { SessionProvider } from 'next-auth/react'\nimport { AlertProvider } from '../context/AlertContext'\nimport { TextSizeProvider } from '../context/TextSizeContext'\nimport AlertContainer from '../components/AlertContainer'\nimport '../styles/globals.css'\n\nfunction MyApp({ \n  Component, \n  pageProps: { session, ...pageProps } \n}: AppProps) {\n  return (\n    \u003cSessionProvider \n      session={session}\n      refetchInterval={0}\n      refetchWhenOffline={false}\n      refetchOnWindowFocus={false}\n    \u003e\n      \u003cAlertProvider\u003e\n        \u003cTextSizeProvider\u003e\n          \u003cAlertContainer /\u003e\n          \u003cComponent {...pageProps} /\u003e\n        \u003c/TextSizeProvider\u003e\n      \u003c/AlertProvider\u003e\n    \u003c/SessionProvider\u003e\n  )\n}\n\nexport default MyApp","fullPath":"src/pages/_app.tsx","isBinary":false,"lastModified":1730142665002},"src/pages/api/auth":{"name":"auth","type":"folder","fullPath":"src/pages/api/auth","lastModified":1730142665003},"src/services/db.ts":{"name":"db.ts","type":"file","contents":"import { Pool } from 'pg';\n\nlet pgPool: Pool | null = null;\n\nasync function getDb() {\n  if (pgPool) {\n    return pgPool;\n  }\n\n  const databaseUrl = process.env.DATABASE_URL;\n  \n  if (!databaseUrl) {\n    throw new Error('DATABASE_URL no está configurada en las variables de entorno');\n  }\n\n  try {\n    pgPool = new Pool({\n      connectionString: databaseUrl,\n      ssl: process.env.NODE_ENV === 'production' ? {\n        rejectUnauthorized: false\n      } : undefined,\n      max: 20,\n      idleTimeoutMillis: 30000,\n      connectionTimeoutMillis: 2000,\n    });\n\n    // Verificar la conexión\n    await pgPool.query('SELECT NOW()');\n    console.log('Conectado a PostgreSQL');\n    return pgPool;\n  } catch (error) {\n    console.error('Error al conectar con PostgreSQL:', error);\n    throw error;\n  }\n}\n\nasync function closeDb() {\n  if (pgPool) {\n    await pgPool.end();\n    pgPool = null;\n  }\n}\n\n// Función helper para ejecutar consultas\nasync function query(sql: string, params: any[] = []) {\n  const connection = await getDb();\n  const result = await connection.query(sql, params);\n  return result.rows;\n}\n\n// Función helper para ejecutar una única consulta\nasync function queryOne(sql: string, params: any[] = []) {\n  const connection = await getDb();\n  const result = await connection.query(sql, params);\n  return result.rows[0];\n}\n\n// Función helper para ejecutar consultas que modifican datos\nasync function execute(sql: string, params: any[] = []) {\n  const connection = await getDb();\n  return connection.query(sql, params);\n}\n\nexport {\n  getDb,\n  closeDb,\n  query,\n  queryOne,\n  execute\n};","fullPath":"src/services/db.ts","isBinary":false,"lastModified":1730142665002},"src/types/alert.ts":{"name":"alert.ts","type":"file","contents":"export type AlertType = 'success' | 'error' | 'warning' | 'info';\n\nexport interface Alert {\n  id: string;\n  type: AlertType;\n  message: string;\n}","fullPath":"src/types/alert.ts","isBinary":false,"lastModified":1730142665002},"tailwind.config.js":{"name":"tailwind.config.js","type":"file","contents":"module.exports = {\n  content: [\n    \"./src/pages/**/*.{js,ts,jsx,tsx}\",\n    \"./src/components/**/*.{js,ts,jsx,tsx}\",\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [\n    require('@tailwindcss/forms'),\n  ],\n}","fullPath":"tailwind.config.js","isBinary":false,"lastModified":1730142665002},"src/pages/api/roles":{"name":"roles","type":"folder","fullPath":"src/pages/api/roles","lastModified":1730142665003},"src/pages/api/users":{"name":"users","type":"folder","fullPath":"src/pages/api/users","lastModified":1730142665003},"src/pages/dashboard":{"name":"dashboard","type":"folder","fullPath":"src/pages/dashboard","lastModified":1730142665003},"src/pages/index.tsx":{"name":"index.tsx","type":"file","contents":"import { useEffect } from 'react'\nimport { useRouter } from 'next/router'\nimport { useSession } from 'next-auth/react'\nimport Layout from '../components/Layout'\n\nconst Home = () =\u003e {\n  const router = useRouter()\n  const { status } = useSession()\n\n  useEffect(() =\u003e {\n    const handleRedirect = async () =\u003e {\n      try {\n        if (status === 'authenticated') {\n          await router.replace('/dashboard')\n        } else if (status === 'unauthenticated') {\n          await router.replace('/auth/login')\n        }\n      } catch (error) {\n        console.error('Error en redirección:', error)\n      }\n    }\n\n    handleRedirect()\n  }, [status, router])\n\n  // Mostrar pantalla de carga mientras se determina el estado\n  return (\n    \u003cLayout title=\"Cargando...\"\u003e\n      \u003cdiv className=\"flex items-center justify-center min-h-screen\"\u003e\n        \u003cdiv className=\"text-center\"\u003e\n          \u003cdiv className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto\"\u003e\u003c/div\u003e\n          \u003cp className=\"mt-4 text-gray-600\"\u003eCargando...\u003c/p\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/Layout\u003e\n  )\n}\n\nexport default Home","fullPath":"src/pages/index.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/api/stores":{"name":"stores","type":"folder","fullPath":"src/pages/api/stores","lastModified":1730142665003},"src/pages/api/test.ts":{"name":"test.ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { PrismaClient } from '@prisma/client'\n\nconst prisma = new PrismaClient()\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  if (req.method === 'GET') {\n    try {\n      const users = await prisma.user.findMany({\n        include: {\n          companies: {\n            include: {\n              stores: {\n                include: {\n                  products: true\n                }\n              }\n            }\n          }\n        }\n      })\n      res.status(200).json(users)\n    } catch (error) {\n      res.status(500).json({ message: 'Error al obtener los datos' })\n    } finally {\n      await prisma.$disconnect()\n    }\n  } else {\n    res.setHeader('Allow', ['GET'])\n    res.status(405).end(`Method ${req.method} Not Allowed`)\n  }\n}","fullPath":"src/pages/api/test.ts","isBinary":false,"lastModified":1730142665003},"src/pages/api/products":{"name":"products","type":"folder","fullPath":"src/pages/api/products","lastModified":1730142665003},"src/styles/globals.css":{"name":"globals.css","type":"file","contents":"@import 'tailwindcss/base';\n@import 'tailwindcss/components';\n@import 'tailwindcss/utilities';\n\nhtml,\nbody {\n  padding: 0;\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\n* {\n  box-sizing: border-box;\n}","fullPath":"src/styles/globals.css","isBinary":false,"lastModified":1730142665003},"src/components/Alert.tsx":{"name":"Alert.tsx","type":"file","contents":"import React from 'react';\nimport { Alert as AlertType } from '../types/alert';\nimport { useAlert } from '../context/AlertContext';\n\nconst Alert: React.FC\u003c{ alert: AlertType }\u003e = ({ alert }) =\u003e {\n  const { removeAlert } = useAlert();\n\n  const baseClasses = \"px-4 py-3 rounded relative mb-4\";\n  const typeClasses = {\n    success: \"bg-green-100 border border-green-400 text-green-700\",\n    error: \"bg-red-100 border border-red-400 text-red-700\",\n    warning: \"bg-yellow-100 border border-yellow-400 text-yellow-700\",\n    info: \"bg-blue-100 border border-blue-400 text-blue-700\"\n  };\n\n  return (\n    \u003cdiv\n      className={`${baseClasses} ${typeClasses[alert.type]}`}\n      role=\"alert\"\n    \u003e\n      \u003cstrong className=\"font-bold mr-2\"\u003e{alert.type.charAt(0).toUpperCase() + alert.type.slice(1)}:\u003c/strong\u003e\n      \u003cspan className=\"block sm:inline\"\u003e{alert.message}\u003c/span\u003e\n      \u003cspan\n        className=\"absolute top-0 bottom-0 right-0 px-4 py-3\"\n        onClick={() =\u003e removeAlert(alert.id)}\n      \u003e\n        \u003csvg\n          className=\"fill-current h-6 w-6 text-red-500\"\n          role=\"button\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 20 20\"\n        \u003e\n          \u003ctitle\u003eClose\u003c/title\u003e\n          \u003cpath d=\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\" /\u003e\n        \u003c/svg\u003e\n      \u003c/span\u003e\n    \u003c/div\u003e\n  );\n};\n\nexport default Alert;","fullPath":"src/components/Alert.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/auth/login.tsx":{"name":"login.tsx","type":"file","contents":"import { useState } from 'react'\nimport { useRouter } from 'next/router'\nimport { signIn } from 'next-auth/react'\nimport Layout from '../../components/Layout'\nimport { useAlert } from '../../context/AlertContext'\n\nexport default function LoginPage() {\n  const [isRegistering, setIsRegistering] = useState(false)\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [name, setName] = useState('')\n  const [companyName, setCompanyName] = useState('')\n  const router = useRouter()\n  const { addAlert } = useAlert()\n\n  const handleSubmit = async (event: React.FormEvent\u003cHTMLFormElement\u003e) =\u003e {\n    event.preventDefault()\n\n    if (isRegistering) {\n      try {\n        const response = await fetch('/api/auth/signup', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ name, email, password, companyName }),\n        })\n\n        if (response.ok) {\n          const data = await response.json()\n          addAlert('success', 'Registro exitoso. Iniciando sesión...')\n          \n          const result = await signIn('credentials', {\n            redirect: false,\n            email,\n            password,\n            companyId: data.credentials.companyId\n          })\n\n          if (result?.ok) {\n            router.push('/dashboard')\n          } else {\n            addAlert('error', 'Error al iniciar sesión después del registro')\n          }\n        } else {\n          const error = await response.json()\n          addAlert('error', `Error en el registro: ${error.message}`)\n        }\n      } catch (error) {\n        addAlert('error', 'Error en el registro. Por favor, intente nuevamente.')\n      }\n    } else {\n      try {\n        const result = await signIn('credentials', {\n          redirect: false,\n          email,\n          password,\n        })\n\n        if (result?.error) {\n          addAlert('error', 'Error en el inicio de sesión. Verifique sus credenciales.')\n        } else if (result?.ok) {\n          router.push('/dashboard')\n        }\n      } catch (error) {\n        addAlert('error', 'Error en el inicio de sesión. Por favor, intente nuevamente.')\n      }\n    }\n  }\n\n  return (\n    \u003cLayout title={isRegistering ? \"Registro\" : \"Iniciar Sesión\"}\u003e\n      \u003cdiv className=\"flex items-center justify-center min-h-screen bg-gray-100\"\u003e\n        \u003cdiv className=\"w-full max-w-md bg-white rounded-lg shadow-md p-8\"\u003e\n          \u003ch2 className=\"text-2xl font-bold text-center mb-6\"\u003e\n            {isRegistering ? \"Registro de Nueva Empresa\" : \"Iniciar Sesión\"}\n          \u003c/h2\u003e\n          \u003cform onSubmit={handleSubmit} className=\"space-y-4\"\u003e\n            {isRegistering \u0026\u0026 (\n              \u003c\u003e\n                \u003cdiv\u003e\n                  \u003clabel htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\"\u003e\n                    Nombre del Administrador\n                  \u003c/label\u003e\n                  \u003cinput\n                    id=\"name\"\n                    type=\"text\"\n                    value={name}\n                    onChange={(e) =\u003e setName(e.target.value)}\n                    required\n                    className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n                  /\u003e\n                \u003c/div\u003e\n                \u003cdiv\u003e\n                  \u003clabel htmlFor=\"companyName\" className=\"block text-sm font-medium text-gray-700\"\u003e\n                    Nombre de la Empresa\n                  \u003c/label\u003e\n                  \u003cinput\n                    id=\"companyName\"\n                    type=\"text\"\n                    value={companyName}\n                    onChange={(e) =\u003e setCompanyName(e.target.value)}\n                    required\n                    className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n                  /\u003e\n                \u003c/div\u003e\n              \u003c/\u003e\n            )}\n            \u003cdiv\u003e\n              \u003clabel htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\"\u003e\n                Correo Electrónico\n              \u003c/label\u003e\n              \u003cinput\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) =\u003e setEmail(e.target.value)}\n                required\n                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n              /\u003e\n            \u003c/div\u003e\n            \u003cdiv\u003e\n              \u003clabel htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\"\u003e\n                Contraseña\n              \u003c/label\u003e\n              \u003cinput\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) =\u003e setPassword(e.target.value)}\n                required\n                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n              /\u003e\n            \u003c/div\u003e\n            \u003cbutton\n              type=\"submit\"\n              className=\"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n            \u003e\n              {isRegistering ? \"Registrar Empresa\" : \"Iniciar Sesión\"}\n            \u003c/button\u003e\n          \u003c/form\u003e\n          \u003cp className=\"mt-4 text-sm text-center text-gray-600\"\u003e\n            {isRegistering ? \"¿Ya tienes una cuenta?\" : \"¿No tienes una cuenta?\"}\n            \u003cbutton\n              className=\"ml-1 font-medium text-indigo-600 hover:text-indigo-500\"\n              onClick={() =\u003e setIsRegistering(!isRegistering)}\n            \u003e\n              {isRegistering ? \"Iniciar sesión\" : \"Regístrate aquí\"}\n            \u003c/button\u003e\n          \u003c/p\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/Layout\u003e\n  )\n}","fullPath":"src/pages/auth/login.tsx","isBinary":false,"lastModified":1730142665003},"src/types/next-auth.d.ts":{"name":"next-auth.d.ts","type":"file","contents":"import { DefaultSession } from 'next-auth'\n\ndeclare module 'next-auth' {\n  interface Session {\n    user: {\n      id: string\n      email: string\n      name: string\n      role: string\n      companies: any[]\n      currentCompany: any\n      currentStore: any\n    } \u0026 DefaultSession['user']\n  }\n\n  interface User {\n    id: string\n    email: string\n    name: string\n    role: string\n    companies: any[]\n    currentCompany: any\n    currentStore: any\n  }\n}\n\ndeclare module 'next-auth/jwt' {\n  interface JWT {\n    id: string\n    role: string\n    companies: any[]\n    currentCompany: any\n    currentStore: any\n  }\n}","fullPath":"src/types/next-auth.d.ts","isBinary":false,"lastModified":1730142665003},"src/components/Layout.tsx":{"name":"Layout.tsx","type":"file","contents":"import React, { ReactNode } from 'react'\nimport Head from 'next/head'\nimport { useSession } from 'next-auth/react'\nimport Sidebar from './Sidebar'\n\n// Importar la versión del package.json\nconst version = process.env.npm_package_version || '0.0.0.82'\n\ntype Props = {\n  children: ReactNode\n  title?: string\n}\n\nconst Layout = ({ children, title = 'CRM Multi-tienda' }: Props) =\u003e {\n  const { data: session, status } = useSession()\n\n  if (status === 'loading') {\n    return \u003cdiv\u003eCargando...\u003c/div\u003e\n  }\n\n  return (\n    \u003cdiv className=\"min-h-screen bg-gray-100 flex\"\u003e\n      \u003cHead\u003e\n        \u003ctitle\u003e{title}\u003c/title\u003e\n        \u003cmeta charSet=\"utf-8\" /\u003e\n        \u003cmeta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" /\u003e\n      \u003c/Head\u003e\n      \n      {session \u0026\u0026 \u003cSidebar /\u003e}\n      \u003cdiv className=\"flex flex-col flex-1\"\u003e\n        \u003cmain className=\"flex-1 p-6 overflow-auto\"\u003e\n          {children}\n        \u003c/main\u003e\n        \u003cfooter className=\"text-center py-1 text-xs text-gray-500\"\u003e\n          CRM v{version} \u0026copy; {new Date().getFullYear()}\n        \u003c/footer\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n\nexport default Layout","fullPath":"src/components/Layout.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/api/invitations":{"name":"invitations","type":"folder","fullPath":"src/pages/api/invitations","lastModified":1730142665003},"src/pages/api/permissions":{"name":"permissions","type":"folder","fullPath":"src/pages/api/permissions","lastModified":1730142665003},"src/pages/auth/signin.tsx":{"name":"signin.tsx","type":"file","contents":"import { useState } from 'react'\nimport { signIn } from 'next-auth/react'\nimport { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport Layout from '../../components/Layout'\n\nconst SignIn = () =\u003e {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [message, setMessage] = useState('')\n  const router = useRouter()\n\n  const handleSubmit = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n    setMessage('')\n    const result = await signIn('credentials', {\n      redirect: false,\n      email,\n      password,\n    })\n\n    if (result?.error) {\n      setMessage('Error en el inicio de sesión. Verifique sus credenciales.')\n    } else {\n      setMessage('Inicio de sesión exitoso. Redirigiendo...')\n      setTimeout(() =\u003e router.push('/dashboard'), 2000)\n    }\n  }\n\n  return (\n    \u003cLayout title=\"Iniciar Sesión\"\u003e\n      \u003ch1\u003eIniciar Sesión\u003c/h1\u003e\n      \u003cform onSubmit={handleSubmit}\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"email\"\u003eEmail:\u003c/label\u003e\n          \u003cinput\n            id=\"email\"\n            type=\"email\"\n            value={email}\n            onChange={(e) =\u003e setEmail(e.target.value)}\n            required\n          /\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"password\"\u003eContraseña:\u003c/label\u003e\n          \u003cinput\n            id=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={(e) =\u003e setPassword(e.target.value)}\n            required\n          /\u003e\n        \u003c/div\u003e\n        \u003cbutton type=\"submit\"\u003eIniciar Sesión\u003c/button\u003e\n      \u003c/form\u003e\n      {message \u0026\u0026 \u003cp\u003e{message}\u003c/p\u003e}\n      \u003cp\u003e\n        ¿No tienes una cuenta? \u003cLink href=\"/auth/signup\"\u003e\u003ca\u003eRegístrate aquí\u003c/a\u003e\u003c/Link\u003e\n      \u003c/p\u003e\n    \u003c/Layout\u003e\n  )\n}\n\nexport default SignIn","fullPath":"src/pages/auth/signin.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/auth/signup.tsx":{"name":"signup.tsx","type":"file","contents":"import { useState } from 'react'\nimport { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport Layout from '../../components/Layout'\n\nconst SignUp = () =\u003e {\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [companyName, setCompanyName] = useState('')\n  const [storeName, setStoreName] = useState('')\n  const [message, setMessage] = useState('')\n  const router = useRouter()\n\n  const handleSubmit = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n    setMessage('')\n    try {\n      const response = await fetch('/api/auth/signup', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, email, password, companyName, storeName }),\n      })\n\n      if (response.ok) {\n        setMessage('Registro exitoso. Redirigiendo al inicio de sesión...')\n        setTimeout(() =\u003e router.push('/auth/signin'), 2000)\n      } else {\n        const error = await response.text()\n        setMessage(`Error en el registro: ${error}`)\n      }\n    } catch (error) {\n      setMessage('Error en el registro. Por favor, intente nuevamente.')\n    }\n  }\n\n  return (\n    \u003cLayout title=\"Registro\"\u003e\n      \u003ch1\u003eRegistro\u003c/h1\u003e\n      \u003cform onSubmit={handleSubmit}\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"name\"\u003eNombre completo:\u003c/label\u003e\n          \u003cinput\n            id=\"name\"\n            type=\"text\"\n            value={name}\n            onChange={(e) =\u003e setName(e.target.value)}\n            required\n          /\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"email\"\u003eEmail:\u003c/label\u003e\n          \u003cinput\n            id=\"email\"\n            type=\"email\"\n            value={email}\n            onChange={(e) =\u003e setEmail(e.target.value)}\n            required\n          /\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"password\"\u003eContraseña:\u003c/label\u003e\n          \u003cinput\n            id=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={(e) =\u003e setPassword(e.target.value)}\n            required\n          /\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"companyName\"\u003eNombre de la empresa:\u003c/label\u003e\n          \u003cinput\n            id=\"companyName\"\n            type=\"text\"\n            value={companyName}\n            onChange={(e) =\u003e setCompanyName(e.target.value)}\n            required\n          /\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"storeName\"\u003eNombre de la sucursal principal:\u003c/label\u003e\n          \u003cinput\n            id=\"storeName\"\n            type=\"text\"\n            value={storeName}\n            onChange={(e) =\u003e setStoreName(e.target.value)}\n            required\n          /\u003e\n        \u003c/div\u003e\n        \u003cbutton type=\"submit\"\u003eRegistrarse\u003c/button\u003e\n      \u003c/form\u003e\n      {message \u0026\u0026 \u003cp\u003e{message}\u003c/p\u003e}\n      \u003cp\u003e\n        ¿Ya tienes una cuenta? \u003cLink href=\"/auth/signin\"\u003e\u003ca\u003eInicia sesión aquí\u003c/a\u003e\u003c/Link\u003e\n      \u003c/p\u003e\n    \u003c/Layout\u003e\n  )\n}\n\nexport default SignUp","fullPath":"src/pages/auth/signup.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/dashboard/roles":{"name":"roles","type":"folder","fullPath":"src/pages/dashboard/roles","lastModified":1730142665003},"src/pages/dashboard/users":{"name":"users","type":"folder","fullPath":"src/pages/dashboard/users","lastModified":1730142665003},"src/components/Sidebar.tsx":{"name":"Sidebar.tsx","type":"file","contents":"import { useState, useEffect, useRef } from 'react'\nimport { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport { Home, Store, Package, Settings, LogOut, ChevronDown, ChevronRight, User } from 'lucide-react'\nimport { useSession, signOut } from 'next-auth/react'\nimport { useTextSize } from '../context/TextSizeContext'\n\ntype MenuItem = {\n  icon: React.ElementType\n  label: string\n  href: string\n  subItems?: { label: string; href: string }[]\n}\n\nexport default function Sidebar() {\n  const [isCollapsed, setIsCollapsed] = useState(false)\n  const [expandedItem, setExpandedItem] = useState\u003cstring | null\u003e(null)\n  const [showAccountPopup, setShowAccountPopup] = useState(false)\n  const router = useRouter()\n  const { data: session } = useSession()\n  const popupRef = useRef\u003cHTMLDivElement\u003e(null)\n  const { sidebarTextSize } = useTextSize()\n\n  const formatRole = (role: string) =\u003e {\n    switch (role) {\n      case 'super_admin':\n        return 'Super Administrador'\n      case 'admin':\n        return 'Administrador'\n      case 'vendedor':\n        return 'Vendedor'\n      case 'usuariojr':\n        return 'Usuario Jr'\n      default:\n        return role.charAt(0).toUpperCase() + role.slice(1)\n    }\n  }\n\n  const toggleCollapse = () =\u003e setIsCollapsed(!isCollapsed)\n  const toggleExpand = (label: string) =\u003e setExpandedItem(expandedItem === label ? null : label)\n  const toggleAccountPopup = () =\u003e setShowAccountPopup(!showAccountPopup)\n\n  const menuItems: MenuItem[] = [\n    { icon: Home, label: 'Dashboard', href: '/dashboard' },\n    { \n      icon: Store, \n      label: 'Sucursales',\n      href: '/dashboard/stores',\n      subItems: [\n        { label: 'Ver Sucursales', href: '/dashboard/stores' },\n        { label: 'Nueva Sucursal', href: '/dashboard/stores/new' },\n      ]\n    },\n    { icon: Package, label: 'Productos', href: '/dashboard/products' },\n    { icon: Settings, label: 'Configuración', href: '/dashboard/settings' },\n  ]\n\n  const handleLogout = async () =\u003e {\n    await signOut({ redirect: false })\n    localStorage.removeItem('next-auth.session-token')\n    router.push('/auth/login')\n  }\n\n  useEffect(() =\u003e {\n    function handleClickOutside(event: MouseEvent) {\n      if (popupRef.current \u0026\u0026 !popupRef.current.contains(event.target as Node)) {\n        setShowAccountPopup(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () =\u003e {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [])\n\n  const getTextSizeClass = () =\u003e {\n    switch (sidebarTextSize) {\n      case 'xs': return 'text-xs';\n      case 'sm': return 'text-sm';\n      case 'lg': return 'text-lg';\n      default: return 'text-base';\n    }\n  };\n\n  return (\n    \u003caside\n      className={`\n        ${isCollapsed ? 'w-16' : 'w-64'}\n        transition-all duration-300 ease-in-out\n        bg-white text-gray-700\n        flex flex-col\n        border-r border-gray-200\n        relative\n      `}\n    \u003e\n      \u003cdiv className=\"p-4 border-b border-gray-200 text-center font-semibold\"\u003e\n        {isCollapsed ? (\n          \u003cspan className=\"text-xl\"\u003e{session?.user?.currentCompany?.name?.charAt(0)}\u003c/span\u003e\n        ) : (\n          \u003cspan\u003e{session?.user?.currentCompany?.name}\u003c/span\u003e\n        )}\n      \u003c/div\u003e\n\n      \u003cnav className=\"flex-1 overflow-y-auto py-4\"\u003e\n        \u003cul className=\"space-y-2\"\u003e\n          {menuItems.map((item, index) =\u003e (\n            \u003cli key={index}\u003e\n              \u003cLink href={item.href}\u003e\n                \u003ca\n                  className={`\n                    flex items-center w-full px-4 py-2 text-left\n                    ${router.pathname === item.href ? 'bg-gray-100 text-blue-600' : 'hover:bg-gray-50'}\n                    ${isCollapsed ? 'justify-center' : ''}\n                    ${getTextSizeClass()}\n                  `}\n                  onClick={() =\u003e item.subItems \u0026\u0026 toggleExpand(item.label)}\n                \u003e\n                  \u003citem.icon className=\"w-5 h-5 mr-2\" /\u003e\n                  {!isCollapsed \u0026\u0026 (\n                    \u003c\u003e\n                      \u003cspan className=\"flex-1\"\u003e{item.label}\u003c/span\u003e\n                      {item.subItems \u0026\u0026 (\n                        expandedItem === item.label ? \u003cChevronDown size={16} /\u003e : \u003cChevronRight size={16} /\u003e\n                      )}\n                    \u003c/\u003e\n                  )}\n                \u003c/a\u003e\n              \u003c/Link\u003e\n              {!isCollapsed \u0026\u0026 item.subItems \u0026\u0026 expandedItem === item.label \u0026\u0026 (\n                \u003cul className=\"bg-gray-50 py-2\"\u003e\n                  {item.subItems.map((subItem, subIndex) =\u003e (\n                    \u003cli key={subIndex}\u003e\n                      \u003cLink href={subItem.href}\u003e\n                        \u003ca\n                          className={`\n                            block pl-12 pr-4 py-2\n                            ${router.pathname === subItem.href ? 'text-blue-600' : 'hover:bg-gray-100'}\n                            ${getTextSizeClass()}\n                          `}\n                        \u003e\n                          {subItem.label}\n                        \u003c/a\u003e\n                      \u003c/Link\u003e\n                    \u003c/li\u003e\n                  ))}\n                \u003c/ul\u003e\n              )}\n            \u003c/li\u003e\n          ))}\n        \u003c/ul\u003e\n      \u003c/nav\u003e\n\n      \u003cdiv className={`p-2 border-t border-gray-200 ${isCollapsed ? 'flex flex-col items-center' : 'flex justify-between items-center'}`}\u003e\n        \u003cbutton\n          onClick={toggleAccountPopup}\n          className=\"text-gray-500 hover:text-gray-700 p-1 relative\"\n        \u003e\n          \u003cUser size={20} /\u003e\n          {showAccountPopup \u0026\u0026 (\n            \u003cdiv \n              ref={popupRef}\n              className=\"absolute bottom-full left-0 mb-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg p-3 z-10\"\n            \u003e\n              \u003ch3 className=\"font-bold text-sm mb-1\"\u003e{session?.user?.currentCompany?.name}\u003c/h3\u003e\n              \u003cp className=\"text-xs mb-1\"\u003eSucursal: {session?.user?.currentStore?.name}\u003c/p\u003e\n              \u003cp className=\"text-xs font-semibold mb-1\"\u003e{session?.user?.name}\u003c/p\u003e\n              \u003cp className=\"text-xs text-gray-600 mb-1\"\u003e{session?.user?.email}\u003c/p\u003e\n              \u003cp className=\"text-xs font-medium text-blue-600 mb-1\"\u003e\n                {session?.user?.role ? formatRole(session.user.role) : 'Usuario'}\n              \u003c/p\u003e\n              \u003cLink href=\"/dashboard/account\"\u003e\n                \u003ca className=\"text-blue-600 hover:underline text-xs\"\u003eCuenta\u003c/a\u003e\n              \u003c/Link\u003e\n            \u003c/div\u003e\n          )}\n        \u003c/button\u003e\n        \u003cbutton\n          onClick={handleLogout}\n          className={`\n            flex items-center justify-center rounded-lg\n            bg-gray-100 hover:bg-gray-200 p-1\n            ${isCollapsed ? 'mt-2' : ''}\n          `}\n        \u003e\n          \u003cLogOut size={20} /\u003e\n          {!isCollapsed \u0026\u0026 \u003cspan className={`ml-2 ${getTextSizeClass()}`}\u003eCerrar Sesión\u003c/span\u003e}\n        \u003c/button\u003e\n      \u003c/div\u003e\n\n      \u003cbutton\n        onClick={toggleCollapse}\n        className=\"absolute top-2 -right-3 bg-white rounded-full p-1 shadow-md\"\n      \u003e\n        {isCollapsed ? '→' : '←'}\n      \u003c/button\u003e\n    \u003c/aside\u003e\n  )\n}","fullPath":"src/components/Sidebar.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/dashboard/stores":{"name":"stores","type":"folder","fullPath":"src/pages/dashboard/stores","lastModified":1730142665003},"src/pages/api/roles/[id].ts":{"name":"[id].ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { getSession } from 'next-auth/react'\nimport { getDb } from '../../../services/db'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  const session = await getSession({ req })\n\n  if (!session || session.user?.role !== 'super_admin') {\n    return res.status(401).json({ message: 'No autorizado' })\n  }\n\n  const { id } = req.query\n  const db = await getDb()\n\n  if (req.method === 'PUT') {\n    try {\n      const { name, permissions } = req.body\n\n      // Verificar que no se esté modificando el rol super_admin\n      const role = await db.get('SELECT * FROM roles WHERE id = ?', [id])\n      if (role.name === 'super_admin') {\n        return res.status(403).json({ message: 'No se puede modificar el rol super_admin' })\n      }\n\n      await db.run('UPDATE roles SET name = ? WHERE id = ?', [name, id])\n      await db.run('DELETE FROM role_permissions WHERE role_id = ?', [id])\n\n      for (let permissionId of permissions) {\n        await db.run(\n          'INSERT INTO role_permissions (role_id, permission_id) VALUES (?, ?)',\n          [id, permissionId]\n        )\n      }\n\n      res.status(200).json({ id, name, permissions })\n    } catch (error) {\n      console.error('Error al actualizar rol:', error)\n      res.status(500).json({ message: 'Error al actualizar rol' })\n    }\n  } else if (req.method === 'DELETE') {\n    try {\n      // Verificar que no se esté eliminando el rol super_admin\n      const role = await db.get('SELECT * FROM roles WHERE id = ?', [id])\n      if (role.name === 'super_admin') {\n        return res.status(403).json({ message: 'No se puede eliminar el rol super_admin' })\n      }\n\n      await db.run('DELETE FROM role_permissions WHERE role_id = ?', [id])\n      await db.run('DELETE FROM roles WHERE id = ?', [id])\n      res.status(200).json({ message: 'Rol eliminado exitosamente' })\n    } catch (error) {\n      console.error('Error al eliminar rol:', error)\n      res.status(500).json({ message: 'Error al eliminar rol' })\n    }\n  } else {\n    res.setHeader('Allow', ['PUT', 'DELETE'])\n    res.status(405).end(`Method ${req.method} Not Allowed`)\n  }\n}","fullPath":"src/pages/api/roles/[id].ts","isBinary":false,"lastModified":1730142665003},"src/pages/api/users/[id].ts":{"name":"[id].ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { getSession } from 'next-auth/react'\nimport { getDb } from '../../../services/db'\nimport bcrypt from 'bcryptjs'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  const session = await getSession({ req })\n\n  if (!session) {\n    return res.status(401).json({ message: 'No autorizado' })\n  }\n\n  if (session.user.role !== 'super_admin' \u0026\u0026 session.user.role !== 'admin') {\n    return res.status(403).json({ message: 'No tienes permisos para realizar esta acción' })\n  }\n\n  const { id } = req.query\n  const db = await getDb()\n\n  // Verificar que el usuario pertenece a la misma empresa\n  const userCompany = await db.get(`\n    SELECT uc.role \n    FROM user_companies uc\n    WHERE uc.user_id = ? AND uc.company_id = ?\n  `, [id, session.user.currentCompany?.id])\n\n  if (!userCompany) {\n    return res.status(404).json({ message: 'Usuario no encontrado en esta empresa' })\n  }\n\n  // No permitir modificar super_admin si no eres super_admin\n  if (userCompany.role === 'super_admin' \u0026\u0026 session.user.role !== 'super_admin') {\n    return res.status(403).json({ message: 'No tienes permisos para modificar este usuario' })\n  }\n\n  if (req.method === 'PUT') {\n    try {\n      const { name, email, role, password } = req.body\n\n      let updateQuery = 'UPDATE users SET name = ?, email = ?'\n      let params = [name, email]\n\n      if (password) {\n        const hashedPassword = await bcrypt.hash(password, 10)\n        updateQuery += ', password = ?'\n        params.push(hashedPassword)\n      }\n\n      updateQuery += ' WHERE id = ?'\n      params.push(id)\n\n      await db.run(updateQuery, params)\n\n      // Actualizar rol si se proporciona y es diferente\n      if (role \u0026\u0026 role !== userCompany.role) {\n        await db.run(`\n          UPDATE user_companies \n          SET role = ? \n          WHERE user_id = ? AND company_id = ?\n        `, [role, id, session.user.currentCompany?.id])\n      }\n\n      res.status(200).json({ message: 'Usuario actualizado exitosamente' })\n    } catch (error) {\n      console.error('Error al actualizar usuario:', error)\n      res.status(500).json({ message: 'Error al actualizar usuario' })\n    }\n  } else if (req.method === 'DELETE') {\n    try {\n      // Eliminar la relación con la empresa\n      await db.run(`\n        DELETE FROM user_companies \n        WHERE user_id = ? AND company_id = ?\n      `, [id, session.user.currentCompany?.id])\n\n      // Verificar si el usuario pertenece a otras empresas\n      const otherCompanies = await db.get(`\n        SELECT COUNT(*) as count \n        FROM user_companies \n        WHERE user_id = ?\n      `, [id])\n\n      // Si no pertenece a otras empresas, eliminar el usuario\n      if (otherCompanies.count === 0) {\n        await db.run('DELETE FROM users WHERE id = ?', [id])\n      }\n\n      res.status(200).json({ message: 'Usuario eliminado exitosamente' })\n    } catch (error) {\n      console.error('Error al eliminar usuario:', error)\n      res.status(500).json({ message: 'Error al eliminar usuario' })\n    }\n  } else {\n    res.setHeader('Allow', ['PUT', 'DELETE'])\n    res.status(405).end(`Method ${req.method} Not Allowed`)\n  }\n}","fullPath":"src/pages/api/users/[id].ts","isBinary":false,"lastModified":1730142665003},"src/context/AlertContext.tsx":{"name":"AlertContext.tsx","type":"file","contents":"import React, { createContext, useContext, useReducer, ReactNode } from 'react';\nimport { Alert, AlertType } from '../types/alert';\n\ninterface AlertState {\n  alerts: Alert[];\n}\n\ntype AlertAction =\n  | { type: 'ADD_ALERT'; payload: Alert }\n  | { type: 'REMOVE_ALERT'; payload: string };\n\nconst AlertContext = createContext\u003c{\n  state: AlertState;\n  addAlert: (type: AlertType, message: string) =\u003e void;\n  removeAlert: (id: string) =\u003e void;\n} | undefined\u003e(undefined);\n\nconst alertReducer = (state: AlertState, action: AlertAction): AlertState =\u003e {\n  switch (action.type) {\n    case 'ADD_ALERT':\n      return { ...state, alerts: [...state.alerts, action.payload] };\n    case 'REMOVE_ALERT':\n      return {\n        ...state,\n        alerts: state.alerts.filter((alert) =\u003e alert.id !== action.payload),\n      };\n    default:\n      return state;\n  }\n};\n\nexport const AlertProvider: React.FC\u003c{ children: ReactNode }\u003e = ({ children }) =\u003e {\n  const [state, dispatch] = useReducer(alertReducer, { alerts: [] });\n\n  const addAlert = (type: AlertType, message: string) =\u003e {\n    const id = `alert-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    dispatch({ type: 'ADD_ALERT', payload: { id, type, message } });\n    setTimeout(() =\u003e removeAlert(id), 5000);\n  };\n\n  const removeAlert = (id: string) =\u003e {\n    dispatch({ type: 'REMOVE_ALERT', payload: id });\n  };\n\n  return (\n    \u003cAlertContext.Provider value={{ state, addAlert, removeAlert }}\u003e\n      {children}\n    \u003c/AlertContext.Provider\u003e\n  );\n};\n\nexport const useAlert = () =\u003e {\n  const context = useContext(AlertContext);\n  if (context === undefined) {\n    throw new Error('useAlert must be used within an AlertProvider');\n  }\n  return context;\n};","fullPath":"src/context/AlertContext.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/api/auth/signup.ts":{"name":"signup.ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport bcrypt from 'bcryptjs'\nimport { getDb } from '../../../services/db'\nimport { signIn } from 'next-auth/react'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  if (req.method !== 'POST') {\n    return res.status(405).json({ message: 'Método no permitido' })\n  }\n\n  try {\n    const { name, email, password, companyName } = req.body\n    const db = await getDb()\n\n    // Verificar si el usuario ya existe\n    const existingUser = await db.get('SELECT * FROM users WHERE email = ?', [email])\n    if (existingUser) {\n      return res.status(400).json({ message: 'El usuario ya existe' })\n    }\n\n    // Crear el usuario\n    const hashedPassword = await bcrypt.hash(password, 10)\n    const userResult = await db.run(\n      'INSERT INTO users (name, email, password) VALUES (?, ?, ?)',\n      [name, email, hashedPassword]\n    )\n    const userId = userResult.lastID\n\n    // Crear la empresa\n    const companyResult = await db.run(\n      'INSERT INTO companies (name) VALUES (?)',\n      [companyName]\n    )\n    const companyId = companyResult.lastID\n\n    // Asignar usuario como super_admin y creador de la empresa\n    await db.run(\n      'INSERT INTO user_companies (user_id, company_id, role, is_creator) VALUES (?, ?, ?, ?)',\n      [userId, companyId, 'super_admin', 1]\n    )\n\n    // Crear sucursal principal\n    await db.run(\n      'INSERT INTO stores (name, company_id, is_main) VALUES (?, ?, ?)',\n      ['Principal', companyId, 1]\n    )\n\n    // Asignar todos los permisos disponibles al rol super_admin\n    const permissions = await db.all('SELECT id FROM permissions')\n    const roleResult = await db.get('SELECT id FROM roles WHERE name = ?', ['super_admin'])\n    \n    if (roleResult) {\n      for (const permission of permissions) {\n        await db.run(\n          'INSERT OR IGNORE INTO role_permissions (role_id, permission_id) VALUES (?, ?)',\n          [roleResult.id, permission.id]\n        )\n      }\n    }\n\n    // Iniciar sesión automáticamente\n    const credentials = {\n      email,\n      password,\n      companyId: companyId.toString()\n    }\n\n    res.status(201).json({\n      success: true,\n      message: 'Usuario y empresa creados exitosamente',\n      credentials\n    })\n  } catch (error) {\n    console.error('Error en el registro:', error)\n    res.status(500).json({ message: 'Error en el servidor' })\n  }\n}","fullPath":"src/pages/api/auth/signup.ts","isBinary":false,"lastModified":1730142665003},"src/pages/api/roles/index.ts":{"name":"index.ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { getSession } from 'next-auth/react'\nimport { getDb } from '../../../services/db'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  try {\n    const session = await getSession({ req })\n\n    if (!session?.user?.role) {\n      return res.status(401).json({ message: 'No autorizado' })\n    }\n\n    if (session.user.role !== 'super_admin') {\n      return res.status(403).json({ message: 'Acceso denegado. Se requiere rol de super administrador.' })\n    }\n\n    const db = await getDb()\n\n    if (req.method === 'GET') {\n      try {\n        const roles = await db.all(`\n          SELECT r.id, r.name, r.description,\n                 GROUP_CONCAT(rp.permission_id) as permissions\n          FROM roles r\n          LEFT JOIN role_permissions rp ON r.id = rp.role_id\n          GROUP BY r.id\n          ORDER BY \n            CASE \n              WHEN r.name = 'super_admin' THEN 1\n              WHEN r.name = 'admin' THEN 2\n              ELSE 3\n            END, r.name\n        `)\n\n        // Formatear los permisos como array\n        const formattedRoles = roles.map(role =\u003e ({\n          ...role,\n          permissions: role.permissions ? role.permissions.split(',').map(Number) : []\n        }))\n\n        res.status(200).json(formattedRoles)\n      } catch (error) {\n        console.error('Error al obtener roles:', error)\n        res.status(500).json({ message: 'Error al obtener roles' })\n      }\n    } else if (req.method === 'POST') {\n      try {\n        const { name, permissions } = req.body\n\n        if (!name || !permissions || !Array.isArray(permissions)) {\n          return res.status(400).json({ message: 'Datos inválidos' })\n        }\n\n        const result = await db.run(\n          'INSERT INTO roles (name) VALUES (?)',\n          [name]\n        )\n        const roleId = result.lastID\n\n        for (let permissionId of permissions) {\n          await db.run(\n            'INSERT INTO role_permissions (role_id, permission_id) VALUES (?, ?)',\n            [roleId, permissionId]\n          )\n        }\n\n        res.status(201).json({ id: roleId, name, permissions })\n      } catch (error) {\n        console.error('Error al crear rol:', error)\n        res.status(500).json({ message: 'Error al crear rol' })\n      }\n    } else {\n      res.setHeader('Allow', ['GET', 'POST'])\n      res.status(405).end(`Method ${req.method} Not Allowed`)\n    }\n  } catch (error) {\n    console.error('Error en el handler:', error)\n    res.status(500).json({ message: 'Error interno del servidor' })\n  }\n}","fullPath":"src/pages/api/roles/index.ts","isBinary":false,"lastModified":1730142665003},"src/pages/api/users/index.ts":{"name":"index.ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { getSession } from 'next-auth/react'\nimport { getDb } from '../../../services/db'\nimport bcrypt from 'bcryptjs'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  try {\n    const session = await getSession({ req })\n\n    if (!session) {\n      return res.status(401).json({ message: 'No autorizado' })\n    }\n\n    // Verificar si el usuario tiene el rol adecuado\n    if (session.user.role !== 'super_admin' \u0026\u0026 session.user.role !== 'admin') {\n      return res.status(403).json({ message: 'No tienes permisos para realizar esta acción' })\n    }\n\n    const db = await getDb()\n\n    if (req.method === 'GET') {\n      try {\n        const companyId = session.user.currentCompany?.id;\n\n        if (!companyId) {\n          return res.status(400).json({ message: 'No se encontró la empresa actual' });\n        }\n\n        // Consulta para obtener usuarios según el rol\n        const query = session.user.role === 'super_admin'\n          ? `\n            SELECT u.id, u.name, u.email, uc.role \n            FROM users u\n            JOIN user_companies uc ON u.id = uc.user_id\n            WHERE uc.company_id = ?\n          `\n          : `\n            SELECT u.id, u.name, u.email, uc.role \n            FROM users u\n            JOIN user_companies uc ON u.id = uc.user_id\n            WHERE uc.company_id = ? AND uc.role != 'super_admin'\n          `;\n\n        const users = await db.all(query, [companyId]);\n        res.status(200).json(users)\n      } catch (error) {\n        console.error('Error al obtener usuarios:', error)\n        res.status(500).json({ message: 'Error al obtener usuarios' })\n      }\n    } else if (req.method === 'POST') {\n      try {\n        const { name, email, password, role } = req.body\n        const companyId = session.user.currentCompany?.id\n\n        if (!name || !email || !password || !role || !companyId) {\n          return res.status(400).json({ message: 'Faltan campos requeridos' })\n        }\n\n        // Verificar si el email ya existe\n        const existingUser = await db.get('SELECT id FROM users WHERE email = ?', [email])\n        if (existingUser) {\n          return res.status(400).json({ message: 'El email ya está registrado' })\n        }\n\n        // Verificar permisos para crear roles específicos\n        if (session.user.role !== 'super_admin' \u0026\u0026 role === 'admin') {\n          return res.status(403).json({ message: 'No puedes crear usuarios administradores' })\n        }\n\n        const hashedPassword = await bcrypt.hash(password, 10)\n\n        // Iniciar transacción\n        await db.run('BEGIN TRANSACTION')\n\n        try {\n          // Crear usuario\n          const userResult = await db.run(\n            'INSERT INTO users (name, email, password) VALUES (?, ?, ?)',\n            [name, email, hashedPassword]\n          )\n\n          // Asignar usuario a la empresa con el rol especificado\n          await db.run(\n            'INSERT INTO user_companies (user_id, company_id, role) VALUES (?, ?, ?)',\n            [userResult.lastID, companyId, role]\n          )\n\n          await db.run('COMMIT')\n\n          res.status(201).json({\n            id: userResult.lastID,\n            name,\n            email,\n            role\n          })\n        } catch (error) {\n          await db.run('ROLLBACK')\n          throw error\n        }\n      } catch (error) {\n        console.error('Error al crear usuario:', error)\n        res.status(500).json({ message: 'Error al crear usuario' })\n      }\n    } else {\n      res.setHeader('Allow', ['GET', 'POST'])\n      res.status(405).end(`Method ${req.method} Not Allowed`)\n    }\n  } catch (error) {\n    console.error('Error en el handler:', error)\n    res.status(500).json({ message: 'Error interno del servidor' })\n  }\n}","fullPath":"src/pages/api/users/index.ts","isBinary":false,"lastModified":1730142665003},"src/pages/dashboard/products":{"name":"products","type":"folder","fullPath":"src/pages/dashboard/products","lastModified":1730142665003},"src/pages/dashboard/settings":{"name":"settings","type":"folder","fullPath":"src/pages/dashboard/settings","lastModified":1730142665003},"src/components/InviteUser.tsx":{"name":"InviteUser.tsx","type":"file","contents":"import React, { useState, useEffect } from 'react'\nimport { useAlert } from '../context/AlertContext'\nimport { useSession } from 'next-auth/react'\n\nconst InviteUser: React.FC = () =\u003e {\n  const [email, setEmail] = useState('')\n  const [selectedCompany, setSelectedCompany] = useState('')\n  const { addAlert } = useAlert()\n  const { data: session } = useSession()\n\n  useEffect(() =\u003e {\n    if (session?.user?.companies \u0026\u0026 session.user.companies.length \u003e 0) {\n      setSelectedCompany(session.user.companies[0].id.toString())\n    }\n  }, [session])\n\n  const handleSubmit = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n    try {\n      const response = await fetch('/api/invitations', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ companyId: selectedCompany, inviteeEmail: email }),\n      })\n\n      if (response.ok) {\n        addAlert('success', 'Invitación enviada exitosamente')\n        setEmail('')\n      } else {\n        const error = await response.text()\n        addAlert('error', `Error al enviar la invitación: ${error}`)\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al enviar la invitación')\n    }\n  }\n\n  return (\n    \u003cform onSubmit={handleSubmit} className=\"mt-4\"\u003e\n      \u003ch3 className=\"text-lg font-semibold mb-2\"\u003eInvitar Usuario\u003c/h3\u003e\n      \u003cdiv className=\"flex flex-col space-y-2\"\u003e\n        \u003cselect\n          value={selectedCompany}\n          onChange={(e) =\u003e setSelectedCompany(e.target.value)}\n          className=\"p-2 border rounded\"\n        \u003e\n          {session?.user?.companies?.map((company) =\u003e (\n            \u003coption key={company.id} value={company.id}\u003e{company.name}\u003c/option\u003e\n          ))}\n        \u003c/select\u003e\n        \u003cinput\n          type=\"email\"\n          value={email}\n          onChange={(e) =\u003e setEmail(e.target.value)}\n          placeholder=\"Correo electrónico\"\n          required\n          className=\"p-2 border rounded\"\n        /\u003e\n        \u003cbutton type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded\"\u003e\n          Invitar\n        \u003c/button\u003e\n      \u003c/div\u003e\n    \u003c/form\u003e\n  )\n}\n\nexport default InviteUser","fullPath":"src/components/InviteUser.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/api/stores/index.ts":{"name":"index.ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { getSession } from 'next-auth/react'\nimport { getDb } from '../../../services/db'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  const session = await getSession({ req })\n\n  if (!session) {\n    return res.status(401).json({ message: 'No autorizado' })\n  }\n\n  const db = await getDb()\n\n  if (req.method === 'GET') {\n    try {\n      const userId = parseInt(session.user.id as string)\n      const stores = await db.all(`\n        SELECT stores.* \n        FROM stores \n        JOIN companies ON stores.company_id = companies.id \n        WHERE companies.user_id = ?\n      `, [userId])\n      res.status(200).json(stores)\n    } catch (error) {\n      console.error('Error al obtener las sucursales:', error)\n      res.status(500).json({ message: 'Error al obtener las sucursales' })\n    }\n  } else if (req.method === 'POST') {\n    try {\n      const { name } = req.body\n      const userId = parseInt(session.user.id as string)\n      \n      // Obtener la compañía del usuario\n      const company = await db.get('SELECT id FROM companies WHERE user_id = ?', [userId])\n      \n      if (!company) {\n        return res.status(400).json({ message: 'No se encontró la empresa del usuario' })\n      }\n\n      const result = await db.run(\n        'INSERT INTO stores (name, company_id, is_main) VALUES (?, ?, ?)',\n        [name, company.id, 0]\n      )\n\n      res.status(201).json({ id: result.lastID, name, is_main: false })\n    } catch (error) {\n      console.error('Error al crear la sucursal:', error)\n      res.status(500).json({ message: 'Error al crear la sucursal' })\n    }\n  } else {\n    res.setHeader('Allow', ['GET', 'POST'])\n    res.status(405).end(`Method ${req.method} Not Allowed`)\n  }\n}","fullPath":"src/pages/api/stores/index.ts","isBinary":false,"lastModified":1730142665003},"src/pages/dashboard/index.tsx":{"name":"index.tsx","type":"file","contents":"import { useEffect, useState } from 'react'\nimport { useSession } from 'next-auth/react'\nimport { useRouter } from 'next/router'\nimport Layout from '../../components/Layout'\nimport Link from 'next/link'\nimport { Store, Package, Users, Settings } from 'lucide-react'\n\nconst Dashboard = () =\u003e {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() =\u003e {\n    let isMounted = true\n\n    const checkAuth = async () =\u003e {\n      try {\n        if (status === 'unauthenticated' \u0026\u0026 isMounted) {\n          await router.push('/auth/login')\n        } else if (status === 'authenticated' \u0026\u0026 isMounted) {\n          setIsLoading(false)\n        }\n      } catch (error) {\n        console.error('Error en la navegación:', error)\n      }\n    }\n\n    checkAuth()\n\n    return () =\u003e {\n      isMounted = false\n    }\n  }, [status, router])\n\n  if (isLoading || status === 'loading') {\n    return (\n      \u003cLayout title=\"Cargando Dashboard\"\u003e\n        \u003cdiv className=\"flex items-center justify-center min-h-screen\"\u003e\n          \u003cdiv className=\"text-center\"\u003e\n            \u003cdiv className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto\"\u003e\u003c/div\u003e\n            \u003cp className=\"mt-4 text-gray-600\"\u003eCargando dashboard...\u003c/p\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/Layout\u003e\n    )\n  }\n\n  if (!session) {\n    return null\n  }\n\n  const menuItems = [\n    {\n      icon: Store,\n      title: 'Sucursales',\n      description: 'Gestiona tus sucursales',\n      href: '/dashboard/stores',\n      color: 'bg-blue-500'\n    },\n    {\n      icon: Package,\n      title: 'Productos',\n      description: 'Administra tu inventario',\n      href: '/dashboard/products',\n      color: 'bg-green-500'\n    },\n    {\n      icon: Users,\n      title: 'Usuarios',\n      description: 'Gestión de usuarios',\n      href: '/dashboard/users',\n      color: 'bg-purple-500',\n      adminOnly: true\n    },\n    {\n      icon: Settings,\n      title: 'Configuración',\n      description: 'Ajustes del sistema',\n      href: '/dashboard/settings',\n      color: 'bg-gray-500'\n    }\n  ]\n\n  const filteredMenuItems = session.user?.role === 'super_admin' \n    ? menuItems \n    : menuItems.filter(item =\u003e !item.adminOnly)\n\n  return (\n    \u003cLayout title=\"Dashboard\"\u003e\n      \u003cdiv className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\"\u003e\n        \u003cdiv className=\"mb-8\"\u003e\n          \u003ch1 className=\"text-3xl font-bold text-gray-900\"\u003e\n            Bienvenido, {session.user?.name}\n          \u003c/h1\u003e\n          \u003cp className=\"mt-2 text-gray-600\"\u003e\n            {session.user?.currentCompany?.name} - {session.user?.currentStore?.name}\n          \u003c/p\u003e\n        \u003c/div\u003e\n\n        \u003cdiv className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\"\u003e\n          {filteredMenuItems.map((item, index) =\u003e (\n            \u003cLink key={index} href={item.href}\u003e\n              \u003ca className=\"block group\"\u003e\n                \u003cdiv className=\"p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200\"\u003e\n                  \u003cdiv className={`inline-flex p-3 rounded-lg ${item.color}`}\u003e\n                    \u003citem.icon className=\"h-6 w-6 text-white\" /\u003e\n                  \u003c/div\u003e\n                  \u003ch3 className=\"mt-4 text-lg font-medium text-gray-900 group-hover:text-blue-600\"\u003e\n                    {item.title}\n                  \u003c/h3\u003e\n                  \u003cp className=\"mt-2 text-sm text-gray-500\"\u003e\n                    {item.description}\n                  \u003c/p\u003e\n                \u003c/div\u003e\n              \u003c/a\u003e\n            \u003c/Link\u003e\n          ))}\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/Layout\u003e\n  )\n}\n\nexport default Dashboard","fullPath":"src/pages/dashboard/index.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/api/products/[id].ts":{"name":"[id].ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { getSession } from 'next-auth/react'\nimport { getDb } from '../../../services/db'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  const session = await getSession({ req })\n\n  if (!session) {\n    return res.status(401).json({ message: 'No autorizado' })\n  }\n\n  const { id } = req.query\n  const db = await getDb()\n\n  if (req.method === 'GET') {\n    try {\n      const product = await db.get('SELECT * FROM products WHERE id = ?', [id])\n      if (product) {\n        res.status(200).json(product)\n      } else {\n        res.status(404).json({ message: 'Producto no encontrado' })\n      }\n    } catch (error) {\n      console.error('Error al obtener el producto:', error)\n      res.status(500).json({ message: 'Error al obtener el producto' })\n    }\n  } else if (req.method === 'PUT') {\n    try {\n      const { name, price } = req.body\n      if (!name || !price) {\n        return res.status(400).json({ message: 'Se requieren todos los campos' })\n      }\n\n      await db.run(\n        'UPDATE products SET name = ?, price = ? WHERE id = ?',\n        [name, price, id]\n      )\n\n      res.status(200).json({ id, name, price })\n    } catch (error) {\n      console.error('Error al actualizar el producto:', error)\n      res.status(500).json({ message: 'Error al actualizar el producto' })\n    }\n  } else if (req.method === 'DELETE') {\n    try {\n      await db.run('DELETE FROM products WHERE id = ?', [id])\n      res.status(200).json({ message: 'Producto eliminado exitosamente' })\n    } catch (error) {\n      console.error('Error al eliminar el producto:', error)\n      res.status(500).json({ message: 'Error al eliminar el producto' })\n    }\n  } else {\n    res.setHeader('Allow', ['GET', 'PUT', 'DELETE'])\n    res.status(405).end(`Method ${req.method} Not Allowed`)\n  }\n}","fullPath":"src/pages/api/products/[id].ts","isBinary":false,"lastModified":1730142665003},"src/services/localStorageDb.ts":{"name":"localStorageDb.ts","type":"file","contents":"import { User, Company, Store, Product } from '../types'\n\nclass LocalStorageDb {\n  private getItem\u003cT\u003e(key: string): T[] {\n    const item = localStorage.getItem(key)\n    return item ? JSON.parse(item) : []\n  }\n\n  private setItem\u003cT\u003e(key: string, value: T[]): void {\n    localStorage.setItem(key, JSON.stringify(value))\n  }\n\n  // Users\n  getUsers(): User[] {\n    return this.getItem\u003cUser\u003e('users')\n  }\n\n  createUser(user: User): User {\n    const users = this.getUsers()\n    const newUser = { ...user, id: users.length + 1 }\n    this.setItem('users', [...users, newUser])\n    return newUser\n  }\n\n  getUserByEmail(email: string): User | undefined {\n    return this.getUsers().find(user =\u003e user.email === email)\n  }\n\n  // Companies\n  getCompanies(): Company[] {\n    return this.getItem\u003cCompany\u003e('companies')\n  }\n\n  createCompany(company: Company): Company {\n    const companies = this.getCompanies()\n    const newCompany = { ...company, id: companies.length + 1 }\n    this.setItem('companies', [...companies, newCompany])\n    return newCompany\n  }\n\n  // Stores\n  getStores(): Store[] {\n    return this.getItem\u003cStore\u003e('stores')\n  }\n\n  createStore(store: Store): Store {\n    const stores = this.getStores()\n    const newStore = { ...store, id: stores.length + 1 }\n    this.setItem('stores', [...stores, newStore])\n    return newStore\n  }\n\n  getStoresByCompanyId(companyId: number): Store[] {\n    return this.getStores().filter(store =\u003e store.companyId === companyId)\n  }\n\n  // Products\n  getProducts(): Product[] {\n    return this.getItem\u003cProduct\u003e('products')\n  }\n\n  createProduct(product: Product): Product {\n    const products = this.getProducts()\n    const newProduct = { ...product, id: products.length + 1 }\n    this.setItem('products', [...products, newProduct])\n    return newProduct\n  }\n\n  getProductsByStoreId(storeId: number): Product[] {\n    return this.getProducts().filter(product =\u003e product.storeId === storeId)\n  }\n}\n\nexport const localStorageDb = new LocalStorageDb()","fullPath":"src/services/localStorageDb.ts","isBinary":false,"lastModified":1730142665003},"src/context/TextSizeContext.tsx":{"name":"TextSizeContext.tsx","type":"file","contents":"import React, { createContext, useContext, useState, useEffect } from 'react';\n\ntype TextSize = 'xs' | 'sm' | 'base' | 'lg';\n\ninterface TextSizeContextType {\n  sidebarTextSize: TextSize;\n  configTextSize: TextSize;\n  setSidebarTextSize: (size: TextSize) =\u003e void;\n  setConfigTextSize: (size: TextSize) =\u003e void;\n}\n\nconst TextSizeContext = createContext\u003cTextSizeContextType | undefined\u003e(undefined);\n\nexport const TextSizeProvider: React.FC\u003c{ children: React.ReactNode }\u003e = ({ children }) =\u003e {\n  const [sidebarTextSize, setSidebarTextSize] = useState\u003cTextSize\u003e('base');\n  const [configTextSize, setConfigTextSize] = useState\u003cTextSize\u003e('base');\n\n  useEffect(() =\u003e {\n    // Cargar preferencias guardadas\n    const savedSidebarSize = localStorage.getItem('sidebarTextSize') as TextSize;\n    const savedConfigSize = localStorage.getItem('configTextSize') as TextSize;\n\n    if (savedSidebarSize) setSidebarTextSize(savedSidebarSize);\n    if (savedConfigSize) setConfigTextSize(savedConfigSize);\n  }, []);\n\n  const handleSetSidebarTextSize = (size: TextSize) =\u003e {\n    setSidebarTextSize(size);\n    localStorage.setItem('sidebarTextSize', size);\n  };\n\n  const handleSetConfigTextSize = (size: TextSize) =\u003e {\n    setConfigTextSize(size);\n    localStorage.setItem('configTextSize', size);\n  };\n\n  return (\n    \u003cTextSizeContext.Provider\n      value={{\n        sidebarTextSize,\n        configTextSize,\n        setSidebarTextSize: handleSetSidebarTextSize,\n        setConfigTextSize: handleSetConfigTextSize,\n      }}\n    \u003e\n      {children}\n    \u003c/TextSizeContext.Provider\u003e\n  );\n};\n\nexport const useTextSize = () =\u003e {\n  const context = useContext(TextSizeContext);\n  if (context === undefined) {\n    throw new Error('useTextSize must be used within a TextSizeProvider');\n  }\n  return context;\n};","fullPath":"src/context/TextSizeContext.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/api/products/index.ts":{"name":"index.ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { getSession } from 'next-auth/react'\nimport { getDb } from '../../../services/db'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  const session = await getSession({ req })\n\n  if (!session) {\n    return res.status(401).json({ message: 'No autorizado' })\n  }\n\n  const db = await getDb()\n\n  if (req.method === 'GET') {\n    try {\n      const { storeId } = req.query\n      if (!storeId) {\n        return res.status(400).json({ message: 'Se requiere el ID de la tienda' })\n      }\n\n      const products = await db.all('SELECT * FROM products WHERE store_id = ?', [storeId])\n      res.status(200).json(products)\n    } catch (error) {\n      console.error('Error al obtener los productos:', error)\n      res.status(500).json({ message: 'Error al obtener los productos' })\n    }\n  } else if (req.method === 'POST') {\n    try {\n      const { name, price, storeId } = req.body\n      if (!name || !price || !storeId) {\n        return res.status(400).json({ message: 'Se requieren todos los campos' })\n      }\n\n      const result = await db.run(\n        'INSERT INTO products (name, price, store_id) VALUES (?, ?, ?)',\n        [name, price, storeId]\n      )\n\n      res.status(201).json({ id: result.lastID, name, price, storeId })\n    } catch (error) {\n      console.error('Error al crear el producto:', error)\n      res.status(500).json({ message: 'Error al crear el producto' })\n    }\n  } else {\n    res.setHeader('Allow', ['GET', 'POST'])\n    res.status(405).end(`Method ${req.method} Not Allowed`)\n  }\n}","fullPath":"src/pages/api/products/index.ts","isBinary":false,"lastModified":1730142665003},"src/components/AlertContainer.tsx":{"name":"AlertContainer.tsx","type":"file","contents":"import React from 'react';\nimport { useAlert } from '../context/AlertContext';\nimport Alert from './Alert';\n\nconst AlertContainer: React.FC = () =\u003e {\n  const { state } = useAlert();\n\n  return (\n    \u003cdiv className=\"fixed top-4 right-4 z-50\"\u003e\n      {state.alerts.map((alert) =\u003e (\n        \u003cAlert key={alert.id} alert={alert} /\u003e\n      ))}\n    \u003c/div\u003e\n  );\n};\n\nexport default AlertContainer;","fullPath":"src/components/AlertContainer.tsx","isBinary":false,"lastModified":1730142665003},"src/components/RoleManagement.tsx":{"name":"RoleManagement.tsx","type":"file","contents":"import React, { useState, useEffect } from 'react'\nimport { useAlert } from '../context/AlertContext'\nimport { Edit, Trash2, Plus, Search } from 'lucide-react'\nimport { useSession } from 'next-auth/react'\n\ntype Role = {\n  id: number;\n  name: string;\n  permissions: number[];\n}\n\ntype Permission = {\n  id: number;\n  name: string;\n  description: string;\n  category: string;\n}\n\nconst RoleManagement: React.FC = () =\u003e {\n  const [roles, setRoles] = useState\u003cRole[]\u003e([])\n  const [permissions, setPermissions] = useState\u003cPermission[]\u003e([])\n  const [selectedRole, setSelectedRole] = useState\u003cRole | null\u003e(null)\n  const [showModal, setShowModal] = useState(false)\n  const [newRoleName, setNewRoleName] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [categoryFilter, setCategoryFilter] = useState('todas')\n  const { addAlert } = useAlert()\n  const { data: session } = useSession()\n\n  useEffect(() =\u003e {\n    if (session?.user?.role === 'super_admin') {\n      fetchRoles()\n      fetchPermissions()\n    }\n  }, [session])\n\n  const fetchRoles = async () =\u003e {\n    try {\n      setLoading(true)\n      const response = await fetch('/api/roles', {\n        credentials: 'include'\n      })\n      \n      if (response.ok) {\n        const data = await response.json()\n        setRoles(data)\n      } else {\n        const errorData = await response.json()\n        addAlert('error', `Error al cargar los roles: ${errorData.message}`)\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al cargar los roles')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const fetchPermissions = async () =\u003e {\n    try {\n      const response = await fetch('/api/permissions', {\n        credentials: 'include'\n      })\n      \n      if (response.ok) {\n        const data = await response.json()\n        // Extraer la categoría del nombre del permiso (antes del punto)\n        const processedData = data.map((p: any) =\u003e ({\n          ...p,\n          category: p.name.split('.')[0]\n        }))\n        setPermissions(processedData)\n      } else {\n        const errorData = await response.json()\n        addAlert('error', `Error al cargar los permisos: ${errorData.message}`)\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al cargar los permisos')\n    }\n  }\n\n  const handleCreateRole = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n    if (!newRoleName.trim()) {\n      addAlert('error', 'El nombre del rol es requerido')\n      return\n    }\n\n    try {\n      const response = await fetch('/api/roles', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          name: newRoleName,\n          permissions: [] \n        }),\n        credentials: 'include'\n      })\n\n      if (response.ok) {\n        const newRole = await response.json()\n        setRoles([...roles, newRole])\n        setNewRoleName('')\n        setShowModal(false)\n        addAlert('success', 'Rol creado exitosamente')\n      } else {\n        const errorData = await response.json()\n        addAlert('error', `Error al crear el rol: ${errorData.message}`)\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al crear el rol')\n    }\n  }\n\n  const handlePermissionToggle = async (roleId: number, permissionId: number) =\u003e {\n    const role = roles.find(r =\u003e r.id === roleId)\n    if (!role) return\n\n    const updatedPermissions = role.permissions.includes(permissionId)\n      ? role.permissions.filter(id =\u003e id !== permissionId)\n      : [...role.permissions, permissionId]\n\n    try {\n      const response = await fetch(`/api/roles/${roleId}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          name: role.name,\n          permissions: updatedPermissions\n        }),\n        credentials: 'include'\n      })\n\n      if (response.ok) {\n        setRoles(roles.map(r =\u003e \n          r.id === roleId \n            ? { ...r, permissions: updatedPermissions }\n            : r\n        ))\n        addAlert('success', 'Permisos actualizados exitosamente')\n      } else {\n        const errorData = await response.json()\n        addAlert('error', `Error al actualizar permisos: ${errorData.message}`)\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al actualizar permisos')\n    }\n  }\n\n  // Obtener categorías únicas\n  const categories = Array.from(new Set(permissions.map(p =\u003e p.category)))\n\n  // Filtrar permisos según búsqueda y categoría\n  const filteredPermissions = permissions.filter(permission =\u003e {\n    const matchesSearch = permission.description.toLowerCase().includes(searchTerm.toLowerCase())\n    const matchesCategory = categoryFilter === 'todas' || permission.category === categoryFilter\n    return matchesSearch \u0026\u0026 matchesCategory\n  })\n\n  // Agrupar permisos por categoría\n  const groupedPermissions = filteredPermissions.reduce((groups: { [key: string]: Permission[] }, permission) =\u003e {\n    const category = permission.category\n    if (!groups[category]) {\n      groups[category] = []\n    }\n    groups[category].push(permission)\n    return groups\n  }, {})\n\n  const formatCategory = (category: string) =\u003e {\n    const categoryMap: { [key: string]: string } = {\n      'security': 'Seguridad',\n      'company': 'Empresa',\n      'users': 'Usuarios',\n      'stores': 'Sucursales',\n      'products': 'Productos',\n      'inventory': 'Inventario',\n      'sales': 'Ventas',\n      'purchases': 'Compras',\n      'customers': 'Clientes',\n      'suppliers': 'Proveedores',\n      'settings': 'Configuración',\n      'reports': 'Reportes',\n      'audit': 'Auditoría',\n      'roles': 'Roles'\n    }\n    return categoryMap[category] || category.charAt(0).toUpperCase() + category.slice(1)\n  }\n\n  if (loading) {\n    return \u003cdiv className=\"flex justify-center items-center\"\u003eCargando...\u003c/div\u003e\n  }\n\n  if (session?.user?.role !== 'super_admin') {\n    return \u003cdiv\u003eNo tienes permisos para acceder a esta sección.\u003c/div\u003e\n  }\n\n  return (\n    \u003cdiv className=\"space-y-6\"\u003e\n      \u003cdiv className=\"flex justify-between items-center\"\u003e\n        \u003cselect\n          value={selectedRole?.id || ''}\n          onChange={(e) =\u003e setSelectedRole(roles.find(r =\u003e r.id === Number(e.target.value)) || null)}\n          className=\"w-64 p-2 border rounded\"\n        \u003e\n          \u003coption value=\"\"\u003eSeleccionar Rol\u003c/option\u003e\n          {roles.map((role) =\u003e (\n            \u003coption key={role.id} value={role.id}\u003e{role.name}\u003c/option\u003e\n          ))}\n        \u003c/select\u003e\n        \n        \u003cbutton\n          onClick={() =\u003e setShowModal(true)}\n          className=\"bg-blue-500 text-white px-4 py-2 rounded flex items-center\"\n        \u003e\n          \u003cPlus className=\"w-4 h-4 mr-2\" /\u003e\n          Nuevo Rol\n        \u003c/button\u003e\n      \u003c/div\u003e\n\n      {selectedRole \u0026\u0026 (\n        \u003cdiv className=\"bg-white p-6 rounded-lg shadow border\"\u003e\n          \u003ch3 className=\"text-lg font-semibold mb-4\"\u003ePermisos para {selectedRole.name}\u003c/h3\u003e\n          \n          {/* Filtros y Búsqueda */}\n          \u003cdiv className=\"mb-6 flex gap-4\"\u003e\n            \u003cdiv className=\"flex-1 relative\"\u003e\n              \u003cSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" /\u003e\n              \u003cinput\n                type=\"text\"\n                placeholder=\"Buscar permisos...\"\n                value={searchTerm}\n                onChange={(e) =\u003e setSearchTerm(e.target.value)}\n                className=\"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200\"\n              /\u003e\n            \u003c/div\u003e\n            \u003cdiv className=\"w-48\"\u003e\n              \u003cselect\n                value={categoryFilter}\n                onChange={(e) =\u003e setCategoryFilter(e.target.value)}\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200\"\n              \u003e\n                \u003coption value=\"todas\"\u003eTodas las categorías\u003c/option\u003e\n                {categories.map((category) =\u003e (\n                  \u003coption key={category} value={category}\u003e\n                    {formatCategory(category)}\n                  \u003c/option\u003e\n                ))}\n              \u003c/select\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          {/* Lista de Permisos Agrupados */}\n          \u003cdiv className=\"space-y-6\"\u003e\n            {Object.entries(groupedPermissions).map(([category, categoryPermissions]) =\u003e (\n              \u003cdiv key={category} className=\"border rounded-lg overflow-hidden\"\u003e\n                \u003cdiv className=\"bg-gray-50 px-6 py-3 border-b\"\u003e\n                  \u003ch4 className=\"font-medium text-gray-700\"\u003e{formatCategory(category)}\u003c/h4\u003e\n                \u003c/div\u003e\n                \u003cdiv className=\"p-4 grid grid-cols-2 gap-4\"\u003e\n                  {categoryPermissions.map((permission) =\u003e (\n                    \u003cdiv key={permission.id} className=\"flex items-center space-x-2\"\u003e\n                      \u003cinput\n                        type=\"checkbox\"\n                        checked={selectedRole.permissions.includes(permission.id)}\n                        onChange={() =\u003e handlePermissionToggle(selectedRole.id, permission.id)}\n                        className=\"rounded border-gray-300\"\n                        disabled={selectedRole.name === 'super_admin'}\n                      /\u003e\n                      \u003cdiv\u003e\n                        \u003cp className=\"text-sm text-gray-700\"\u003e{permission.description}\u003c/p\u003e\n                      \u003c/div\u003e\n                    \u003c/div\u003e\n                  ))}\n                \u003c/div\u003e\n              \u003c/div\u003e\n            ))}\n          \u003c/div\u003e\n        \u003c/div\u003e\n      )}\n\n      {showModal \u0026\u0026 (\n        \u003cdiv className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\"\u003e\n          \u003cdiv className=\"bg-white p-6 rounded-lg w-96\"\u003e\n            \u003ch3 className=\"text-lg font-semibold mb-4\"\u003eCrear Nuevo Rol\u003c/h3\u003e\n            \u003cform onSubmit={handleCreateRole}\u003e\n              \u003cinput\n                type=\"text\"\n                value={newRoleName}\n                onChange={(e) =\u003e setNewRoleName(e.target.value)}\n                placeholder=\"Nombre del rol\"\n                className=\"w-full p-2 border rounded mb-4\"\n              /\u003e\n              \u003cdiv className=\"flex justify-end space-x-2\"\u003e\n                \u003cbutton\n                  type=\"button\"\n                  onClick={() =\u003e setShowModal(false)}\n                  className=\"px-4 py-2 border rounded\"\n                \u003e\n                  Cancelar\n                \u003c/button\u003e\n                \u003cbutton\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded\"\n                \u003e\n                  Crear\n                \u003c/button\u003e\n              \u003c/div\u003e\n            \u003c/form\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n\nexport default RoleManagement","fullPath":"src/components/RoleManagement.tsx","isBinary":false,"lastModified":1730142665003},"src/components/UserManagement.tsx":{"name":"UserManagement.tsx","type":"file","contents":"import React, { useState, useEffect } from 'react'\nimport { useAlert } from '../context/AlertContext'\nimport { Edit, Trash2, Plus, Search } from 'lucide-react'\nimport { useSession } from 'next-auth/react'\n\ntype User = {\n  id: string;\n  name: string;\n  email: string;\n  role: string;\n}\n\nconst UserManagement = () =\u003e {\n  const [users, setUsers] = useState\u003cUser[]\u003e([])\n  const [showModal, setShowModal] = useState(false)\n  const [editingUser, setEditingUser] = useState\u003cUser | null\u003e(null)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [roleFilter, setRoleFilter] = useState('todos')\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    role: 'usuariojr'\n  })\n  const { addAlert } = useAlert()\n  const { data: session } = useSession()\n\n  useEffect(() =\u003e {\n    if (session?.user?.currentCompany?.id) {\n      fetchUsers()\n    }\n  }, [session])\n\n  const fetchUsers = async () =\u003e {\n    try {\n      const response = await fetch('/api/users')\n      if (response.ok) {\n        const data = await response.json()\n        setUsers(data)\n      } else {\n        const errorData = await response.json()\n        addAlert('error', `Error al cargar los usuarios: ${errorData.message}`)\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al cargar los usuarios')\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n    try {\n      const url = editingUser ? `/api/users/${editingUser.id}` : '/api/users'\n      const method = editingUser ? 'PUT' : 'POST'\n      \n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData),\n      })\n\n      if (response.ok) {\n        addAlert('success', `Usuario ${editingUser ? 'actualizado' : 'creado'} exitosamente`)\n        setShowModal(false)\n        setEditingUser(null)\n        setFormData({ name: '', email: '', password: '', role: 'usuariojr' })\n        fetchUsers()\n      } else {\n        const errorData = await response.json()\n        addAlert('error', `Error: ${errorData.message}`)\n      }\n    } catch (error) {\n      addAlert('error', `Error de conexión`)\n    }\n  }\n\n  // ... resto del código del componente permanece igual ...\n}","fullPath":"src/components/UserManagement.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/api/invitations/[id].ts":{"name":"[id].ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { getSession } from 'next-auth/react'\nimport { getDb } from '../../../services/db'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  const session = await getSession({ req })\n\n  if (!session) {\n    return res.status(401).json({ message: 'No autorizado' })\n  }\n\n  const { id } = req.query\n  const db = await getDb()\n\n  if (req.method === 'PUT') {\n    try {\n      const { status } = req.body\n\n      if (!['accepted', 'rejected'].includes(status)) {\n        return res.status(400).json({ message: 'Estado de invitación inválido' })\n      }\n\n      const invitation = await db.get('SELECT * FROM invitations WHERE id = ?', [id])\n\n      if (!invitation) {\n        return res.status(404).json({ message: 'Invitación no encontrada' })\n      }\n\n      if (invitation.invitee_email !== session.user.email) {\n        return res.status(403).json({ message: 'No tienes permiso para responder a esta invitación' })\n      }\n\n      await db.run('UPDATE invitations SET status = ? WHERE id = ?', [status, id])\n\n      if (status === 'accepted') {\n        // Agregar al usuario a la empresa\n        await db.run(\n          'INSERT INTO user_companies (user_id, company_id, role) VALUES (?, ?, ?)',\n          [session.user.id, invitation.company_id, 'user']\n        )\n      }\n\n      res.status(200).json({ message: `Invitación ${status === 'accepted' ? 'aceptada' : 'rechazada'} exitosamente` })\n    } catch (error) {\n      console.error('Error al responder a la invitación:', error)\n      res.status(500).json({ message: 'Error al responder a la invitación' })\n    }\n  } else {\n    res.setHeader('Allow', ['PUT'])\n    res.status(405).end(`Method ${req.method} Not Allowed`)\n  }\n}","fullPath":"src/pages/api/invitations/[id].ts","isBinary":false,"lastModified":1730142665003},"scripts/postgres/create-tables.sql":{"name":"create-tables.sql","type":"file","contents":"-- Usuarios y Autenticación\nCREATE TABLE IF NOT EXISTS users (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    phone VARCHAR(50),\n    avatar_url TEXT,\n    status VARCHAR(20) DEFAULT 'active',\n    last_login TIMESTAMP WITH TIME ZONE,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Empresas\nCREATE TABLE IF NOT EXISTS companies (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    legal_name VARCHAR(255),\n    tax_id VARCHAR(50),\n    logo_url TEXT,\n    website VARCHAR(255),\n    email VARCHAR(255),\n    phone VARCHAR(50),\n    address TEXT,\n    city VARCHAR(100),\n    state VARCHAR(100),\n    country VARCHAR(100),\n    postal_code VARCHAR(20),\n    status VARCHAR(20) DEFAULT 'active',\n    settings JSONB DEFAULT '{}',\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Relación Usuarios-Empresas\nCREATE TABLE IF NOT EXISTS user_companies (\n    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,\n    company_id INTEGER REFERENCES companies(id) ON DELETE CASCADE,\n    role VARCHAR(50) NOT NULL,\n    is_creator BOOLEAN DEFAULT FALSE,\n    permissions JSONB DEFAULT '{}',\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    PRIMARY KEY (user_id, company_id)\n);\n\n-- Sucursales/Tiendas\nCREATE TABLE IF NOT EXISTS stores (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id) ON DELETE CASCADE,\n    name VARCHAR(255) NOT NULL,\n    code VARCHAR(50) UNIQUE,\n    is_main BOOLEAN DEFAULT FALSE,\n    phone VARCHAR(50),\n    email VARCHAR(255),\n    address TEXT,\n    city VARCHAR(100),\n    state VARCHAR(100),\n    country VARCHAR(100),\n    postal_code VARCHAR(20),\n    manager_id INTEGER REFERENCES users(id),\n    status VARCHAR(20) DEFAULT 'active',\n    settings JSONB DEFAULT '{}',\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Categorías de Productos\nCREATE TABLE IF NOT EXISTS product_categories (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id) ON DELETE CASCADE,\n    name VARCHAR(255) NOT NULL,\n    description TEXT,\n    parent_id INTEGER REFERENCES product_categories(id),\n    status VARCHAR(20) DEFAULT 'active',\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Productos\nCREATE TABLE IF NOT EXISTS products (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id) ON DELETE CASCADE,\n    category_id INTEGER REFERENCES product_categories(id),\n    name VARCHAR(255) NOT NULL,\n    description TEXT,\n    sku VARCHAR(50),\n    barcode VARCHAR(50),\n    price DECIMAL(10,2) NOT NULL,\n    cost DECIMAL(10,2),\n    tax_rate DECIMAL(5,2) DEFAULT 0,\n    stock_alert_min INTEGER DEFAULT 0,\n    stock_alert_max INTEGER DEFAULT 0,\n    unit VARCHAR(20) DEFAULT 'unit',\n    weight DECIMAL(10,2),\n    dimensions VARCHAR(50),\n    image_url TEXT,\n    status VARCHAR(20) DEFAULT 'active',\n    is_service BOOLEAN DEFAULT FALSE,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Inventario por Sucursal\nCREATE TABLE IF NOT EXISTS store_inventory (\n    id SERIAL PRIMARY KEY,\n    store_id INTEGER REFERENCES stores(id) ON DELETE CASCADE,\n    product_id INTEGER REFERENCES products(id) ON DELETE CASCADE,\n    quantity INTEGER DEFAULT 0,\n    location VARCHAR(50),\n    last_recount_at TIMESTAMP WITH TIME ZONE,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE(store_id, product_id)\n);\n\n-- Clientes\nCREATE TABLE IF NOT EXISTS customers (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id) ON DELETE CASCADE,\n    name VARCHAR(255) NOT NULL,\n    email VARCHAR(255),\n    phone VARCHAR(50),\n    tax_id VARCHAR(50),\n    address TEXT,\n    city VARCHAR(100),\n    state VARCHAR(100),\n    country VARCHAR(100),\n    postal_code VARCHAR(20),\n    notes TEXT,\n    status VARCHAR(20) DEFAULT 'active',\n    credit_limit DECIMAL(10,2) DEFAULT 0,\n    balance DECIMAL(10,2) DEFAULT 0,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Proveedores\nCREATE TABLE IF NOT EXISTS suppliers (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id) ON DELETE CASCADE,\n    name VARCHAR(255) NOT NULL,\n    contact_name VARCHAR(255),\n    email VARCHAR(255),\n    phone VARCHAR(50),\n    tax_id VARCHAR(50),\n    address TEXT,\n    city VARCHAR(100),\n    state VARCHAR(100),\n    country VARCHAR(100),\n    postal_code VARCHAR(20),\n    notes TEXT,\n    status VARCHAR(20) DEFAULT 'active',\n    payment_terms INTEGER, -- días para pago\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Ventas\nCREATE TABLE IF NOT EXISTS sales (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id) ON DELETE CASCADE,\n    store_id INTEGER REFERENCES stores(id),\n    customer_id INTEGER REFERENCES customers(id),\n    user_id INTEGER REFERENCES users(id),\n    sale_number VARCHAR(50) UNIQUE,\n    date TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    subtotal DECIMAL(10,2) NOT NULL,\n    tax DECIMAL(10,2) DEFAULT 0,\n    discount DECIMAL(10,2) DEFAULT 0,\n    total DECIMAL(10,2) NOT NULL,\n    payment_method VARCHAR(50),\n    payment_status VARCHAR(20) DEFAULT 'pending',\n    notes TEXT,\n    status VARCHAR(20) DEFAULT 'pending',\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Detalles de Venta\nCREATE TABLE IF NOT EXISTS sale_items (\n    id SERIAL PRIMARY KEY,\n    sale_id INTEGER REFERENCES sales(id) ON DELETE CASCADE,\n    product_id INTEGER REFERENCES products(id),\n    quantity INTEGER NOT NULL,\n    unit_price DECIMAL(10,2) NOT NULL,\n    discount DECIMAL(10,2) DEFAULT 0,\n    tax DECIMAL(10,2) DEFAULT 0,\n    total DECIMAL(10,2) NOT NULL,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Compras\nCREATE TABLE IF NOT EXISTS purchases (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id) ON DELETE CASCADE,\n    store_id INTEGER REFERENCES stores(id),\n    supplier_id INTEGER REFERENCES suppliers(id),\n    user_id INTEGER REFERENCES users(id),\n    purchase_number VARCHAR(50) UNIQUE,\n    date TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    subtotal DECIMAL(10,2) NOT NULL,\n    tax DECIMAL(10,2) DEFAULT 0,\n    discount DECIMAL(10,2) DEFAULT 0,\n    total DECIMAL(10,2) NOT NULL,\n    payment_status VARCHAR(20) DEFAULT 'pending',\n    notes TEXT,\n    status VARCHAR(20) DEFAULT 'pending',\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Detalles de Compra\nCREATE TABLE IF NOT EXISTS purchase_items (\n    id SERIAL PRIMARY KEY,\n    purchase_id INTEGER REFERENCES purchases(id) ON DELETE CASCADE,\n    product_id INTEGER REFERENCES products(id),\n    quantity INTEGER NOT NULL,\n    unit_price DECIMAL(10,2) NOT NULL,\n    discount DECIMAL(10,2) DEFAULT 0,\n    tax DECIMAL(10,2) DEFAULT 0,\n    total DECIMAL(10,2) NOT NULL,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Roles y Permisos\nCREATE TABLE IF NOT EXISTS roles (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(50) NOT NULL,\n    description TEXT,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS permissions (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(50) NOT NULL,\n    description TEXT,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS role_permissions (\n    role_id INTEGER REFERENCES roles(id) ON DELETE CASCADE,\n    permission_id INTEGER REFERENCES permissions(id) ON DELETE CASCADE,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    PRIMARY KEY (role_id, permission_id)\n);\n\n-- Movimientos de Inventario\nCREATE TABLE IF NOT EXISTS inventory_movements (\n    id SERIAL PRIMARY KEY,\n    store_id INTEGER REFERENCES stores(id),\n    product_id INTEGER REFERENCES products(id),\n    user_id INTEGER REFERENCES users(id),\n    type VARCHAR(50) NOT NULL, -- entrada, salida, ajuste, transferencia\n    quantity INTEGER NOT NULL,\n    reference_type VARCHAR(50), -- venta, compra, ajuste, etc.\n    reference_id INTEGER,\n    notes TEXT,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Transferencias entre Sucursales\nCREATE TABLE IF NOT EXISTS store_transfers (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id),\n    from_store_id INTEGER REFERENCES stores(id),\n    to_store_id INTEGER REFERENCES stores(id),\n    user_id INTEGER REFERENCES users(id),\n    status VARCHAR(20) DEFAULT 'pending',\n    notes TEXT,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS store_transfer_items (\n    id SERIAL PRIMARY KEY,\n    transfer_id INTEGER REFERENCES store_transfers(id) ON DELETE CASCADE,\n    product_id INTEGER REFERENCES products(id),\n    quantity INTEGER NOT NULL,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Invitaciones\nCREATE TABLE IF NOT EXISTS invitations (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id) ON DELETE CASCADE,\n    inviter_id INTEGER REFERENCES users(id),\n    invitee_email VARCHAR(255) NOT NULL,\n    role VARCHAR(50) NOT NULL,\n    token VARCHAR(255) UNIQUE NOT NULL,\n    status VARCHAR(20) DEFAULT 'pending',\n    expires_at TIMESTAMP WITH TIME ZONE,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Auditoría\nCREATE TABLE IF NOT EXISTS audit_logs (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id),\n    user_id INTEGER REFERENCES users(id),\n    action VARCHAR(50) NOT NULL,\n    table_name VARCHAR(50) NOT NULL,\n    record_id INTEGER,\n    old_values JSONB,\n    new_values JSONB,\n    ip_address VARCHAR(45),\n    user_agent TEXT,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Configuración por Empresa\nCREATE TABLE IF NOT EXISTS company_settings (\n    id SERIAL PRIMARY KEY,\n    company_id INTEGER REFERENCES companies(id) ON DELETE CASCADE,\n    key VARCHAR(50) NOT NULL,\n    value TEXT,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE(company_id, key)\n);\n\n-- Índices\nCREATE INDEX IF NOT EXISTS idx_users_email ON users(email);\nCREATE INDEX IF NOT EXISTS idx_companies_name ON companies(name);\nCREATE INDEX IF NOT EXISTS idx_stores_company ON stores(company_id);\nCREATE INDEX IF NOT EXISTS idx_products_company ON products(company_id);\nCREATE INDEX IF NOT EXISTS idx_products_category ON products(category_id);\nCREATE INDEX IF NOT EXISTS idx_inventory_store_product ON store_inventory(store_id, product_id);\nCREATE INDEX IF NOT EXISTS idx_sales_company ON sales(company_id);\nCREATE INDEX IF NOT EXISTS idx_sales_store ON sales(store_id);\nCREATE INDEX IF NOT EXISTS idx_sales_customer ON sales(customer_id);\nCREATE INDEX IF NOT EXISTS idx_purchases_company ON purchases(company_id);\nCREATE INDEX IF NOT EXISTS idx_purchases_supplier ON purchases(supplier_id);\nCREATE INDEX IF NOT EXISTS idx_audit_logs_company ON audit_logs(company_id);\nCREATE INDEX IF NOT EXISTS idx_customers_company ON customers(company_id);\nCREATE INDEX IF NOT EXISTS idx_suppliers_company ON suppliers(company_id);","fullPath":"scripts/postgres/create-tables.sql","isBinary":false,"lastModified":1730142665003},"src/components/TextSizeControl.tsx":{"name":"TextSizeControl.tsx","type":"file","contents":"import React from 'react';\nimport { useTextSize } from '../context/TextSizeContext';\nimport { Minus, Plus } from 'lucide-react';\n\ninterface TextSizeControlProps {\n  type: 'sidebar' | 'config';\n}\n\nconst TextSizeControl: React.FC\u003cTextSizeControlProps\u003e = ({ type }) =\u003e {\n  const { \n    sidebarTextSize, \n    configTextSize, \n    setSidebarTextSize, \n    setConfigTextSize \n  } = useTextSize();\n\n  const sizes: ('xs' | 'sm' | 'base' | 'lg')[] = ['xs', 'sm', 'base', 'lg'];\n  const currentSize = type === 'sidebar' ? sidebarTextSize : configTextSize;\n  const setSize = type === 'sidebar' ? setSidebarTextSize : setConfigTextSize;\n\n  const getCurrentIndex = () =\u003e sizes.indexOf(currentSize);\n\n  const decrease = () =\u003e {\n    const currentIndex = getCurrentIndex();\n    if (currentIndex \u003e 0) {\n      setSize(sizes[currentIndex - 1]);\n    }\n  };\n\n  const increase = () =\u003e {\n    const currentIndex = getCurrentIndex();\n    if (currentIndex \u003c sizes.length - 1) {\n      setSize(sizes[currentIndex + 1]);\n    }\n  };\n\n  return (\n    \u003cdiv className=\"flex items-center space-x-4\"\u003e\n      \u003cspan className=\"text-sm font-medium text-gray-700\"\u003e\n        Tamaño del texto ({type === 'sidebar' ? 'Sidebar' : 'Configuración'}):\n      \u003c/span\u003e\n      \u003cdiv className=\"flex items-center space-x-2\"\u003e\n        \u003cbutton\n          onClick={decrease}\n          disabled={getCurrentIndex() === 0}\n          className={`p-1 rounded ${\n            getCurrentIndex() === 0 \n              ? 'text-gray-400 cursor-not-allowed' \n              : 'text-blue-600 hover:bg-blue-50'\n          }`}\n        \u003e\n          \u003cMinus size={16} /\u003e\n        \u003c/button\u003e\n        \u003cspan className=\"w-24 text-center font-medium\"\u003e\n          {currentSize === 'xs' ? 'Extra Pequeño' :\n           currentSize === 'sm' ? 'Pequeño' :\n           currentSize === 'base' ? 'Mediano' : 'Grande'}\n        \u003c/span\u003e\n        \u003cbutton\n          onClick={increase}\n          disabled={getCurrentIndex() === sizes.length - 1}\n          className={`p-1 rounded ${\n            getCurrentIndex() === sizes.length - 1\n              ? 'text-gray-400 cursor-not-allowed'\n              : 'text-blue-600 hover:bg-blue-50'\n          }`}\n        \u003e\n          \u003cPlus size={16} /\u003e\n        \u003c/button\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n};\n\nexport default TextSizeControl;","fullPath":"src/components/TextSizeControl.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/api/invitations/index.ts":{"name":"index.ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { getSession } from 'next-auth/react'\nimport { getDb } from '../../../services/db'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  const session = await getSession({ req })\n\n  if (!session) {\n    return res.status(401).json({ message: 'No autorizado' })\n  }\n\n  const db = await getDb()\n\n  if (req.method === 'POST') {\n    try {\n      const { companyId, inviteeEmail } = req.body\n      const inviterId = session.user.id\n\n      // Verificar si el usuario tiene permisos para invitar en esta empresa\n      const userCompany = await db.get(\n        'SELECT * FROM user_companies WHERE user_id = ? AND company_id = ?',\n        [inviterId, companyId]\n      )\n\n      if (!userCompany || !['admin', 'super_admin'].includes(userCompany.role)) {\n        return res.status(403).json({ message: 'No tienes permisos para invitar usuarios a esta empresa' })\n      }\n\n      // Crear la invitación\n      const result = await db.run(\n        'INSERT INTO invitations (company_id, inviter_id, invitee_email) VALUES (?, ?, ?)',\n        [companyId, inviterId, inviteeEmail]\n      )\n\n      res.status(201).json({ id: result.lastID, message: 'Invitación enviada exitosamente' })\n    } catch (error) {\n      console.error('Error al enviar la invitación:', error)\n      res.status(500).json({ message: 'Error al enviar la invitación' })\n    }\n  } else if (req.method === 'GET') {\n    try {\n      const invitations = await db.all(\n        'SELECT i.*, c.name as company_name FROM invitations i JOIN companies c ON i.company_id = c.id WHERE i.invitee_email = ?',\n        [session.user.email]\n      )\n      res.status(200).json(invitations)\n    } catch (error) {\n      console.error('Error al obtener las invitaciones:', error)\n      res.status(500).json({ message: 'Error al obtener las invitaciones' })\n    }\n  } else {\n    res.setHeader('Allow', ['POST', 'GET'])\n    res.status(405).end(`Method ${req.method} Not Allowed`)\n  }\n}","fullPath":"src/pages/api/invitations/index.ts","isBinary":false,"lastModified":1730142665003},"src/pages/api/permissions/index.ts":{"name":"index.ts","type":"file","contents":"import { NextApiRequest, NextApiResponse } from 'next'\nimport { getSession } from 'next-auth/react'\nimport { getDb } from '../../../services/db'\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  try {\n    const session = await getSession({ req })\n\n    if (!session?.user?.role) {\n      return res.status(401).json({ message: 'No autorizado' })\n    }\n\n    // Solo permitir super_admin\n    if (session.user.role !== 'super_admin') {\n      return res.status(403).json({ message: 'Acceso denegado. Se requiere rol de super administrador.' })\n    }\n\n    const db = await getDb()\n\n    if (req.method === 'GET') {\n      try {\n        // Obtener todos los permisos ordenados por nombre\n        const permissions = await db.all(`\n          SELECT id, name, description \n          FROM permissions \n          ORDER BY \n            CASE \n              WHEN name LIKE 'security.%' THEN 1\n              WHEN name LIKE 'company.%' THEN 2\n              WHEN name LIKE 'users.%' THEN 3\n              ELSE 4 \n            END,\n            name\n        `)\n        \n        res.status(200).json(permissions)\n      } catch (error) {\n        console.error('Error al obtener permisos:', error)\n        res.status(500).json({ message: 'Error al obtener permisos' })\n      }\n    } else {\n      res.setHeader('Allow', ['GET'])\n      res.status(405).end(`Method ${req.method} Not Allowed`)\n    }\n  } catch (error) {\n    console.error('Error en el handler:', error)\n    res.status(500).json({ message: 'Error interno del servidor' })\n  }\n}","fullPath":"src/pages/api/permissions/index.ts","isBinary":false,"lastModified":1730142665003},"src/pages/api/auth/[...nextauth].ts":{"name":"[...nextauth].ts","type":"file","contents":"import NextAuth from 'next-auth'\nimport CredentialsProvider from 'next-auth/providers/credentials'\nimport { getDb } from '../../../services/db'\nimport bcrypt from 'bcryptjs'\n\nexport default NextAuth({\n  providers: [\n    CredentialsProvider({\n      name: 'Credentials',\n      credentials: {\n        email: { label: \"Email\", type: \"text\" },\n        password: { label: \"Password\", type: \"password\" }\n      },\n      async authorize(credentials) {\n        try {\n          if (!credentials?.email || !credentials?.password) {\n            return null\n          }\n\n          const db = await getDb()\n          \n          // Obtener usuario con sus roles y permisos\n          const user = await db.get(`\n            SELECT u.*, uc.role, uc.is_creator, c.id as company_id, c.name as company_name,\n                   s.id as store_id, s.name as store_name\n            FROM users u \n            LEFT JOIN user_companies uc ON u.id = uc.user_id \n            LEFT JOIN companies c ON uc.company_id = c.id\n            LEFT JOIN stores s ON c.id = s.company_id AND s.is_main = 1\n            WHERE u.email = ?\n          `, [credentials.email])\n\n          if (!user) {\n            return null\n          }\n\n          const isPasswordValid = await bcrypt.compare(credentials.password, user.password)\n\n          if (!isPasswordValid) {\n            return null\n          }\n\n          // Determinar el rol del usuario\n          let role = 'user'\n          if (user.is_creator === 1) {\n            role = 'super_admin'\n          } else if (user.role) {\n            role = user.role\n          }\n\n          return {\n            id: user.id.toString(),\n            email: user.email,\n            name: user.name,\n            role: role,\n            currentCompany: {\n              id: user.company_id,\n              name: user.company_name\n            },\n            currentStore: {\n              id: user.store_id,\n              name: user.store_name\n            }\n          }\n        } catch (error) {\n          console.error('Error en authorize:', error)\n          return null\n        }\n      }\n    })\n  ],\n  callbacks: {\n    async jwt({ token, user }) {\n      if (user) {\n        token.id = user.id\n        token.role = user.role\n        token.currentCompany = user.currentCompany\n        token.currentStore = user.currentStore\n      }\n      return token\n    },\n    async session({ session, token }) {\n      if (session?.user) {\n        session.user.id = token.id as string\n        session.user.role = token.role as string\n        session.user.currentCompany = token.currentCompany\n        session.user.currentStore = token.currentStore\n      }\n      return session\n    }\n  },\n  pages: {\n    signIn: '/auth/login'\n  },\n  secret: process.env.NEXTAUTH_SECRET,\n  session: {\n    strategy: 'jwt',\n    maxAge: 24 * 60 * 60\n  }\n})","fullPath":"src/pages/api/auth/[...nextauth].ts","isBinary":false,"lastModified":1730142665003},"src/pages/dashboard/roles/index.tsx":{"name":"index.tsx","type":"file","contents":"import { useSession } from 'next-auth/react'\nimport { useRouter } from 'next/router'\nimport Layout from '../../../components/Layout'\nimport RoleManagement from '../../../components/RoleManagement'\n\nconst RolesPage = () =\u003e {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n\n  if (status === 'loading') {\n    return \u003cp\u003eCargando...\u003c/p\u003e\n  }\n\n  if (status === 'unauthenticated') {\n    router.push('/auth/login')\n    return null\n  }\n\n  // Verificar si el usuario tiene permisos para acceder a esta página\n  if (session?.user?.role !== 'super_admin') {\n    return (\n      \u003cLayout title=\"Acceso Denegado\"\u003e\n        \u003ch1 className=\"text-2xl font-bold mb-4\"\u003eAcceso Denegado\u003c/h1\u003e\n        \u003cp\u003eNo tienes permisos para acceder a esta página.\u003c/p\u003e\n      \u003c/Layout\u003e\n    )\n  }\n\n  return (\n    \u003cLayout title=\"Gestión de Roles y Permisos\"\u003e\n      \u003cdiv className=\"container mx-auto px-4 py-8\"\u003e\n        \u003ch1 className=\"text-3xl font-bold mb-6\"\u003eGestión de Roles y Permisos\u003c/h1\u003e\n        \u003cRoleManagement /\u003e\n      \u003c/div\u003e\n    \u003c/Layout\u003e\n  )\n}\n\nexport default RolesPage","fullPath":"src/pages/dashboard/roles/index.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/dashboard/users/index.tsx":{"name":"index.tsx","type":"file","contents":"import { useSession } from 'next-auth/react'\nimport { useRouter } from 'next/router'\nimport Layout from '../../../components/Layout'\nimport UserManagement from '../../../components/UserManagement'\n\nconst UsersPage = () =\u003e {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n\n  if (status === 'loading') {\n    return \u003cp\u003eCargando...\u003c/p\u003e\n  }\n\n  if (status === 'unauthenticated') {\n    router.push('/auth/login')\n    return null\n  }\n\n  // Verificar si el usuario tiene permisos para acceder a esta página\n  if (session?.user?.role !== 'super_admin' \u0026\u0026 session?.user?.role !== 'admin') {\n    return (\n      \u003cLayout title=\"Acceso Denegado\"\u003e\n        \u003ch1 className=\"text-2xl font-bold mb-4\"\u003eAcceso Denegado\u003c/h1\u003e\n        \u003cp\u003eNo tienes permisos para acceder a esta página.\u003c/p\u003e\n      \u003c/Layout\u003e\n    )\n  }\n\n  return (\n    \u003cLayout title=\"Gestión de Usuarios\"\u003e\n      \u003cdiv className=\"container mx-auto px-4 py-8\"\u003e\n        \u003ch1 className=\"text-3xl font-bold mb-6\"\u003eGestión de Usuarios\u003c/h1\u003e\n        \u003cUserManagement /\u003e\n      \u003c/div\u003e\n    \u003c/Layout\u003e\n  )\n}\n\nexport default UsersPage","fullPath":"src/pages/dashboard/users/index.tsx","isBinary":false,"lastModified":1730142665003},"src/components/ManageInvitations.tsx":{"name":"ManageInvitations.tsx","type":"file","contents":"import React, { useState, useEffect } from 'react'\nimport { useAlert } from '../context/AlertContext'\n\ntype Invitation = {\n  id: number;\n  company_name: string;\n  status: string;\n}\n\nconst ManageInvitations: React.FC = () =\u003e {\n  const [invitations, setInvitations] = useState\u003cInvitation[]\u003e([])\n  const { addAlert } = useAlert()\n\n  useEffect(() =\u003e {\n    fetchInvitations()\n  }, [])\n\n  const fetchInvitations = async () =\u003e {\n    try {\n      const response = await fetch('/api/invitations')\n      if (response.ok) {\n        const data = await response.json()\n        setInvitations(data)\n      } else {\n        addAlert('error', 'Error al obtener las invitaciones')\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al obtener las invitaciones')\n    }\n  }\n\n  const handleInvitationResponse = async (id: number, status: 'accepted' | 'rejected') =\u003e {\n    try {\n      const response = await fetch(`/api/invitations/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ status }),\n      })\n\n      if (response.ok) {\n        addAlert('success', `Invitación ${status === 'accepted' ? 'aceptada' : 'rechazada'} exitosamente`)\n        fetchInvitations()\n      } else {\n        const error = await response.text()\n        addAlert('error', `Error al responder a la invitación: ${error}`)\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al responder a la invitación')\n    }\n  }\n\n  return (\n    \u003cdiv className=\"mt-4\"\u003e\n      \u003ch3 className=\"text-lg font-semibold mb-2\"\u003eInvitaciones Pendientes\u003c/h3\u003e\n      {invitations.length \u003e 0 ? (\n        \u003cul className=\"space-y-2\"\u003e\n          {invitations.map((invitation) =\u003e (\n            \u003cli key={invitation.id} className=\"flex items-center justify-between bg-white p-2 rounded shadow\"\u003e\n              \u003cspan\u003e{invitation.company_name}\u003c/span\u003e\n              \u003cdiv\u003e\n                \u003cbutton\n                  onClick={() =\u003e handleInvitationResponse(invitation.id, 'accepted')}\n                  className=\"bg-green-500 text-white px-2 py-1 rounded mr-2\"\n                \u003e\n                  Aceptar\n                \u003c/button\u003e\n                \u003cbutton\n                  onClick={() =\u003e handleInvitationResponse(invitation.id, 'rejected')}\n                  className=\"bg-red-500 text-white px-2 py-1 rounded\"\n                \u003e\n                  Rechazar\n                \u003c/button\u003e\n              \u003c/div\u003e\n            \u003c/li\u003e\n          ))}\n        \u003c/ul\u003e\n      ) : (\n        \u003cp\u003eNo tienes invitaciones pendientes.\u003c/p\u003e\n      )}\n    \u003c/div\u003e\n  )\n}\n\nexport default ManageInvitations","fullPath":"src/components/ManageInvitations.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/dashboard/products/new.tsx":{"name":"new.tsx","type":"file","contents":"import { useState } from 'react'\nimport { useRouter } from 'next/router'\nimport Layout from '../../../components/Layout'\nimport { useAlert } from '../../../context/AlertContext'\nimport { useSession } from 'next-auth/react'\n\nconst NewProduct = () =\u003e {\n  const [name, setName] = useState('')\n  const [price, setPrice] = useState('')\n  const [storeId, setStoreId] = useState('')\n  const [stores, setStores] = useState\u003c{ id: number; name: string }[]\u003e([])\n  const router = useRouter()\n  const { addAlert } = useAlert()\n  const { data: session, status } = useSession()\n\n  useState(() =\u003e {\n    if (status === 'authenticated') {\n      fetchStores()\n    }\n  }, [status])\n\n  const fetchStores = async () =\u003e {\n    try {\n      const response = await fetch('/api/stores')\n      if (response.ok) {\n        const data = await response.json()\n        setStores(data)\n        if (data.length \u003e 0) {\n          setStoreId(data[0].id.toString())\n        }\n      } else {\n        addAlert('error', 'Error al obtener las tiendas')\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al obtener las tiendas')\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) =\u003e {\n    e.preventDefault()\n    try {\n      const response = await fetch('/api/products', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, price: parseFloat(price), storeId: parseInt(storeId) }),\n      })\n\n      if (response.ok) {\n        addAlert('success', 'Producto creado exitosamente')\n        router.push('/dashboard/products')\n      } else {\n        const error = await response.text()\n        addAlert('error', `Error al crear el producto: ${error}`)\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al crear el producto')\n    }\n  }\n\n  if (status === 'loading') {\n    return \u003cp\u003eCargando...\u003c/p\u003e\n  }\n\n  if (status === 'unauthenticated') {\n    router.push('/auth/login')\n    return null\n  }\n\n  return (\n    \u003cLayout title=\"Nuevo Producto\"\u003e\n      \u003ch1 className=\"text-2xl font-bold mb-4\"\u003eCrear Nuevo Producto\u003c/h1\u003e\n      \u003cform onSubmit={handleSubmit} className=\"space-y-4\"\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"name\" className=\"block mb-1\"\u003eNombre del Producto:\u003c/label\u003e\n          \u003cinput\n            type=\"text\"\n            id=\"name\"\n            value={name}\n            onChange={(e) =\u003e setName(e.target.value)}\n            required\n            className=\"w-full p-2 border rounded\"\n          /\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"price\" className=\"block mb-1\"\u003ePrecio:\u003c/label\u003e\n          \u003cinput\n            type=\"number\"\n            id=\"price\"\n            value={price}\n            onChange={(e) =\u003e setPrice(e.target.value)}\n            required\n            step=\"0.01\"\n            min=\"0\"\n            className=\"w-full p-2 border rounded\"\n          /\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n          \u003clabel htmlFor=\"store\" className=\"block mb-1\"\u003eTienda:\u003c/label\u003e\n          \u003cselect\n            id=\"store\"\n            value={storeId}\n            onChange={(e) =\u003e setStoreId(e.target.value)}\n            required\n            className=\"w-full p-2 border rounded\"\n          \u003e\n            {stores.map((store) =\u003e (\n              \u003coption key={store.id} value={store.id}\u003e{store.name}\u003c/option\u003e\n            ))}\n          \u003c/select\u003e\n        \u003c/div\u003e\n        \u003cbutton type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\u003e\n          Crear Producto\n        \u003c/button\u003e\n      \u003c/form\u003e\n    \u003c/Layout\u003e\n  )\n}\n\nexport default NewProduct","fullPath":"src/pages/dashboard/products/new.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/dashboard/stores/index.tsx":{"name":"index.tsx","type":"file","contents":"import { useSession } from 'next-auth/react'\nimport { useRouter } from 'next/router'\nimport Layout from '../../../components/Layout'\nimport { useEffect, useState } from 'react'\nimport Link from 'next/link'\n\ntype Store = {\n  id: number\n  name: string\n  is_main: boolean\n}\n\nconst StoresList = () =\u003e {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n  const [stores, setStores] = useState\u003cStore[]\u003e([])\n\n  useEffect(() =\u003e {\n    if (status === 'authenticated') {\n      fetchStores()\n    }\n  }, [status])\n\n  const fetchStores = async () =\u003e {\n    try {\n      const response = await fetch('/api/stores')\n      if (response.ok) {\n        const data = await response.json()\n        setStores(data)\n      } else {\n        console.error('Error al obtener las sucursales')\n      }\n    } catch (error) {\n      console.error('Error:', error)\n    }\n  }\n\n  if (status === 'loading') {\n    return \u003cp\u003eCargando...\u003c/p\u003e\n  }\n\n  if (status === 'unauthenticated') {\n    router.push('/auth/signin')\n    return null\n  }\n\n  return (\n    \u003cLayout title=\"Mis Sucursales\"\u003e\n      \u003ch1\u003eMis Sucursales\u003c/h1\u003e\n      {stores.length \u003e 0 ? (\n        \u003cul\u003e\n          {stores.map((store) =\u003e (\n            \u003cli key={store.id}\u003e\n              {store.name} {store.is_main \u0026\u0026 '(Principal)'}\n              \u003cLink href={`/dashboard/stores/${store.id}`}\u003e\n                \u003ca\u003eVer detalles\u003c/a\u003e\n              \u003c/Link\u003e\n            \u003c/li\u003e\n          ))}\n        \u003c/ul\u003e\n      ) : (\n        \u003cp\u003eNo tienes sucursales registradas.\u003c/p\u003e\n      )}\n      \u003cLink href=\"/dashboard/stores/new\"\u003e\n        \u003ca\u003eCrear nueva sucursal\u003c/a\u003e\n      \u003c/Link\u003e\n    \u003c/Layout\u003e\n  )\n}\n\nexport default StoresList","fullPath":"src/pages/dashboard/stores/index.tsx","isBinary":false,"lastModified":1730142665003},"scripts/postgres/roles-permissions.sql":{"name":"roles-permissions.sql","type":"file","contents":"-- Roles básicos\nINSERT INTO roles (name, description) VALUES\n    ('super_admin', 'Administrador con acceso total al sistema'),\n    ('admin', 'Administrador de empresa con acceso limitado'),\n    ('vendedor', 'Usuario con permisos de ventas y gestión básica'),\n    ('usuariojr', 'Usuario con permisos básicos de consulta')\nON CONFLICT (name) DO NOTHING;\n\n-- Permisos del sistema\nINSERT INTO permissions (name, description) VALUES\n    -- Permisos de Empresa\n    ('company.view', 'Ver información de la empresa'),\n    ('company.edit', 'Editar información de la empresa'),\n    ('company.delete', 'Eliminar empresa'),\n    ('company.create', 'Crear nueva empresa'),\n    \n    -- Permisos de Usuarios\n    ('users.view', 'Ver usuarios'),\n    ('users.create', 'Crear usuarios'),\n    ('users.edit', 'Editar usuarios'),\n    ('users.delete', 'Eliminar usuarios'),\n    ('users.invite', 'Invitar usuarios'),\n    \n    -- Permisos de Sucursales\n    ('stores.view', 'Ver sucursales'),\n    ('stores.create', 'Crear sucursales'),\n    ('stores.edit', 'Editar sucursales'),\n    ('stores.delete', 'Eliminar sucursales'),\n    \n    -- Permisos de Productos\n    ('products.view', 'Ver productos'),\n    ('products.create', 'Crear productos'),\n    ('products.edit', 'Editar productos'),\n    ('products.delete', 'Eliminar productos'),\n    \n    -- Permisos de Inventario\n    ('inventory.view', 'Ver inventario'),\n    ('inventory.adjust', 'Ajustar inventario'),\n    ('inventory.transfer', 'Transferir inventario'),\n    \n    -- Permisos de Ventas\n    ('sales.view', 'Ver ventas'),\n    ('sales.create', 'Crear ventas'),\n    ('sales.edit', 'Editar ventas'),\n    ('sales.cancel', 'Cancelar ventas'),\n    ('sales.reports', 'Ver reportes de ventas'),\n    \n    -- Permisos de Compras\n    ('purchases.view', 'Ver compras'),\n    ('purchases.create', 'Crear compras'),\n    ('purchases.edit', 'Editar compras'),\n    ('purchases.cancel', 'Cancelar compras'),\n    \n    -- Permisos de Clientes\n    ('customers.view', 'Ver clientes'),\n    ('customers.create', 'Crear clientes'),\n    ('customers.edit', 'Editar clientes'),\n    ('customers.delete', 'Eliminar clientes'),\n    \n    -- Permisos de Proveedores\n    ('suppliers.view', 'Ver proveedores'),\n    ('suppliers.create', 'Crear proveedores'),\n    ('suppliers.edit', 'Editar proveedores'),\n    ('suppliers.delete', 'Eliminar proveedores'),\n    \n    -- Permisos de Configuración\n    ('settings.view', 'Ver configuración'),\n    ('settings.edit', 'Editar configuración'),\n    \n    -- Permisos de Reportes\n    ('reports.sales', 'Ver reportes de ventas'),\n    ('reports.inventory', 'Ver reportes de inventario'),\n    ('reports.financial', 'Ver reportes financieros'),\n    \n    -- Permisos de Auditoría\n    ('audit.view', 'Ver logs de auditoría'),\n    ('roles.manage', 'Gestionar roles y permisos')\nON CONFLICT (name) DO NOTHING;\n\n-- Asignar TODOS los permisos al super_admin\nINSERT INTO role_permissions (role_id, permission_id)\nSELECT r.id, p.id\nFROM roles r\nCROSS JOIN permissions p\nWHERE r.name = 'super_admin'\nON CONFLICT (role_id, permission_id) DO NOTHING;\n\n-- Asignar permisos al admin\nINSERT INTO role_permissions (role_id, permission_id)\nSELECT r.id, p.id\nFROM roles r\nCROSS JOIN permissions p\nWHERE r.name = 'admin' \nAND p.name IN (\n    'company.view', 'company.edit',\n    'users.view', 'users.create', 'users.edit', 'users.invite',\n    'stores.view', 'stores.create', 'stores.edit',\n    'products.view', 'products.create', 'products.edit', 'products.delete',\n    'inventory.view', 'inventory.adjust', 'inventory.transfer',\n    'sales.view', 'sales.create', 'sales.edit', 'sales.reports',\n    'purchases.view', 'purchases.create', 'purchases.edit',\n    'customers.view', 'customers.create', 'customers.edit',\n    'suppliers.view', 'suppliers.create', 'suppliers.edit',\n    'settings.view', 'settings.edit',\n    'reports.sales', 'reports.inventory', 'reports.financial'\n)\nON CONFLICT (role_id, permission_id) DO NOTHING;\n\n-- Asignar permisos al vendedor\nINSERT INTO role_permissions (role_id, permission_id)\nSELECT r.id, p.id\nFROM roles r\nCROSS JOIN permissions p\nWHERE r.name = 'vendedor'\nAND p.name IN (\n    'company.view',\n    'stores.view',\n    'products.view',\n    'inventory.view',\n    'sales.view', 'sales.create', 'sales.edit',\n    'customers.view', 'customers.create', 'customers.edit',\n    'reports.sales'\n)\nON CONFLICT (role_id, permission_id) DO NOTHING;\n\n-- Asignar permisos al usuariojr\nINSERT INTO role_permissions (role_id, permission_id)\nSELECT r.id, p.id\nFROM roles r\nCROSS JOIN permissions p\nWHERE r.name = 'usuariojr'\nAND p.name IN (\n    'company.view',\n    'stores.view',\n    'products.view',\n    'inventory.view',\n    'sales.view',\n    'customers.view'\n)\nON CONFLICT (role_id, permission_id) DO NOTHING;","fullPath":"scripts/postgres/roles-permissions.sql","isBinary":false,"lastModified":1730142665003},"src/pages/dashboard/products/index.tsx":{"name":"index.tsx","type":"file","contents":"import React, { useState, useEffect } from 'react'\nimport { useSession } from 'next-auth/react'\nimport { useRouter } from 'next/router'\nimport Layout from '../../../components/Layout'\nimport { useAlert } from '../../../context/AlertContext'\nimport { Plus, Search, ChevronDown, ChevronUp, Edit, Trash2, Eye } from 'lucide-react'\nimport Link from 'next/link'\n\ntype Product = {\n  id: number\n  name: string\n  price: number\n  store_id: number\n}\n\ntype Store = {\n  id: number\n  name: string\n}\n\nexport default function ProductosPage() {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n  const { addAlert } = useAlert()\n  const [products, setProducts] = useState\u003cProduct[]\u003e([])\n  const [stores, setStores] = useState\u003cStore[]\u003e([])\n  const [selectedStore, setSelectedStore] = useState\u003cstring\u003e('')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [sortColumn, setSortColumn] = useState\u003ckeyof Product\u003e('name')\n  const [sortDirection, setSortDirection] = useState\u003c'asc' | 'desc'\u003e('asc')\n\n  useEffect(() =\u003e {\n    if (status === 'authenticated') {\n      fetchStores()\n    }\n  }, [status])\n\n  useEffect(() =\u003e {\n    if (selectedStore) {\n      fetchProducts(selectedStore)\n    }\n  }, [selectedStore])\n\n  const fetchStores = async () =\u003e {\n    try {\n      const response = await fetch('/api/stores')\n      if (response.ok) {\n        const data = await response.json()\n        setStores(data)\n        if (data.length \u003e 0) {\n          setSelectedStore(data[0].id.toString())\n        }\n      } else {\n        addAlert('error', 'Error al obtener las tiendas')\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al obtener las tiendas')\n    }\n  }\n\n  const fetchProducts = async (storeId: string) =\u003e {\n    try {\n      const response = await fetch(`/api/products?storeId=${storeId}`)\n      if (response.ok) {\n        const data = await response.json()\n        setProducts(data)\n      } else {\n        addAlert('error', 'Error al obtener los productos')\n      }\n    } catch (error) {\n      addAlert('error', 'Error de conexión al obtener los productos')\n    }\n  }\n\n  const handleSort = (column: keyof Product) =\u003e {\n    if (column === sortColumn) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc')\n    } else {\n      setSortColumn(column)\n      setSortDirection('asc')\n    }\n  }\n\n  const sortedProducts = [...products].sort((a, b) =\u003e {\n    if (a[sortColumn] \u003c b[sortColumn]) return sortDirection === 'asc' ? -1 : 1\n    if (a[sortColumn] \u003e b[sortColumn]) return sortDirection === 'asc' ? 1 : -1\n    return 0\n  })\n\n  const filteredProducts = sortedProducts.filter(product =\u003e\n    product.name.toLowerCase().includes(searchTerm.toLowerCase())\n  )\n\n  if (status === 'loading') {\n    return \u003cp\u003eCargando...\u003c/p\u003e\n  }\n\n  if (status === 'unauthenticated') {\n    router.push('/auth/login')\n    return null\n  }\n\n  return (\n    \u003cLayout title=\"Productos\"\u003e\n      \u003cdiv className=\"min-h-screen bg-gray-100 p-4\"\u003e\n        \u003cdiv className=\"max-w-7xl mx-auto\"\u003e\n          \u003cdiv className=\"bg-white shadow-sm rounded-lg p-3 mb-4\"\u003e\n            \u003ch1 className=\"text-lg font-medium text-gray-800 mb-2\"\u003eGestión de Productos\u003c/h1\u003e\n            \u003cdiv className=\"h-px bg-gray-200 mt-1 mb-3\"\u003e\u003c/div\u003e\n            \u003cdiv className=\"flex space-x-2\"\u003e\n              \u003cdiv className=\"relative flex-grow\"\u003e\n                \u003cSearch className=\"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 w-3 h-3\" /\u003e\n                \u003cinput\n                  type=\"text\"\n                  placeholder=\"Buscar productos...\"\n                  value={searchTerm}\n                  onChange={(e) =\u003e setSearchTerm(e.target.value)}\n                  className=\"pl-7 pr-2 py-1 text-sm w-full h-8 border rounded\"\n                /\u003e\n              \u003c/div\u003e\n              \u003cselect\n                value={selectedStore}\n                onChange={(e) =\u003e setSelectedStore(e.target.value)}\n                className=\"w-[140px] h-8 text-sm border rounded\"\n              \u003e\n                {stores.map((store) =\u003e (\n                  \u003coption key={store.id} value={store.id}\u003e{store.name}\u003c/option\u003e\n                ))}\n              \u003c/select\u003e\n              \u003cLink href=\"/dashboard/products/new\"\u003e\n                \u003ca className=\"bg-blue-500 text-white px-2 py-1 rounded text-sm flex items-center\"\u003e\n                  \u003cPlus className=\"w-3 h-3 mr-1\" /\u003e Agregar\n                \u003c/a\u003e\n              \u003c/Link\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n\n          \u003cdiv className=\"bg-white shadow-sm rounded-lg overflow-hidden\"\u003e\n            \u003ctable className=\"min-w-full divide-y divide-gray-200\"\u003e\n              \u003cthead className=\"bg-gray-50\"\u003e\n                \u003ctr\u003e\n                  \u003cth\n                    scope=\"col\"\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\"\n                    onClick={() =\u003e handleSort('name')}\n                  \u003e\n                    Nombre\n                    {sortColumn === 'name' \u0026\u0026 (sortDirection === 'asc' ? \u003cChevronUp className=\"inline w-4 h-4 ml-1\" /\u003e : \u003cChevronDown className=\"inline w-4 h-4 ml-1\" /\u003e)}\n                  \u003c/th\u003e\n                  \u003cth\n                    scope=\"col\"\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\"\n                    onClick={() =\u003e handleSort('price')}\n                  \u003e\n                    Precio\n                    {sortColumn === 'price' \u0026\u0026 (sortDirection === 'asc' ? \u003cChevronUp className=\"inline w-4 h-4 ml-1\" /\u003e : \u003cChevronDown className=\"inline w-4 h-4 ml-1\" /\u003e)}\n                  \u003c/th\u003e\n                  \u003cth scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\"\u003e\n                    Acciones\n                  \u003c/th\u003e\n                \u003c/tr\u003e\n              \u003c/thead\u003e\n              \u003ctbody className=\"bg-white divide-y divide-gray-200\"\u003e\n                {filteredProducts.map((product) =\u003e (\n                  \u003ctr key={product.id}\u003e\n                    \u003ctd className=\"px-6 py-4 whitespace-nowrap\"\u003e{product.name}\u003c/td\u003e\n                    \u003ctd className=\"px-6 py-4 whitespace-nowrap\"\u003e${product.price.toFixed(2)}\u003c/td\u003e\n                    \u003ctd className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\"\u003e\n                      \u003cbutton className=\"text-indigo-600 hover:text-indigo-900 mr-2\"\u003e\n                        \u003cEye className=\"w-4 h-4\" /\u003e\n                      \u003c/button\u003e\n                      \u003cLink href={`/dashboard/products/${product.id}`}\u003e\n                        \u003ca className=\"text-indigo-600 hover:text-indigo-900 mr-2\"\u003e\n                          \u003cEdit className=\"w-4 h-4\" /\u003e\n                        \u003c/a\u003e\n                      \u003c/Link\u003e\n                      \u003cbutton\n                        onClick={() =\u003e {/* Implementar lógica de eliminación */}}\n                        className=\"text-red-600 hover:text-red-900\"\n                      \u003e\n                        \u003cTrash2 className=\"w-4 h-4\" /\u003e\n                      \u003c/button\u003e\n                    \u003c/td\u003e\n                  \u003c/tr\u003e\n                ))}\n              \u003c/tbody\u003e\n            \u003c/table\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/Layout\u003e\n  )\n}","fullPath":"src/pages/dashboard/products/index.tsx","isBinary":false,"lastModified":1730142665003},"src/pages/dashboard/settings/index.tsx":{"name":"index.tsx","type":"file","contents":"import React, { useState } from 'react'\nimport { useSession } from 'next-auth/react'\nimport Layout from '../../../components/Layout'\nimport { useAlert } from '../../../context/AlertContext'\nimport { \n  Settings as SettingsIcon, \n  Users, \n  Bell, \n  Link2, \n  Palette, \n  Shield, \n  Database, \n  Lock \n} from 'lucide-react'\nimport { useRouter } from 'next/router'\nimport InviteUser from '../../../components/InviteUser'\nimport RoleManagement from '../../../components/RoleManagement'\nimport TextSizeControl from '../../../components/TextSizeControl'\nimport { useTextSize } from '../../../context/TextSizeContext'\nimport UserManagement from '../../../components/UserManagement'\n\ntype TabType = {\n  id: string\n  label: string\n  icon: React.ElementType\n}\n\nconst SettingsPage = () =\u003e {\n  const [activeTab, setActiveTab] = useState('general')\n  const { data: session, status } = useSession()\n  const router = useRouter()\n  const { addAlert } = useAlert()\n  const { configTextSize } = useTextSize()\n\n  if (status === 'loading') {\n    return (\n      \u003cLayout title=\"Cargando...\"\u003e\n        \u003cdiv className=\"flex justify-center items-center min-h-screen\"\u003e\n          \u003cdiv className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"\u003e\u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/Layout\u003e\n    )\n  }\n\n  if (status === 'unauthenticated') {\n    router.push('/auth/login')\n    return null\n  }\n\n  const tabs: TabType[] = [\n    { id: 'general', label: 'General', icon: SettingsIcon },\n    { id: 'users', label: 'Usuarios', icon: Users },\n    { id: 'notifications', label: 'Notificaciones', icon: Bell },\n    { id: 'integrations', label: 'Integraciones', icon: Link2 },\n    { id: 'appearance', label: 'Apariencia', icon: Palette },\n    { id: 'security', label: 'Seguridad', icon: Shield },\n    { id: 'database', label: 'Base de Datos', icon: Database },\n    { id: 'permissions', label: 'Roles y Permisos', icon: Lock }\n  ]\n\n  const filteredTabs = session?.user?.role === 'super_admin' \n    ? tabs \n    : tabs.filter(tab =\u003e tab.id !== 'permissions')\n\n  const getTextSizeClass = () =\u003e {\n    switch (configTextSize) {\n      case 'xs': return 'text-xs'\n      case 'sm': return 'text-sm'\n      case 'lg': return 'text-lg'\n      default: return 'text-base'\n    }\n  }\n\n  const renderTabContent = () =\u003e {\n    switch (activeTab) {\n      case 'general':\n        return (\n          \u003cdiv\u003e\n            \u003ch2 className=\"text-2xl font-semibold mb-4\"\u003eConfiguración General\u003c/h2\u003e\n            \u003cdiv className=\"bg-white p-6 rounded-lg shadow-sm\"\u003e\n              \u003cdiv className=\"space-y-6\"\u003e\n                \u003cdiv\u003e\n                  \u003ch3 className=\"text-lg font-medium mb-2\"\u003eInformación de la Empresa\u003c/h3\u003e\n                  \u003cdiv className=\"grid grid-cols-2 gap-4\"\u003e\n                    \u003cdiv\u003e\n                      \u003clabel className=\"block text-sm font-medium text-gray-700\"\u003e\n                        Nombre de la Empresa\n                      \u003c/label\u003e\n                      \u003cinput\n                        type=\"text\"\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm\"\n                        value={session?.user?.currentCompany?.name || ''}\n                        readOnly\n                      /\u003e\n                    \u003c/div\u003e\n                  \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cInviteUser /\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        )\n      case 'users':\n        return (\n          \u003cdiv\u003e\n            \u003ch2 className=\"text-2xl font-semibold mb-4\"\u003eGestión de Usuarios\u003c/h2\u003e\n            \u003cUserManagement /\u003e\n          \u003c/div\u003e\n        )\n      case 'appearance':\n        return (\n          \u003cdiv\u003e\n            \u003ch2 className=\"text-2xl font-semibold mb-4\"\u003eConfiguración de Apariencia\u003c/h2\u003e\n            \u003cdiv className=\"bg-white p-6 rounded-lg shadow-sm space-y-6\"\u003e\n              \u003cTextSizeControl type=\"sidebar\" /\u003e\n              \u003cTextSizeControl type=\"config\" /\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        )\n      case 'permissions':\n        return session?.user?.role === 'super_admin' ? (\n          \u003cdiv\u003e\n            \u003ch2 className=\"text-2xl font-semibold mb-4\"\u003eGestión de Roles y Permisos\u003c/h2\u003e\n            \u003cRoleManagement /\u003e\n          \u003c/div\u003e\n        ) : null\n      default:\n        return (\n          \u003cdiv\u003e\n            \u003ch2 className=\"text-2xl font-semibold mb-4\"\u003e\n              {tabs.find(tab =\u003e tab.id === activeTab)?.label || activeTab}\n            \u003c/h2\u003e\n            \u003cdiv className=\"bg-white p-6 rounded-lg shadow-sm\"\u003e\n              \u003cp className=\"text-gray-500\"\u003eEsta sección está en desarrollo...\u003c/p\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        )\n    }\n  }\n\n  return (\n    \u003cLayout title=\"Configuración\"\u003e\n      \u003cdiv className=\"container mx-auto px-4 py-8\"\u003e\n        \u003ch1 className=\"text-3xl font-bold mb-6\"\u003eConfiguración\u003c/h1\u003e\n        \n        \u003cdiv className=\"flex\"\u003e\n          {/* Sidebar de pestañas */}\n          \u003cdiv className=\"w-1/4 pr-4\"\u003e\n            \u003cnav className=\"space-y-1\"\u003e\n              {filteredTabs.map((tab) =\u003e {\n                const Icon = tab.icon\n                return (\n                  \u003cbutton\n                    key={tab.id}\n                    onClick={() =\u003e setActiveTab(tab.id)}\n                    className={`flex items-center px-3 py-2 w-full text-left rounded-lg ${getTextSizeClass()} ${\n                      activeTab === tab.id\n                        ? 'bg-blue-50 text-blue-700'\n                        : 'text-gray-700 hover:bg-gray-50'\n                    }`}\n                  \u003e\n                    \u003cIcon className=\"w-5 h-5 mr-2\" /\u003e\n                    {tab.label}\n                  \u003c/button\u003e\n                )\n              })}\n            \u003c/nav\u003e\n          \u003c/div\u003e\n\n          {/* Contenido de la pestaña activa */}\n          \u003cdiv className=\"w-3/4\"\u003e\n            {renderTabContent()}\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/Layout\u003e\n  )\n}\n\nexport default SettingsPage","fullPath":"src/pages/dashboard/settings/index.tsx","isBinary":false,"lastModified":1730142665003}},"canAdministrate":true,"canChangeVisibility":true,"canFork":true,"canForkToPersonal":true,"canMakePrivate":true,"canManage":true,"canUpdateSettings":true,"canUploadFiles":true,"canUseCorsProxy":true,"canUseLocalhostAccess":true,"canUsePaidFeatures":true,"canView":true,"commercial":true,"currentUserIsOwner":true,"dependencies":{"jpack":{"warnings":{},"appDependencies":{"react":{"main":"index.js","version":"16.8.0","dependencies":{"scheduler":"scheduler@0.13.0","prop-types":"prop-types@15.6.2","loose-envify":"loose-envify@1.4.0","object-assign":"object-assign@4.1.1"}},"react-dom":{"main":"index.js","browser":{"./server.js":"./server.browser.js","./unstable-fizz.js":"./unstable-fizz.browser.js"},"version":"16.8.0","dependencies":{"react":"react@16.8.0","scheduler":"scheduler@0.13.0","prop-types":"prop-types@15.6.2","loose-envify":"loose-envify@1.4.0","object-assign":"object-assign@4.1.1"}}},"resDependencies":{"js-tokens@4.0.0":{"dependencies":{}},"scheduler@0.13.0":{"main":"index.js","dependencies":{"loose-envify":"loose-envify@1.4.0","object-assign":"object-assign@4.1.1"}},"prop-types@15.6.2":{"main":"index.js","dependencies":{"loose-envify":"loose-envify@1.4.0","object-assign":"object-assign@4.1.1"}},"loose-envify@1.4.0":{"main":"index.js","dependencies":{"js-tokens":"js-tokens@4.0.0"}},"object-assign@4.1.1":{"dependencies":{}}}},"externalDeps":[],"externalResources":[]},"description":"alguas mejoras y probleams en obtener los usuarios en bolt.new","editedAt":"2024-10-28T19:11:07.480Z","forkTargets":[{"action":"fork","default":true,"target":{"avatar":"https://ghavatars.staticblitz.com/ranmrojas.png","kind":"USER","name":"ranmrojas","provider":null,"slug":"ranmrojas"}}],"forks":0,"framework":{"logoDarkUrl":"https://c.staticblitz.com/assets/frameworks/next-dark-e07aecceb66f0cb0c7d77745658c403d53376f4b8fa0132a67a8fbdf45c07f4b.svg","logoUrl":"https://c.staticblitz.com/assets/frameworks/next-efd65c17aa3eabaa6d1c8f121c08015f18eff10b3f410bba206e10c52e8a50b9.svg","slug":"nextjs"},"frozen":null,"guestId":null,"id":32154367,"invitees":[],"lastEditor":{"username":"ranmrojas"},"localhostAccessEnabled":true,"organization":null,"organizationMemberRole":null,"owner":{"avatar":"https://ghavatars.staticblitz.com/ranmrojas.png","name":"ranmrojas","username":"ranmrojas"},"preset":"bolt","settings":{"compile":{"action":"hmr","trigger":"save","clearConsole":true}},"slug":"crm-v00084-r5rine","title":"crm v0.0.0.84(forked)","userIsParticipant":false,"views":1,"visibility":"private","webcontainerBased":true,"editorLivePresence":false}}</script>
<script>
if (typeof Analytics !== 'undefined') {
  Analytics.page();
} else if (typeof analytics !== 'undefined') {
  analytics.page(); 
}
</script>






<div data-react-component="App"></div>



</body>
</html>
